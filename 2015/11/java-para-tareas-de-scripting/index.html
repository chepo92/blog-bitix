<!DOCTYPE html><html lang="es"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="pico.dev"><meta name="keywords" content="java, programacion, tapestry, linux, gnu, gnu/linux, arch, arch linux, software, software libre, html, css, javascript"><meta name="description" content="Java puede emplearse para cualquier propósito desde aplicaciones web en la parte servidora, aplicaciones de escritorio como escribí en dos artículos introductorios sobre JavaFX, juegos con alta calidad gráfica incluso para dispositivos de capacidades más reducidas como IoT o embebidos y verdaderamente limitados. Para cualquier plataforma en la que haya disponible una JVM se pueden ejecutar aplicaciones programadas con el lenguaje Java. Sin embargo, hay multitud de otros lenguajes aunque solo una docena con un porcentaje de uso significativo que tratan de ocupar nichos de funcionalidades específicas. &hellip;"><base href="https://picodotdev.github.io/blog-bitix/"><title>Java para tareas de «scripting»</title><link rel="author" type="text/plain" href="humans.txt"><link rel="shortcut icon" href="assets/favicon.ico"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/apple-touch-icon-144-precomposed.png"><link rel="canonical" href="https://picodotdev.github.io/blog-bitix/2015/11/java-para-tareas-de-scripting/"><link href="index.xml" rel="alternate" type="application/rss+xml" title="Blog Bitix"><link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Serif:400,700italic,700,400italic"><link rel="stylesheet" type="text/css" href="//www.google.com/cse/api/branding.css"><link rel="stylesheet" type="text/css" href="assets/libs/bootstrap-3.3.6-dist/css/bootstrap.min.css"><link rel="stylesheet" href="assets/libs/Gallery-2.17.0/css/blueimp-gallery.min.css"><link rel="stylesheet" href="assets/libs/Bootstrap-Image-Gallery-3.3.6/css/bootstrap-image-gallery.min.css"><link rel="stylesheet" type="text/css" href="assets/css/main.css"><script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script type="text/javascript">(adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: 'ca-pub-3533636310991304',
      enable_page_level_ads: true
    });</script><script type="text/javascript" async>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-12874075-4', 'picodotdev.github.io');
    ga('send', 'pageview');</script><script type="text/javascript" src="assets/libs/require.min.js" data-main="assets/js/main" async></script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" async="async"></script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=custom-share-buttons" async="async"></script></head><body><div class="container"><div class="row"><header><div class="row"><div class="col-md-4 col-md-offset-4"><h2 class="title"><a href="https://picodotdev.github.io/blog-bitix/">Blog Bitix</a></h2><div class="links"><a href="index.xml" title="¡Suscríbete a Blog Bitix!"><img src="assets/images/rss.png" class="icon"></a><a href="https://twitter.com/picodotdev/" title="¡Sígueme en twitter!"><img src="assets/images/twitter.svg" class="icon"></a><a href="https://plus.google.com/114317443908384387611/posts" title="¡Sigue a Blog Bitix en Google&#43;!"><img src="assets/images/google-plus.svg" class="icon"></a><a href="https://github.com/picodotdev/blog-ejemplos/" title="¡Obtén el código fuente de los ejemplos!"><img src="assets/images/github.svg" class="icon"></a></div></div><div class="col-md-4 text-center"><form name="query" class="form-inline search" onsubmit="return false"><div class="input-group"><input type="text" name="q" class="form-control" placeholder="Buscar en Blog Bitix"> <span class="input-group-btn"><button class="btn btn-default" type="submit">Buscar</button></span></div></form><form name="search" action="https://duckduckgo.com/" method="get" class="hidden" data-site="https://picodotdev.github.io/blog-bitix/"><input type="hidden" name="q" value=""></form></div></div><div class="row"><div class="col-md-12"><nav><ul class="nav nav-pills"><li role="presentation"><a href="/blog-bitix/tags/java/">Java</a></li><li role="presentation"><a href="/blog-bitix/tags/gnu-linux/">GNU/Linux</a></li><li role="presentation"><a href="/blog-bitix/tags/javascript/">JavaScript</a></li><li role="presentation"><a href="/blog-bitix/tags/tapestry/">Tapestry</a></li><li role="presentation"><a href="/blog-bitix/archive/">Archivo y hemeroteca</a></li><li role="presentation"><a href="/blog-bitix/pages/links/">Enlaces</a></li><li role="presentation"><a href="/blog-bitix/pages/about/">Acerca de...</a></li></ul></nav></div></div></header><div class="col-sm-12 col-md-8"><div class="row"><div class="col-md-12"><article itemscope itemtype="http://schema.org/BlogPosting"><meta itemprop="inLanguage" content="es"><meta itemprop="keywords" content="blog-stack, java, planeta-codigo, planeta-linux, programacion"><h1 itemprop="name">Java para tareas de «scripting»</h1><p class="information">Publicado por <span itemscope itemtype="http://schema.org/Person"><span itemprop="name">pico.dev</span></span> el <time itemprop="datePublished" datetime="2015-11-07">07/11/2015</time>, actualizado el <time itemprop="dateModified" datetime="2015-11-10">10/11/2015</time>.<br><a href="tags/blog-stack/">blog-stack</a> <a href="tags/java/">java</a> <a href="tags/planeta-codigo/">planeta-codigo</a> <a href="tags/planeta-linux/">planeta-linux</a> <a href="tags/programacion/">programacion</a><br><a href="/blog-bitix/2015/11/java-para-tareas-de-scripting/" itemprop="url">Enlace permanente</a> <a href="/blog-bitix/2015/11/java-para-tareas-de-scripting/#comments">Comentarios</a></p><p class="summary" itemprop="about">Para programar pequeños <em>scripts</em> normalmente se suele emplear el intérprete de comandos en GNU/Linux bash o si es algo complejo un lenguaje interpretado como Python, Ruby o Groovy. Pero no pienses que Java no puede ser empleado para tareas de <em>scripting</em>, en este artículo muestro que problemas presentan los lenguajes interpretados o dinámicos, que ventajas tiene usar Java y finalmente como usarlo con la misma sencillez que un lenguaje interpretado para el nicho funcional de los <em>scripts</em>.</p><ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-3533636310991304" data-ad-slot="5966819782" data-type="leaderboard"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><div class="content" itemprop="articleBody"><meta itemprop="wordCount" content="984"><div class="logotypes" style="float: right"><img src="assets/images/logotipos/java.png" class="right" alt="Java" title="Java"></div><p>Java puede emplearse para cualquier propósito desde aplicaciones web en la parte servidora, aplicaciones de escritorio como escribí en dos <a href="https://picodotdev.github.io/blog-bitix/2015/10/introduccion-a-javafx-aplicaciones-de-escritorio-en-java/">artículos introductorios sobre JavaFX</a>, juegos con alta calidad gráfica incluso para dispositivos de capacidades más reducidas como <abbr title="Internet of Things">IoT</abbr> o embebidos y verdaderamente limitados. Para cualquier plataforma en la que haya disponible una <abbr title="Java Virtual Machine">JVM</abbr> se pueden ejecutar aplicaciones programadas con el lenguaje Java. Sin embargo, hay multitud de otros lenguajes aunque solo una docena con un porcentaje de uso significativo que tratan de ocupar nichos de funcionalidades específicas. Unos pueden ser el análisis de datos como con el <a href="https://www.r-project.org/">lenguaje R</a> y otro la programación de pequeñas tareas, los <em>scripts</em> o lenguajes de <em>scripting</em>.</p><p>Para los <em>scripts</em> normalmente se han utilizado intérpretes como <a href="https://es.wikipedia.org/wiki/Bash">bash</a> por su disponibilidad en cualquier sistema GNU/Linux o si se necesita un lenguaje más avanzado <a href="https://www.python.org/">Python</a>, <a href="https://www.ruby-lang.org/es/">Ruby</a> o <a href="http://www.groovy-lang.org/">Groovy</a>. Cualquiera de estas opciones son empleadas para realizar tareas de <em>scripting</em> que involucran desde generación de informes o archivos, envío de correos electrónicos hasta actualización de una base de datos relacional o nosql, cualquier cosa que queramos automatizar. Al no necesitar compilarse ni generar un artefacto extraño como los archivos <em>.class</em> o <em>.jar</em> de Java basta con escribir el <em>script</em> con cualquier editor de texto y ejecutarlo con el intérprete correspondiente directamente desde el código fuente. El despliegue en un entorno de pruebas o producción es sencillo, basta con subir el código fuente de los <em>scripts</em> a la máquina correspondiente donde se vaya a ejecutar y ejecutarlos, únicamente necesitaremos instalar la versión del intérprete adecuado y las dependencias adicionales del <em>script</em> si necesita alguna como en Python posiblemente en un <a href="https://virtualenv.readthedocs.org/en/latest/">virtualenv</a>.</p><p>Pero al contrario de lo que piensa mucha gente Java puede ser usado perfectamente como lenguaje de <em>scripting</em> con igual simpleza o más que Python, Ruby o Groovy. Java es más verboso sí pero en mi opinión estas son <a href="https://picodotdev.github.io/blog-bitix/2015/05/10-razones-para-seguir-usando-java/">10 razones para seguir usando Java</a> entre ellas el compilador, en el artículo <a href="http://www.teamten.com/lawrence/writings/java-for-everything.html">Java for everything</a> dan una buena extensa descripción de porque usar Java también para los <em>scripts</em> y donde se expone una forma de usarlo, en este artículo mostraré otra creo que mejor. El compilador de Java validará al menos que el código no tienen errores léxicos o de sintaxis que en un lenguaje interpretado son fáciles de introducir cuando hace meses que no modificas el <em>script</em> olvidando gran parte del código, cuando no has escrito tú el <em>script</em>, cuando hay prisa y presión para hacer las modificaciones por un error en producción apremiante, cuando el tamaño del código empieza a ser considerable, es modificado por varias personas o cuando no se domina el lenguaje profundamente. ¿Qué prefieres, algo más verbosidad (ahora menos con varias de las <a href="https://picodotdev.github.io/blog-bitix/2014/03/novedades-y-nuevas-caracteristicas-de-java-8/">novedades introducidas en Java 8</a>) o evitar que un <em>script</em> importante en producción se quede a medio ejecutar por un error de compilación y provoque alguna catástrofe? Yo lo tengo claro, que el compilador me salve el culo.</p><p>En cuanto al número de líneas necesarias para hacer un <em>script</em> en Java puede que se necesiten alguna más por su menor azúcar sintáctico o la falta de algún método de utilidad no disponible en la propia <abbr title="Application Programming Interface">API</abbr> del <abbr title="Java Development Kit">JDK</abbr> ajustado a la necesidad pero si el <em>script</em> es pequeño ¿realmente importan unas pocas lineas más? y si el <em>script</em> es grande el compilador y el <abbr title="Integrated Development Environment">IDE</abbr> serán de gran ayuda.</p><p>Entrando a discutir el apartado de la simplicidad de ejecución de un lenguaje interpretado, en Java se puede conseguir lo mismo con <a href="http://gradle.org/">Gradle</a>. Gradle se encargará de descargar la dependencias que necesite la aplicación y junto con el <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html"><em>wrapper</em> de ejecución de Gradle</a> no necesitaremos tener nada más instalado que la máquina virtual de Java. Si el <em>script</em> tiene algún error de compilación el compilador lo indicará y no se ejecutará, podremos hacer que se ejecuten previamente los teses unitarios si disponemos de ellos. Con el <em>plugin</em> <em>application</em> solo podremos tener un único programa con su <em>main</em> pero definiendo tareas de tipo <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html">JavaExec</a> podremos definir cuantos diferentes <em>scripts</em> deseemos que ejecutarán el método <em>main</em> de diferentes clases.</p><p>Teniendo 3 pequeños <em>scripts</em> de ejemplo el archivo <em>build.gradle</em> que necesitaríamos sería el siguiente definiendo de forma dinámica una tarea <em>runScript</em> y otra <em>createStartScripts</em> para cada uno, los <em>scripts</em> son lo más sencillos posible emitiendo en la consola un mensaje pero podrían hacer cualquier cosa, incluso <a href="https://picodotdev.github.io/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/">usar Spring Boot</a>:</p><script src="//gist.github.com/picodotdev/c2502db92bf72d445ed0.js?file=build.gradle"></script><script src="//gist.github.com/picodotdev/c2502db92bf72d445ed0.js?file=Script1.java"></script><p>Si necesitamos ejecutar los <em>scripts</em> cada cierto tiempo en <em>cron</em> podemos programar el comando que queremos ejecutar regularmente, en vez de usar el comando <em>gradlew</em> que comprueba si ha cambiado el código fuente y necesita compilarse de nuevo tardando un poco más en iniciarse, con una tarea de tipo <a href="https://docs.gradle.org/current/dsl/org.gradle.jvm.application.tasks.CreateStartScripts.html">CreateStartScripts</a> podemos generar el <em>script</em> bash tanto para sistemas de la familia Unix como Windows que realmente lanzará los <em>scripts</em> Java. La tarea de Gradle <em>createStartScripts</em> genera todos los <em>scripts</em> de inicio del proyecto.</p><script src="//gist.github.com/picodotdev/c2502db92bf72d445ed0.js?file=gradle-build.sh"></script><p>La ejecución de cada uno de los <em>scripts</em> con <em>gradlew</em> y usando los <em>scripts</em> lanzadores sería:</p><p><script src="//gist.github.com/picodotdev/c2502db92bf72d445ed0.js?file=gradle-run.sh"></script></p><div class="media" style="text-align: center"><figure><script type="text/javascript" src="https://asciinema.org/a/29509.js" id="asciicast-29509" async></script><noscript><a href="https://asciinema.org/a/29509" target="_blank"><img src="https://asciinema.org/a/29509.png" width="734"></a></noscript><p></p><pre><code>    &lt;figcaption&gt;Ejecución de &amp;lt;i&amp;gt;scripts&amp;lt;/i&amp;gt; en Java&lt;/figcaption&gt;

&lt;/figure&gt;
</code></pre><p></p></figure></div><p></p><p>Para un proyecto de <em>scripts</em> con Java necesitaremos un archivo <em>build.gradle</em> y cierta estructura de directorios pero no es algo suficiente complejo como para descartar Java como lenguaje para este propósito más teniendo en cuenta sus ventajas, a parte de la JVM el proyecto de <em>scripts</em> será autocontenido incluso para las dependencias con lo que su despliegue en un entorno de producción será muy sencillo basta con copiar archivos (<abbr title="File Transfer Protocol">FTP</abbr>, <em>wget</em>, &hellip;) o hacer <code>git clone</code> y <code>git pull</code> directamente del repositorio de código fuente para actualizarlo, si se usan los <em>scripts</em> lanzadores después de actualizar el código fuente del proyecto será necesario reconstruirlo con <code>./gradlew build</code>.</p><p>El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/JavaScripts">código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href="https://github.com/">GitHub</a> y probarlo en tu equipo ejecutando el comando <code>./gradlew runScript1</code>.</p><div class="reference">Referencia:<br><ul><li><a href="http://www.teamten.com/lawrence/writings/java-for-everything.html">Java for everything</a></li><li><a href="http://elblogdepicodev.blogspot.com.es/2012/03/herramienta-de-construccion-gradle.html">Herramienta de construccion Gradle</a></li><li><a href="http://elblogdepicodev.blogspot.com.es/2012/04/usar-gradle-mediante-gradle-wrapper.html">Usar Gradle mediante Gradle Wrapper</a></li><li><a href="https://picodotdev.github.io/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/">Aplicacion Java autocontenida con Spring Boot</a></li></ul></div></div></article></div></div><div class="row"><div class="col-md-12"><div class="sharethis-inline-share-buttons"></div></div></div><div class="row"><div class="col-md-12"><ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-3533636310991304" data-ad-slot="5966819782" data-type="leaderboard"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><a id="comments"></a><div class="row"><div class="col-md-12"><div id="disqus_thread"></div></div></div><script type="text/javascript" async>var disqus_shortname = 'blog-bitix';
    var disqus_identifier = 'https:\/\/picodotdev.github.io\/blog-bitix\/2015\/11\/java-para-tareas-de-scripting\/';
    var disqus_url = 'https:\/\/picodotdev.github.io\/blog-bitix\/2015\/11\/java-para-tareas-de-scripting\/';
    var disqus_script = 'embed.js';
    (function () {
      var dsq = document.createElement('script'); 
      dsq.type = 'text/javascript'; 
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());</script></div><div class="col-md-4"><div class="row"><div class="col-md-12 text-center"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:600px" data-ad-client="ca-pub-3533636310991304" data-ad-slot="9559414587" data-type="large-skycraper"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div class="row"><div class="col-md-12 text-center"><ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-3533636310991304" data-ad-slot="2873752587" data-type="large-rectangle"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div class="row text-center"><div class="col-md-12"><a href="https://picodotdev.github.io/blog-bitix/2015/12/yo-apoyo-al-software-libre-tu-tambien/"><img src="//static.fsf.org/nosvn/images/badges/badges_es/i-support-fs_red-bg-es.png" alt="Yo apoyo al software libre"></a></div></div><div class="row"><div class="col-md-12"><hr></div></div><div class="row"><div class="col-md-12"><ul class="list-unstyled recents"><li><span class="glyphicon glyphicon-hand-right"></span> <a href="archive/">Más artículos recientes en el archivo</a></li></ul></div></div></div></div><div class="row"><div class="col-md-12"><hr></div></div><footer><div class="row"><div class="col-md-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos a la semana desde el año 2010.</p></div><div class="col-md-4 text-center menu"><ul class="list-unstyled"><li><a href="/blog-bitix/tags/java/">Java</a></li><li><a href="/blog-bitix/tags/gnu-linux/">GNU/Linux</a></li><li><a href="/blog-bitix/tags/javascript/">JavaScript</a></li><li><a href="/blog-bitix/tags/tapestry/">Tapestry</a></li><li><a href="/blog-bitix/archive/">Archivo y hemeroteca</a></li><li><a href="/blog-bitix/pages/links/">Enlaces</a></li><li><a href="/blog-bitix/pages/advertising/">Publicidad</a></li><li><a href="/blog-bitix/pages/about/">Acerca de...</a></li></ul></div><div class="col-md-4 text-center links"><a href="index.xml" title="¡Suscríbete a Blog Bitix!"><img src="assets/images/rss.png" class="icon"></a><a href="https://twitter.com/picodotdev/" title="¡Sígueme en twitter!"><img src="assets/images/twitter.svg" class="icon"></a><a href="https://plus.google.com/114317443908384387611/posts" title="¡Sigue a Blog Bitix en Google&#43;!"><img src="assets/images/google-plus.svg" class="icon"></a><a href="https://github.com/picodotdev/blog-ejemplos/" title="¡Obtén el código fuente de los ejemplos!"><img src="assets/images/github.svg" class="icon"></a></div></div><div class="row"><div class="col-md-12">Copyleft <span class="copyleft">&copy;</span> 2017 - <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" class="licencia"></a><br><a href="https://twitter.com/blogstackinfo"><img src="https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png" alt="Blog Stack" title="Blog Stack"></a><a href="http://planetalinux.org/es/"><img src="https://picodotdev.github.io/blog-bitix/assets/images/planeta-linux.png" alt="Planeta Linux" title="Planeta Linux"></a><a href="http://www.planetacodigo.com/"><img src="https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png" alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a href="https://picodotdev.github.io/blog-bitix/">Blog Bitix</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://picodotdev.github.io/blog-bitix/" property="cc:attributionName" rel="cc:attributionURL">pico.dev</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class="credit">Powered by <a href="https://gohugo.io/" title="A fast and modern static website engine">Hugo</a> and <a href="https://pages.github.com/" title="Websites for you and your projects">GitHub Pages</a></span></div></div></footer></div><div class="blueimp-gallery-container"><div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal="false"><div class="slides"></div><h3 class="title"></h3><a class="prev">‹</a> <a class="next">›</a> <a class="close">×</a> <a class="play-pause"></a><ol class="indicator"></ol><div class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true">&times;</button><h4 class="modal-title"></h4></div><div class="modal-body next"></div><div class="modal-footer"><button type="button" class="btn btn-default pull-left prev"><i class="glyphicon glyphicon-chevron-left"></i> Anterior</button> <button type="button" class="btn btn-primary next">Siguiente <i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type="text/javascript">window.cookieconsent_options = {
        "message": "Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.",
        "dismiss": "Aceptar",
        "learnMore": "Más información",
        "link": null,
        "theme": "dark-bottom"
    };</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js" async></script></body></html>
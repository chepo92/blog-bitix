<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=picodotdev><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Java ofrece un mecanismo incluido en el propio JDK para hacer las aplicaciones extensibles o ampliables en un momento posterior al de desarrollo. La clase ServiceLoader permite obtener las implementaciones definidas en el classpath de una determinada interfaz. En este artículo explico esta clase y muestro un ejemplo sencillo de como usarla. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Aplicación Java extensible con la clase ServiceLoader</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href="//fonts.googleapis.com/css?family=PT+Serif:400,400i,700"><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.3.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script type=text/javascript src=assets/js/require-config.js data-main=js/main defer></script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col-12><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><div class=row><div class=col-12><div class="adblock-sidebar adblock-sidebar-right"><ins class="adsbygoogle adblock-sidebar-skycraper" style=display:block data-ad-client=ca-pub-3533636310991304 data-ad-slot=9933840986 data-ad-format=auto data-type=auto></ins></div><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content=es><meta itemprop=keywords content="blog-stack, java, planeta-codigo, programacion"><h1 itemprop=name>Aplicación Java extensible con la clase ServiceLoader</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2015-09-12>12/09/2015</time>.<br><a href=tags/blog-stack/>blog-stack</a> <a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a><br><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/#comments>Comentarios</a></p><p class=summary itemprop=about>Java ofrece un mecanismo incluido en el propio JDK para hacer las aplicaciones extensibles o ampliables en un momento posterior al de desarrollo. La clase <em>ServiceLoader</em> permite obtener las implementaciones definidas en el <em>classpath</em> de una determinada interfaz. En este artículo explico esta clase y muestro un ejemplo sencillo de como usarla.</p><div class=content itemprop=articleBody><meta itemprop=wordCount content=763><div class=logotypes style=float:right><img src=assets/images/logotipos/java.svg class=right width=200 alt=Java title=Java></div><p>Puede que al desarrollar una aplicación necesitamos que esta sea extensible, esto significa que en el momento de desarrollo no conocemos las implementaciones de un determinado servicio que se proporcionarán en un futuro. Un servicio no es más que la implementación de una determinada interfaz que definimos en el momento de desarrollo. Java con la clase <a href=https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html>ServiceLoader</a> proporciona un mecanismo estándar e incorporado en el JDK para cargar servicios con alguna propiedad interesante.</p><p>A través de la clase <em>ServiceLoader</em> y con su método estático <a href=https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html#load-java.lang.Class->load</a> cargamos los servicios que implementen una determinada interfaz, en el parámetro de tipo <em>Class</em> indicamos la interfaz del servicio. Por ejemplo, supongamos que tenemos la siguiente definición de servicio:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.serviceloader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Locale</span><span class=o>;</span>

<span class=kd>interface</span> <span class=nc>Saludador</span> <span class=o>{</span>
    <span class=cm>/**
</span><span class=cm>     * Retorna el idioma en el que este servicio saluda.
</span><span class=cm>     */</span>
    <span class=n>Locale</span> <span class=nf>getLocale</span><span class=o>();</span>

    <span class=cm>/**
</span><span class=cm>     * Imprime en la consola un mensaje de saludo.
</span><span class=cm>     */</span>
    <span class=kt>void</span> <span class=nf>saluda</span><span class=o>(</span><span class=n>String</span> <span class=n>nombre</span><span class=o>);</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/Saludador.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/Saludador.java target=_blank>Saludador.java</a></div></div><p>En el momento de desarrollar esta aplicación podemos definir unos cuantos servicios que implementen la interfaz <em>Saludador</em> pero deseamos que en futuro podamos o un tercero pueda añadir más servicios para otros <em>locales</em>. La implementación de estos servicios en Español, Inglés y Euskera sería:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.serviceloader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Locale</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>EspanolSaludador</span> <span class=kd>implements</span> <span class=n>Saludador</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=n>Locale</span> <span class=nf>getLocale</span><span class=o>(){</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>Locale</span><span class=o>(</span><span class=s>&#34;es&#34;</span><span class=o>,</span> <span class=s>&#34;ES&#34;</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>saluda</span><span class=o>(</span><span class=n>String</span> <span class=n>nombre</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;¡Hola %s!\n&#34;</span><span class=o>,</span> <span class=n>nombre</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/EspanolSaludador.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/EspanolSaludador.java target=_blank>EspanolSaludador.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.serviceloader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Locale</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>InglesSaludador</span> <span class=kd>implements</span> <span class=n>Saludador</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=n>Locale</span> <span class=nf>getLocale</span><span class=o>(){</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>Locale</span><span class=o>(</span><span class=s>&#34;en&#34;</span><span class=o>,</span> <span class=s>&#34;GB&#34;</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>saluda</span><span class=o>(</span><span class=n>String</span> <span class=n>nombre</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Hello %s!\n&#34;</span><span class=o>,</span> <span class=n>nombre</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/InglesSaludador.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/InglesSaludador.java target=_blank>InglesSaludador.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.serviceloader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Locale</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>EuskeraSaludador</span> <span class=kd>implements</span> <span class=n>Saludador</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=n>Locale</span> <span class=nf>getLocale</span><span class=o>(){</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>Locale</span><span class=o>(</span><span class=s>&#34;eu&#34;</span><span class=o>,</span> <span class=s>&#34;ES&#34;</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>saluda</span><span class=o>(</span><span class=n>String</span> <span class=n>nombre</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Kaixo %s!\n&#34;</span><span class=o>,</span> <span class=n>nombre</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/EuskeraSaludador.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/EuskeraSaludador.java target=_blank>EuskeraSaludador.java</a></div></div><p>Iniciando la aplicación podemos obtener los servicios disponibles para ser usados con el siguiente código:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.serviceloader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.Locale</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.ServiceLoader</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.stream.Collectors</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.stream.Stream</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.stream.StreamSupport</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main1</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>ServiceLoader</span><span class=o>&lt;</span><span class=n>Saludador</span><span class=o>&gt;</span> <span class=n>loader</span> <span class=o>=</span> <span class=n>ServiceLoader</span><span class=o>.</span><span class=na>load</span><span class=o>(</span><span class=n>Saludador</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
        <span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Saludador</span><span class=o>&gt;</span> <span class=n>iterable</span> <span class=o>=</span> <span class=o>()</span> <span class=o>-&gt;</span> <span class=n>loader</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
        <span class=n>Stream</span><span class=o>&lt;</span><span class=n>Saludador</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> <span class=n>StreamSupport</span><span class=o>.</span><span class=na>stream</span><span class=o>(</span><span class=n>iterable</span><span class=o>.</span><span class=na>spliterator</span><span class=o>(),</span> <span class=kc>false</span><span class=o>);</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Locale</span><span class=o>&gt;</span> <span class=n>locales</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=na>map</span><span class=o>(</span><span class=n>i</span> <span class=o>-&gt;</span> <span class=n>i</span><span class=o>.</span><span class=na>getLocale</span><span class=o>()).</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>toList</span><span class=o>());</span>
    
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Idiomas soportados:%s\n&#34;</span><span class=o>,</span> <span class=n>locales</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/Main1.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/Main1.java target=_blank>Main1.java</a></div></div><p>Para obtener el mensaje de saludo en el idioma que deseemos basta con obtenerlo de la lista si está disponible y usarlo:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.serviceloader</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Locale</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.ServiceLoader</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.stream.Stream</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.stream.StreamSupport</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main2</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Locale</span> <span class=n>locale</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Locale</span><span class=o>(</span><span class=s>&#34;eu&#34;</span><span class=o>,</span> <span class=s>&#34;ES&#34;</span><span class=o>);</span>
        <span class=n>String</span> <span class=n>nombre</span> <span class=o>=</span> <span class=s>&#34;picodotdev&#34;</span><span class=o>;</span>
    
        <span class=n>ServiceLoader</span><span class=o>&lt;</span><span class=n>Saludador</span><span class=o>&gt;</span> <span class=n>loader</span> <span class=o>=</span> <span class=n>ServiceLoader</span><span class=o>.</span><span class=na>load</span><span class=o>(</span><span class=n>Saludador</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
        <span class=n>Iterable</span><span class=o>&lt;</span><span class=n>Saludador</span><span class=o>&gt;</span> <span class=n>iterable</span> <span class=o>=</span> <span class=o>()</span> <span class=o>-&gt;</span> <span class=n>loader</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
        <span class=n>Stream</span><span class=o>&lt;</span><span class=n>Saludador</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> <span class=n>StreamSupport</span><span class=o>.</span><span class=na>stream</span><span class=o>(</span><span class=n>iterable</span><span class=o>.</span><span class=na>spliterator</span><span class=o>(),</span> <span class=kc>false</span><span class=o>);</span>
        <span class=n>Saludador</span> <span class=n>saludador</span> <span class=o>=</span> <span class=n>stream</span><span class=o>.</span><span class=na>filter</span><span class=o>(</span><span class=n>i</span> <span class=o>-&gt;</span> <span class=n>i</span><span class=o>.</span><span class=na>getLocale</span><span class=o>().</span><span class=na>equals</span><span class=o>(</span><span class=n>locale</span><span class=o>)).</span><span class=na>findFirst</span><span class=o>().</span><span class=na>get</span><span class=o>();</span>
    
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Saludo en %s: &#34;</span><span class=o>,</span> <span class=n>locale</span><span class=o>);</span>
        <span class=n>saludador</span><span class=o>.</span><span class=na>saluda</span><span class=o>(</span><span class=n>nombre</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/Main2.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/Main2.java target=_blank>Main2.java</a></div></div><p>La clase <em>ServiceLoader</em> busca los servicios en los archivos <em>META-INF/services/[interfaz]</em> que haya disponibles en cualquiera de las librerías jar incluidas en el <em>classpath</em>, en el caso de este ejemplo el archivo sería <em>META-INF/services/io.github.picodotdev.serviceloader.Saludador</em> y este su contenido con las tres implementaciones de servicios incluidas en el ejemplo:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext>io.github.picodotdev.serviceloader.EspanolSaludador
io.github.picodotdev.serviceloader.InglesSaludador
io.github.picodotdev.serviceloader.EuskeraSaludador</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/io.github.picodotdev.serviceloader.Saludador target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/io.github.picodotdev.serviceloader.Saludador target=_blank>io.github.picodotdev.serviceloader.Saludador</a></div></div><p>La salida para el programa <em>Main1.java</em> y <em>Main2.java</em> respectivamente es:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext># Main1.java
Idiomas soportados:[es_ES, en_GB, eu_ES]

# Main2.java
Saludo en eu_ES: Kaixo picodotdev!</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/System.out target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/09/aplicacion-java-extensible-con-la-clase-serviceloader/code/System.out target=_blank>System.out</a></div></div><p>Esta es una forma interesante de hacer extensible o ampliable una aplicación en un futuro. Destacar que simplemente incluyendo en el <em>classpath</em> una librería que incluya en el directorio <em>META-INF/services</em> un archivo con el nombre de la interfaz con su nombre cualificado, <em>io.github.picodotdev.serviceloader.Saludador</em>, las nuevas implementaciones de servicios se devolverán usando el método <em>Service.load(Saludador.class)</em> que se encargará de buscar los archivos en las librerías jar que los tengan.</p><p>Este mecanismo es que el se usa para permitir definir nuevos proveedores de ratios entre divisas en la librería de referencia <a href=https://javamoney.github.io/>Java Money</a> (JSR-354) que proporciona una <a href=https://picodotdev.github.io/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/>API para el trabajo con importes monetarios, ratios y divisas en Java</a>. En otro artículo mostraré <a href=https://picodotdev.github.io/blog-bitix/2015/09/ejemplo-practico-de-serviceloader-con-serviceprovider-de-java-money/>cómo definir un nuevo proveedor de ratios en esta API de Java Money</a>.</p><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/ServiceLoader>código fuente completo del ejemplo</a> está en uno de mis repositorios de GitHub.</p><div class=reference>Referencia:<br><ul><li><a href=https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html>ServiceLoader</a></li></ul></div></div></article><div class="row related"><div class=col-md-12>Artículos relacionados:<ul><li><a href=/blog-bitix/2015/08/implementacion-de-maquina-de-estados-finita-fsm-con-java-8/>Implementación de máquina de estados finita (FSM) con Java 8</a></li><li><a href=/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/>Cómo trabajar con importes, ratios y divisas en Java</a></li><li><a href=/blog-bitix/2015/06/hemeroteca-7/>Hemeroteca #7</a></li><li><a href=/blog-bitix/2015/06/servicio-para-obtener-ratios-de-conversion-entre-divisas/>Servicio para obtener ratios de conversión entre divisas</a></li><li><a href=/blog-bitix/2015/06/nueva-visita-a-herramientas-para-un-proyecto-java/>Nueva visita a Herramientas para un proyecto Java</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2015\/09\/aplicacion-java-extensible-con-la-clase-serviceloader\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2015\/09\/aplicacion-java-extensible-con-la-clase-serviceloader\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property=dct:title><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property=cc:attributionName rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
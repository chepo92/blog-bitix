<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=picodotdev><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="En anteriores entradas explicaba como hacer el típico ejemplo que se suele usar como demostración en los framework MVC de JavaScript que consiste en una lista de tareas en la que se pueden añadir nuevas, marcarlas como completadas y eliminarlas. Realice este ejemplo en uno de ellos usando solo Backbone y posteriormente usando Marionette. Estos ejemplos eran parte de una serie de artículos sobre JavaScript que la que mostaba como usar muchas otras herramientas como Require JS, Mustache, logging con javscript, capturar errores en javascript, introducción a Backbone, lista de tarea con Backbone, RESTEasy y Tapestry, pruebas unitarias con Jasmine y Sinon, Usar Grunt para ejecutar teses unitarios de código JavaScript y que constituyen parte del actual «estado del arte» en cuanto a desarrollo con JavaScript. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Ejemplo lista de tareas con Backbone y React</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href="//fonts.googleapis.com/css?family=PT+Serif:400,700italic,700,400italic"><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.0.0/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.30.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js async></script><script type=text/javascript>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript async>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src=assets/libs/require.js></script><script type=text/javascript src=assets/js/main.js></script><script type=text/javascript src=assets/js/theme.js async></script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" async></script><script type=text/javascript src=assets/js/app.js async></script></head><body><div class=container><div class=row><div class=col><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 col-lg-8"><div class=row><div class=col-12><article itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content=es><meta itemprop=keywords content="software, programacion, javascript, planeta-codigo"><h1 itemprop=name>Ejemplo lista de tareas con Backbone y React</h1><p class=information>Escrito por <span itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2014-04-11>11/04/2014</time>, actualizado el <time itemprop=dateModified datetime=2015-10-01>01/10/2015</time>.<br><a href=tags/software/>software</a> <a href=tags/programacion/>programacion</a> <a href=tags/javascript/>javascript</a> <a href=tags/planeta-codigo/>planeta-codigo</a><br><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/#comments>Comentarios</a></p><p class=summary itemprop=about>He desarrollado este ejemplo de lista de tareas usando diferentes herramientas javascript primeramente con solo Backbone y después con Marionette. En este caso realizaré el mismo ejemplo para ver las diferencias usando la combinación Backbone para los modelos y React para las vistas junto con otras herramientas como ReactJS, Mustache, Jasmine, Grunt e i18n. Un ejemplo bastante completo de lo que ofrece javascript en estos momentos con la composición de herramientas que más me ha gustado.</p><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><div class=content itemprop=articleBody><meta itemprop=wordCount content=1857><div class=logotypes style=float:right><img src=assets/images/logotipos/backbone.png class=right alt=Backbone title=Backbone></div><div class=logotypes style=float:right;clear:right><img src=assets/images/logotipos/react.png class=right alt=React title=React></div><p>En anteriores entradas explicaba como hacer el típico ejemplo que se suele usar como demostración en los <em>framework</em> MVC de JavaScript que consiste en una lista de tareas en la que se pueden añadir nuevas, marcarlas como completadas y eliminarlas. Realice este ejemplo en uno de ellos <a href=https://elblogdepicodev.blogspot.com.es/2013/04/ejemplo-lista-de-tareas-con-backbone.html>usando solo Backbone</a> y posteriormente <a href=https://elblogdepicodev.blogspot.com.es/2013/08/ejemplo-lista-de-tareas-con-marionette.html>usando Marionette</a>. Estos ejemplos eran parte de una serie de artículos sobre JavaScript que la que mostaba como usar muchas otras herramientas como <a href=https://elblogdepicodev.blogspot.com.es/2013/03/introduccion-y-ejemplo-de-requirejs.html>Require JS</a>, <a href=https://elblogdepicodev.blogspot.com.es/2013/03/introduccion-y-ejemplo-de-mustache.html>Mustache</a>, <a href=https://elblogdepicodev.blogspot.com.es/2013/03/logging-en-javascript-con-log4javascript.html>logging con javscript</a>, <a href=https://elblogdepicodev.blogspot.com.es/2013/04/capturar-errores-de-javascript.html>capturar errores en javascript</a>, <a href=http://elblogdepicodev.blogspot.com/2013/04/introduccion-y-ejemplo-de-backbonejs.html>introducción a Backbone</a>, <a href=https://elblogdepicodev.blogspot.com.es/2013/04/ejemplo-lista-de-tareas-con-backbone.html>lista de tarea con Backbone, RESTEasy y Tapestry</a>, <a href=https://elblogdepicodev.blogspot.com.es/2013/05/ejemplo-de-pruebas-unitarias-en.html>pruebas unitarias con Jasmine y Sinon</a>, <a href=https://picodotdev.github.io/blog-bitix/2014/04/usar-grunt-para-ejecutar-teses-unitarios-de-codigo-javascript/>Usar Grunt para ejecutar teses unitarios de código JavaScript</a> y que constituyen parte del actual «estado del arte» en cuanto a desarrollo con JavaScript.</p><p>La lista de tareas aunque es un ejemplo sencillo sirve perfectamente como ejercicio para mostrar el uso de los <em>frameworks</em> MVC. En esta entrada voy a mostrar como hacer el mismo ejemplo usando <a href=http://backbonejs.org/>Backbone</a> y <a href=https://reactjs.org/>React</a> y veremos, en mi opinión, que el ejemplo es mucho mas sencillo y lógico.</p><p>La parte más complicada y menos intuitiva del ejemplo de la lista de tareas con solamente Backbone o con <a href=https://marionettejs.com/>Marionette</a> probablemente era la V del MVC. Backbone es un <em>framework</em> que deja bastante libertad al desarrollador pudiendo usar únicamente las partes que necesitemos de él, sin embargo, esta sencillez nos obliga a gestionar ciertas «tareas de fontanería» y repetitivas nosotros mismos como la gestión de las vistas y la memoria. Marionette trata de dar solución a parte de estas tareas necesarias además de proporcionar unas guías y arquitectura para el desarrollo de las aplicaciones. Sin embargo, aún con Marionette la construcción de la parte de la vista con el uso de ItemView, CollectionView y Layout comentados en la <a href=https://github.com/marionettejs/backbone.marionette>documentación</a> me resultó poco intuitivo y en cierta medida todavía complicado, no acabé convencido del todo, con React he acabado con la sensación que hacer algo más complejo que este ejemplo es algo al menos manejable.</p><p>React es una librería que en algunos casos se está usando en aplicaciones junto con Backbone para proporcionar la parte de la vista y controlador que en conjunto definen lo que en React se conoce como un componente. De esta manera Backbone proporciona los modelos, eventos, routing , &hellip; y React proporciona la representación de esos modelos en html y el código encargado de gestionar el estado de esa vista. React tiene ciertas ventajas adicionales por su funcionamiento y es que cuando se cambia algo en la vista no se reemplaza el html completo de la vista y se inserta uno nuevo sino que React busca las diferencias entre la vista actual y la nueva y realiza únicamente los cambios necesarios para tener la vista nueva, esto tiene la ventaja de que el proceso es más eficiente y rápido y puede notarse en aplicaciones con muchos datos gestionados en el cliente. Pero lo que más me ha gustado de React es la definición del concepto de componente (vista + controlador) que por una parte hace que la creación de las vistas sea mucho más sencilla e intuitiva que en Backbone o Marionette y que junto con el controlador permite crear piezas reusables de código.</p><p>Los componentes de React reemplazan a las vistas de Backbone y vistas, controladores y layouts de Marionette. En el nuevo ejemplo los cambios principales se encuentran en el archivo tareas.js que contiene el código de la aplicación de lista de tareas.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=nx>define</span><span class=p>(</span><span class=s1>&#39;tareas&#39;</span><span class=p>,</span> <span class=p>[</span> <span class=s1>&#39;jquery&#39;</span><span class=p>,</span> <span class=s1>&#39;underscore&#39;</span><span class=p>,</span> <span class=s1>&#39;backbone&#39;</span><span class=p>,</span> <span class=s1>&#39;react&#39;</span><span class=p>,</span> <span class=s1>&#39;mustache&#39;</span><span class=p>,</span> <span class=s1>&#39;plantillas&#39;</span><span class=p>,</span> <span class=s1>&#39;i18n!i18n/nls/mensajes&#39;</span> <span class=p>],</span> <span class=kd>function</span><span class=p>(</span><span class=nx>$</span><span class=p>,</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>Backbone</span><span class=p>,</span> <span class=nx>React</span><span class=p>,</span> <span class=nx>Mustache</span><span class=p>,</span> <span class=nx>Plantillas</span><span class=p>,</span> <span class=nx>Mensajes</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>function</span> <span class=nx>render</span><span class=p>(</span><span class=nx>plantilla</span><span class=p>,</span> <span class=nx>datos</span><span class=p>,</span> <span class=nx>mensajes</span><span class=p>)</span> <span class=p>{</span>
        <span class=kd>var</span> <span class=nx>d</span> <span class=o>=</span> <span class=nx>datos</span> <span class=o>||</span> <span class=p>{};</span>
        <span class=kd>var</span> <span class=nx>m</span> <span class=o>=</span> <span class=nx>mensajes</span> <span class=o>||</span> <span class=p>{};</span>
        
        <span class=kd>var</span> <span class=nx>vista</span> <span class=o>=</span> <span class=nx>_</span><span class=p>.</span><span class=nx>extend</span><span class=p>(</span><span class=nx>d</span><span class=p>,</span> <span class=p>{</span>
            <span class=nx>message</span><span class=o>:</span> <span class=nx>m</span>
        <span class=p>});</span>
        
        <span class=kd>var</span> <span class=nx>p</span> <span class=o>=</span> <span class=nx>Plantillas</span><span class=p>[</span><span class=nx>plantilla</span><span class=p>];</span>
        <span class=kd>var</span> <span class=nx>pp</span> <span class=o>=</span> <span class=nx>p</span><span class=p>();</span>
        <span class=k>return</span> <span class=nx>pp</span><span class=p>(</span><span class=nx>vista</span><span class=p>);</span>
    <span class=p>}</span>
    
    <span class=c1>// An example generic Mixin that you can add to any component that should react
</span><span class=c1></span> <span class=c1>// to changes in a Backbone component. The use cases we&#39;ve identified thus far
</span><span class=c1></span> <span class=c1>// are for Collections -- since they trigger a change event whenever any of
</span><span class=c1></span> <span class=c1>// their constituent items are changed there&#39;s no need to reconcile for regular
</span><span class=c1></span> <span class=c1>// models. One caveat: this relies on getBackboneModels() to always return the
</span><span class=c1></span> <span class=c1>// same model instances throughout the lifecycle of the component. If you&#39;re
</span><span class=c1></span> <span class=c1>// using this mixin correctly (it should be near the top of your component
</span><span class=c1></span> <span class=c1>// hierarchy) this should not be an issue.
</span><span class=c1></span> <span class=kd>var</span> <span class=nx>BackboneMixin</span> <span class=o>=</span> <span class=p>{</span>
        <span class=nx>componentDidMount</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=c1>// Whenever there may be a change in the Backbone data, trigger a reconcile.
</span><span class=c1></span>         <span class=k>this</span><span class=p>.</span><span class=nx>getBackboneModels</span><span class=p>().</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>model</span><span class=p>)</span> <span class=p>{</span>
                <span class=nx>model</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;add change remove reset&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>forceUpdate</span><span class=p>.</span><span class=nx>bind</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=kc>null</span><span class=p>),</span> <span class=k>this</span><span class=p>);</span>
            <span class=p>},</span> <span class=k>this</span><span class=p>);</span>
        <span class=p>},</span>
        <span class=nx>componentWillUnmount</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=c1>// Ensure that we clean up any dangling references when the component is
</span><span class=c1></span>         <span class=c1>// destroyed.
</span><span class=c1></span>         <span class=k>this</span><span class=p>.</span><span class=nx>getBackboneModels</span><span class=p>().</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>model</span><span class=p>)</span> <span class=p>{</span>
                <span class=nx>model</span><span class=p>.</span><span class=nx>off</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=k>this</span><span class=p>);</span>
            <span class=p>},</span> <span class=k>this</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>};</span>

    <span class=kd>var</span> <span class=nx>Tarea</span> <span class=o>=</span> <span class=nx>Backbone</span><span class=p>.</span><span class=nx>Model</span><span class=p>.</span><span class=nx>extend</span><span class=p>({</span>
        <span class=nx>urlRoot</span> <span class=o>:</span> <span class=s1>&#39;rest/tareas/tarea&#39;</span><span class=p>,</span>
        <span class=nx>defaults</span> <span class=o>:</span> <span class=p>{</span>
            <span class=nx>id</span> <span class=o>:</span> <span class=kc>null</span><span class=p>,</span>
            <span class=nx>descripcion</span> <span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
            <span class=nx>completada</span> <span class=o>:</span> <span class=kc>false</span>
        <span class=p>},</span>
        <span class=nx>toogle</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=s1>&#39;completada&#39;</span><span class=p>,</span> <span class=o>!</span><span class=k>this</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;completada&#39;</span><span class=p>));</span>
        <span class=p>}</span>
    <span class=p>});</span>

    <span class=kd>var</span> <span class=nx>Tareas</span> <span class=o>=</span> <span class=nx>Backbone</span><span class=p>.</span><span class=nx>Collection</span><span class=p>.</span><span class=nx>extend</span><span class=p>({</span>
        <span class=nx>url</span><span class=o>:</span> <span class=s1>&#39;rest/tareas&#39;</span><span class=p>,</span>
        <span class=nx>model</span><span class=o>:</span> <span class=nx>Tarea</span><span class=p>,</span>
        <span class=nx>findCompletadas</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>models</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>tarea</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nx>tarea</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;completada&#39;</span><span class=p>);</span>
            <span class=p>});</span>
        <span class=p>},</span>
        <span class=nx>removeCompletadas</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=nx>_</span><span class=p>.</span><span class=nx>each</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>findCompletadas</span><span class=p>(),</span> <span class=kd>function</span><span class=p>(</span><span class=nx>tarea</span><span class=p>)</span> <span class=p>{</span>
                <span class=nx>tarea</span><span class=p>.</span><span class=nx>destroy</span><span class=p>();</span>
            <span class=p>});</span>
        <span class=p>}</span>
    <span class=p>});</span>

    <span class=kd>var</span> <span class=nx>TareaComponent</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>createClass</span><span class=p>({</span>
        <span class=nx>componentDidMount</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=kd>var</span> <span class=nx>_this</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>ui</span> <span class=o>=</span> <span class=p>{</span>
                <span class=nx>completada</span><span class=o>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>&#39;input[name=completada]&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>getDOMNode</span><span class=p>())</span>
            <span class=p>};</span>
            
            <span class=k>this</span><span class=p>.</span><span class=nx>ui</span><span class=p>.</span><span class=nx>completada</span><span class=p>.</span><span class=nx>change</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
                <span class=nx>_this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tarea</span><span class=p>.</span><span class=nx>toogle</span><span class=p>();</span>
                <span class=nx>_this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tarea</span><span class=p>.</span><span class=nx>save</span><span class=p>();</span>
            <span class=p>});</span>
        <span class=p>},</span>       
        <span class=nx>render</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
<span class=c1>//         return (
</span><span class=c1>//              &lt;label className=&#34;checkbox&#34;&gt;
</span><span class=c1>//                  &lt;input type=&#34;checkbox&#34; name=&#34;completada&#34; checked={(this.props.tarea.get(&#39;completada&#39;))?&#39;checked&#39;:&#39;&#39;}/&gt; &lt;span className={this.props.tarea.completada}&gt;{this.props.tarea.get(&#39;descripcion&#39;)}&lt;/span&gt;
</span><span class=c1>//              &lt;/label&gt;
</span><span class=c1>//          );
</span><span class=c1></span>         <span class=k>return</span> <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>label</span><span class=p>({</span><span class=nx>className</span><span class=o>:</span><span class=s1>&#39;checkbox&#39;</span><span class=p>},</span>
                <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>input</span><span class=p>({</span><span class=nx>type</span><span class=o>:</span><span class=s1>&#39;checkbox&#39;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;completada&#39;</span><span class=p>,</span> <span class=nx>checked</span><span class=o>:</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tarea</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;completada&#39;</span><span class=p>))</span><span class=o>?</span><span class=s1>&#39;checked&#39;</span><span class=o>:</span><span class=s1>&#39;&#39;</span><span class=p>}),</span>
                <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>span</span><span class=p>({</span><span class=nx>className</span><span class=o>:</span><span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tarea</span><span class=p>.</span><span class=nx>completada</span><span class=p>},</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tarea</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;descripcion&#39;</span><span class=p>))</span>
            <span class=p>);</span>
        <span class=p>}</span>
    <span class=p>});</span>
    
    <span class=kd>var</span> <span class=nx>TareasComponent</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>createClass</span><span class=p>({</span>
        <span class=nx>render</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=kd>var</span> <span class=nx>tareas</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>map</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>tarea</span><span class=p>)</span> <span class=p>{</span>
<span class=c1>//             return (
</span><span class=c1>//                  &lt;li&gt;&lt;TareaComponent tarea={tarea}/&gt;&lt;/li&gt;
</span><span class=c1>//              );
</span><span class=c1></span>             <span class=k>return</span> <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>li</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span>
                        <span class=nx>TareaComponent</span><span class=p>({</span><span class=nx>tarea</span><span class=o>:</span><span class=nx>tarea</span><span class=p>})</span>
                <span class=p>);</span>
            <span class=p>},</span> <span class=k>this</span><span class=p>);</span>
<span class=c1>//         return (
</span><span class=c1>//              &lt;ul&gt;{tareas}&lt;/ul&gt;               
</span><span class=c1>//          );
</span><span class=c1></span>         <span class=k>return</span> <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>ul</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>tareas</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>});</span>
    
    <span class=kd>var</span> <span class=nx>EstadoComponent</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>createClass</span><span class=p>({</span>
        <span class=nx>render</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=kd>var</span> <span class=nx>d</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>getData</span><span class=p>();</span>
            <span class=kd>var</span> <span class=nx>m</span> <span class=o>=</span> <span class=p>{</span>
                <span class=s1>&#39;COMPLETADAS_tareas_de_TOTAL_completadas&#39;</span><span class=o>:</span> <span class=nx>Mustache</span><span class=p>.</span><span class=nx>render</span><span class=p>(</span><span class=nx>Mensajes</span><span class=p>.</span><span class=nx>COMPLETADAS_tareas_de_TOTAL_completadas</span><span class=p>,</span> <span class=nx>d</span><span class=p>),</span>
                <span class=s1>&#39;Muy_bien_has_completado_todas_las_tareas&#39;</span><span class=o>:</span> <span class=nx>Mensajes</span><span class=p>.</span><span class=nx>Muy_bien_has_completado_todas_las_tareas</span><span class=p>,</span>
            <span class=p>};</span>
            <span class=kd>var</span> <span class=nx>estado</span> <span class=o>=</span> <span class=nx>render</span><span class=p>(</span><span class=s1>&#39;estado&#39;</span><span class=p>,</span> <span class=nx>d</span><span class=p>,</span> <span class=nx>m</span><span class=p>);</span>
<span class=c1>//         return (
</span><span class=c1>//              &lt;span className=&#34;estado&#34;&gt;{estado}&lt;/span&gt;
</span><span class=c1>//          );
</span><span class=c1></span>         <span class=k>return</span> <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>span</span><span class=p>({</span><span class=nx>className</span><span class=o>:</span><span class=s1>&#39;estado&#39;</span><span class=p>},</span> <span class=nx>estado</span><span class=p>);</span>
        <span class=p>},</span>
        <span class=c1>// Métodos
</span><span class=c1></span>     <span class=nx>getData</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=kd>var</span> <span class=nx>completadas</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>findCompletadas</span><span class=p>().</span><span class=nx>length</span><span class=p>;</span>
            <span class=kd>var</span> <span class=nx>total</span> <span class=o>=</span> <span class=k>this</span><span class=p>.</span><span class=nx>props</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>

            <span class=k>return</span> <span class=p>{</span>
                <span class=nx>completadas</span><span class=o>:</span> <span class=nx>completadas</span><span class=p>,</span>
                <span class=nx>total</span><span class=o>:</span> <span class=nx>total</span>
            <span class=p>};</span>
        <span class=p>}</span>
    <span class=p>});</span>
    
    <span class=kd>var</span> <span class=nx>TareasApp</span> <span class=o>=</span> <span class=nx>React</span><span class=p>.</span><span class=nx>createClass</span><span class=p>({</span>
        <span class=nx>mixins</span><span class=o>:</span> <span class=p>[</span><span class=nx>BackboneMixin</span><span class=p>],</span>
        <span class=nx>getBackboneModels</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>return</span> <span class=p>[</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>];</span>
        <span class=p>},</span>
        <span class=nx>getInitialState</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>return</span> <span class=p>{</span><span class=nx>tareas</span><span class=o>:</span> <span class=k>new</span> <span class=nx>Tareas</span><span class=p>()};</span>
        <span class=p>},</span>
        <span class=nx>componentDidMount</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=kd>var</span> <span class=nx>_this</span> <span class=o>=</span> <span class=k>this</span><span class=p>;</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>ui</span> <span class=o>=</span> <span class=p>{</span>
                <span class=nx>nuevaTarea</span><span class=o>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>&#39;input[name=nuevaTarea]&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>getDOMNode</span><span class=p>()),</span>
                <span class=nx>limpiar</span><span class=o>:</span> <span class=nx>$</span><span class=p>(</span><span class=s1>&#39;input[name=limpiar]&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>getDOMNode</span><span class=p>())</span>
            <span class=p>};</span>
            
            <span class=k>this</span><span class=p>.</span><span class=nx>ui</span><span class=p>.</span><span class=nx>nuevaTarea</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
            
            <span class=c1>// Eventos
</span><span class=c1></span>         <span class=k>this</span><span class=p>.</span><span class=nx>ui</span><span class=p>.</span><span class=nx>nuevaTarea</span><span class=p>.</span><span class=nx>keypress</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
                <span class=c1>// Comprobar si la tecla pulsada es el return
</span><span class=c1></span>             <span class=k>if</span> <span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>which</span> <span class=o>==</span> <span class=mi>13</span><span class=p>)</span> <span class=p>{</span>
                    <span class=kd>var</span> <span class=nx>descripcion</span> <span class=o>=</span> <span class=nx>_this</span><span class=p>.</span><span class=nx>ui</span><span class=p>.</span><span class=nx>nuevaTarea</span><span class=p>.</span><span class=nx>val</span><span class=p>().</span><span class=nx>trim</span><span class=p>();</span>

                    <span class=c1>// Comprobar si se ha introducido descripción de la tarea
</span><span class=c1></span>                 <span class=k>if</span> <span class=p>(</span><span class=nx>descripcion</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=p>{</span>
                        <span class=k>return</span><span class=p>;</span>
                    <span class=p>}</span>

                    <span class=c1>// Añadir la tarea y limpiar el input
</span><span class=c1></span>                 <span class=kd>var</span> <span class=nx>tarea</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Tarea</span><span class=p>({</span>
                        <span class=nx>descripcion</span><span class=o>:</span> <span class=nx>descripcion</span><span class=p>,</span>
                        <span class=nx>completada</span><span class=o>:</span> <span class=kc>false</span>
                    <span class=p>});</span>
                    <span class=nx>_this</span><span class=p>.</span><span class=nx>addTarea</span><span class=p>(</span><span class=nx>tarea</span><span class=p>);</span>
                    <span class=nx>_this</span><span class=p>.</span><span class=nx>ui</span><span class=p>.</span><span class=nx>nuevaTarea</span><span class=p>.</span><span class=nx>val</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>);</span>
                <span class=p>}</span>
            <span class=p>});</span>
            
            <span class=k>this</span><span class=p>.</span><span class=nx>ui</span><span class=p>.</span><span class=nx>limpiar</span><span class=p>.</span><span class=nx>click</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
                <span class=nx>_this</span><span class=p>.</span><span class=nx>removeTareasCompletadas</span><span class=p>();</span>
            <span class=p>});</span>
        <span class=p>},</span>
        <span class=nx>render</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
<span class=c1>//         return (
</span><span class=c1>//              &lt;div&gt;
</span><span class=c1>//                  &lt;h2&gt;{Mensajes.Lista_de_tareas}&lt;/h2&gt;
</span><span class=c1>//                  &lt;input type=&#34;text&#34; name=&#34;nuevaTarea&#34; className=&#34;form-control&#34; placeholder={Mensajes.Introduce_una_nueva_tarea} /&gt;
</span><span class=c1>//                  &lt;TareasComponent tareas={this.state.tareas} /&gt;
</span><span class=c1>//                  &lt;EstadoComponent tareas={this.state.tareas} /&gt;
</span><span class=c1>//                  &lt;br/&gt;
</span><span class=c1>//                  &lt;input type=&#34;button&#34; name=&#34;limpiar&#34; value={Mensajes.Limpiar} disabled={(this.isTareasCompletadas())?null:&#39;disabled&#39;} className=&#34;btn&#34; /&gt;
</span><span class=c1>//              &lt;/div&gt;
</span><span class=c1>//          );
</span><span class=c1></span>         <span class=k>return</span> <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>div</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span>
                    <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>h2</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>Mensajes</span><span class=p>.</span><span class=nx>Lista_de_tareas</span><span class=p>),</span>
                    <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>input</span><span class=p>({</span><span class=nx>type</span><span class=o>:</span><span class=s1>&#39;text&#39;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;nuevaTarea&#39;</span><span class=p>,</span> <span class=nx>className</span><span class=o>:</span><span class=s1>&#39;form-control&#39;</span><span class=p>,</span> <span class=nx>placeholder</span><span class=o>:</span><span class=nx>Mensajes</span><span class=p>.</span><span class=nx>Introduce_una_nueva_tarea</span><span class=p>}),</span>
                    <span class=nx>TareasComponent</span><span class=p>({</span><span class=nx>tareas</span><span class=o>:</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>}),</span>
                    <span class=nx>EstadoComponent</span><span class=p>({</span><span class=nx>tareas</span><span class=o>:</span><span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>}),</span>
                    <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>br</span><span class=p>(),</span>
                    <span class=nx>React</span><span class=p>.</span><span class=nx>DOM</span><span class=p>.</span><span class=nx>input</span><span class=p>({</span><span class=nx>type</span><span class=o>:</span><span class=s1>&#39;button&#39;</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span><span class=s1>&#39;limpiar&#39;</span><span class=p>,</span> <span class=nx>value</span><span class=o>:</span><span class=nx>Mensajes</span><span class=p>.</span><span class=nx>Limpiar</span><span class=p>,</span> <span class=nx>disabled</span><span class=o>:</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>isTareasCompletadas</span><span class=p>())</span><span class=o>?</span><span class=s1>&#39;&#39;</span><span class=o>:</span><span class=s1>&#39;disabled&#39;</span><span class=p>,</span> <span class=nx>className</span><span class=o>:</span><span class=s1>&#39;btn&#39;</span><span class=p>})</span>
            <span class=p>);</span>
        <span class=p>},</span>
        <span class=c1>// Métodos
</span><span class=c1></span>     <span class=nx>isTareasCompletadas</span><span class=o>:</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>findCompletadas</span><span class=p>().</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span>
        <span class=p>},</span>
        <span class=nx>addTarea</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>tarea</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=nx>tarea</span><span class=p>);</span>
            <span class=nx>tarea</span><span class=p>.</span><span class=nx>save</span><span class=p>();</span>
        <span class=p>},</span>
        <span class=nx>removeTareasCompletadas</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>removeCompletadas</span><span class=p>();</span>
        <span class=p>},</span>
        <span class=nx>resetTareas</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>tareas</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>reset</span><span class=p>(</span><span class=nx>tareas</span><span class=p>);</span>
        <span class=p>},</span>
        <span class=nx>fetch</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
            <span class=c1>// Con reset:true solo se lanza un evento para todos los cambios que se produzcan en la colección
</span><span class=c1></span>         <span class=k>this</span><span class=p>.</span><span class=nx>state</span><span class=p>.</span><span class=nx>tareas</span><span class=p>.</span><span class=nx>fetch</span><span class=p>({</span><span class=nx>reset</span><span class=o>:</span><span class=kc>true</span><span class=p>});</span>
        <span class=p>}</span>
    <span class=p>});</span>
    
    <span class=k>return</span> <span class=p>{</span>
        <span class=nx>Tarea</span><span class=o>:</span> <span class=nx>Tarea</span><span class=p>,</span>
        <span class=nx>Tareas</span><span class=o>:</span> <span class=nx>Tareas</span><span class=p>,</span>
        <span class=nx>TareaComponent</span><span class=o>:</span> <span class=nx>TareaComponent</span><span class=p>,</span>
        <span class=nx>TareasComponent</span><span class=o>:</span> <span class=nx>TareasComponent</span><span class=p>,</span>
        <span class=nx>EstadoComponent</span><span class=o>:</span> <span class=nx>EstadoComponent</span><span class=p>,</span>
        <span class=nx>TareasApp</span><span class=o>:</span> <span class=nx>TareasApp</span>
    <span class=p>};</span>
<span class=p>});</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/tareas.js target=_blank>view raw</a></span>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/tareas.js target=_blank>tareas.js</a></div></div><p>El resultado es el siguiente:</p><div class=media style=text-align:center><figure><a href=assets/images/posts/2014/20/backbone-react.png data-gallery><img src=assets/images/posts/2014/20/backbone-react-thumb.png></a></figure></div><p>Los elementos de las vistas se recomienda definirlas con los elementos que proporciona React con React.DOM, pueden definirse más al estilo de html con jsx pero esto hace que el javascript haya de compilarse para transformar ese jsx/html a los elementos React.DOM, el mayor problema es que esto es un proceso costoso lo que puede ralentizar la carga de una página y que el compilador tiene un tamaño considerable de unos 300 KiB. El JSX es más claro y parecido al resultado final que el código equivalente React.DOM pero aún así el código javascript es suficientemente claro. Si aún así quisiésemos usar JSX lo recomendable sería que los archivos con contenido jsx se precompilase en un momento anterior de enviarlo al cliente, posiblemente antes del despliegue de la aplicación en el servidor.</p><p>Para probar el código podemos hacerlo abriendo el archivo test/javascript/SpecRunner.html, sin embargo, deberemos hacerlo con Chrome o Chromium y lanzándolo con un parámetro opcional para permitir la carga de los archivos.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash>$ chromium --allow-file-access-from-files
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/chromium.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/chromium.sh target=_blank>chromium.sh</a></div></div><p>También podríamos probarlo usando gradle con:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash>$ ./gradlew jasmine
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/gradlew.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/gradlew.sh target=_blank>gradlew.sh</a></div></div><p>Sin embargo, <a href=http://phantomjs.org/>PhantomJS</a> que es lo que se utiliza para simular el navegador en las pruebas con jasmine y grunt, no soporta la función bind produciéndose la siguiente excepción al usarse en la librería de React.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext>Error: define: &#39;undefined&#39; is not a function (evaluating &#39;RegExp.prototype.test.bind(
&gt;&gt;     /^(data|aria)-[a-z_][a-z\d_.\-]*$/
&gt;&gt;   )&#39;)</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/error-bind.txt target=_blank>view raw</a></span>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/error-bind.txt target=_blank>error-bind.txt</a></div></div><p>Para evitarlo debemos añadir un <em>polyfill</em>. Deberemos añadir los polyfills de <a href=https://github.com/cujojs/poly>cujojs/poly</a>, podemos hacer uso de ellos con RequireJS basta como añadirlo como dependencia:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=nx>define</span><span class=p>([</span><span class=s1>&#39;poly/function&#39;</span><span class=p>,</span> <span class=s1>&#39;specs/tareas-specs&#39;</span><span class=p>],</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
<span class=p>});</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/main-specs.js target=_blank>view raw</a></span>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/main-specs.js target=_blank>main-specs.js</a></div></div><p>Este problema de la función <em>bind</em> ya esta incluido como <a href="https://code.google.com/p/phantomjs/issues/detail?id=522">peticion en PhantomJS</a> y probablemente se resuelva en la versión 2.0.</p><p>El ejemplo con el <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/BackboneReact>código fuente completo de este ejemplo</a> está en <a href=https://github.com/picodotdev>mi repositorio de GitHub</a>, puedes probarlo en tu equipo con el siguiente comando:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash>$ ./gradlew tomcatRun
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/gradle-tomcatRun.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2014/04/ejemplo-lista-de-tareas-con-backbone-y-react/code/gradle-tomcatRun.sh target=_blank>gradle-tomcatRun.sh</a></div></div><div class=reference>Referencia:<br><ul><li><a href=https://elblogdepicodev.blogspot.com.es/2013/03/introduccion-y-ejemplo-de-requirejs.html>Introducción y ejemplo de RequireJS</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2013/03/introduccion-y-ejemplo-de-mustache.html>Introducción y ejemplo de Mustache</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2013/03/logging-en-javascript-con-log4javascript.html>Logging en JavaScript con log4javascript</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2013/04/capturar-errores-de-javascript.html>Capturar errores de JavaScript</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2013/04/optimizar-modulos-de-requirejs.html>Optimizar módulos de RequireJS y archivos JavaScript</a></li><li><a href=http://elblogdepicodev.blogspot.com/2013/04/introduccion-y-ejemplo-de-backbonejs.html>Introducción y ejemplo de Backbone.js</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2013/05/ejemplo-de-pruebas-unitarias-en.html>Ejemplo de pruebas unitarias en javascript con Jasmine y Sinon</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2013/08/ejemplo-lista-de-tareas-con-marionette.html>Ejemplo lista de tareas con Marionette</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2014/04/usar-grunt-para-ejecutar-teses-unitarios-de-codigo-javascript/>Usar Grunt para ejecutar teses unitarios de código JavaScript</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2016/06/moment-js-libreria-javascript-para-fechas/>Moment.js, librería JavaScript para fechas</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/01/internacionalizacion-i18n-en-javascript/>Internacionalización (i18n) en JavaScript</a></li><li><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Compatibility>Function/bind#Compatibility</a></li><li><a href=http://neugierig.org/software/blog/2014/02/react-jsx-coffeescript.html>React, JSX, and CoffeeScript</a></li></ul></div></div></article></div></div><div class="row related"><div class=col-md-12><h3>Artículos relacionados:</h3><ul><li><a href=/blog-bitix/2014/04/usar-grunt-para-ejecutar-teses-unitarios-de-codigo-javascript/>Usar Grunt para ejecutar teses unitarios de código JavaScript</a></li><li><a href=/blog-bitix/2014/03/novedades-y-nuevas-caracteristicas-de-java-8/>Novedades y nuevas características de Java 8</a></li><li><a href=/blog-bitix/2014/03/introduccion-y-ejemplo-sencillo-de-java-message-service-jms/>Introducción y ejemplo sencillo de Java Message Service (JMS)</a></li><li><a href=/blog-bitix/2014/02/libro-sobre-desarrollo-de-aplicaciones-con-apache-tapestry/>Libro sobre desarrollo de aplicaciones con Apache Tapestry</a></li><li><a href=/blog-bitix/2014/02/presentacion-sobre-apache-tapestry/>Presentación sobre Apache Tapestry</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class=col-12><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2014\/04\/ejemplo-lista-de-tareas-con-backbone-y-react\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2014\/04\/ejemplo-lista-de-tareas-con-backbone-y-react\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div><div class="col-12 col-lg-4"><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:300px;height:600px data-ad-client=ca-pub-3533636310991304 data-ad-slot=9559414587 data-type=large-skycraper></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:336px;height:280px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2873752587 data-type=large-rectangle></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class="row text-center banner"><div class=col-12><a href=https://picodotdev.github.io/blog-bitix/2015/12/yo-apoyo-al-software-libre-tu-tambien/><img src=//static.fsf.org/nosvn/images/badges/badges_es/i-support-fs_red-bg-es.png alt="Yo apoyo al software libre"></a></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row><div class=col-md-12><ul class="list-unstyled recents"><li><span class="glyphicon glyphicon-hand-right"></span><a href=archive/>Más artículos recientes en el archivo</a></li></ul></div></div></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property=dct:title><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property=cc:attributionName rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="picodotdev"><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Parte de la información que usan los contenedores de Docker se debe proteger de accesos no deseados. Anteriormente en algunos casos se usaban variables de entorno para lanzar los contenedores lo que no es seguro si se listan los procesos del sistema con sus parámetros, incluir archivos en las imágenes de los contenedores tampoco es recomendable. Docker Secrets permite proporcionar y mantener segura la información sensible que usen los contenedores. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Información sensible en los contenedores con Docker Secrets</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href=assets/css/font.css><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.3.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script type=text/javascript src=assets/js/require-config.js data-main=js/main defer></script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col-12><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><div class=row><div class=col-12><div class="adblock-sidebar adblock-sidebar-right"><div class=adblock-sidebar-container><ins class="adsbygoogle adblock-sidebar-vertical" style=display:block data-ad-client=ca-pub-3533636310991304 data-ad-slot=9933840986 data-ad-format="vertical, rectangle" data-type=auto></ins></div></div><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content="es"><meta itemprop=keywords content="blog, planeta-codigo, planeta-linux"><h1 itemprop=name>Información sensible en los contenedores con Docker Secrets</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2017-04-22>22/04/2017</time>.<br><a href=tags/blog/>blog</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/planeta-linux/>planeta-linux</a><br><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/#comments>Comentarios</a></p><p class=summary itemprop=about>Parte de la información que usan los contenedores de Docker se debe proteger de accesos no deseados. Anteriormente en algunos casos se usaban variables de entorno para lanzar los contenedores lo que no es seguro si se listan los procesos del sistema con sus parámetros, incluir archivos en las imágenes de los contenedores tampoco es recomendable. Docker Secrets permite proporcionar y mantener segura la información sensible que usen los contenedores.</p><div><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins></div><div class=content itemprop=articleBody><meta itemprop=wordCount content="706"><div class=logotypes style=float:right><img src=assets/images/logotipos/docker.svg class=right width=200 alt=Docker title=Docker></div><p>Los contenedores de <a href=https://www.docker.com/>Docker</a> necesitan acceder a algunos datos sensibles desde el punto de vista de la seguridad como usuarios y contraseñas, certificados SSL, claves privadas SSH o cualquier otra información de acceso restringido. Algunos de estos datos en Docker se proporcionan mediante variables de entorno al lanzar los contenedores, esto es inseguro ya que al hacer un listado de los procesos con sus parámetros de invocación los relativos a Docker mostrarán esta información, lo que es un posible problema de seguridad.</p><p>Con <a href=https://docs.docker.com/engine/swarm/secrets/>Docker Secrets</a> se puede gestionar esta información que se necesita en tiempo de ejecución pero que no se quiere almacenar en la imagen de Docker o en el repositorio de código fuente. Algunos ejemplos de información sensible son:</p><ul><li>Nombres de usuario y contraseñas.</li><li>Certificados TLS y claves.</li><li>Claves SSH.</li><li>Otra información sensible como el nombre de una base de datos o el nombre de un servidor interno.</li></ul><p>Los secretos de Docker se proporcionan a los contenedores que los necesitan y se transmiten de forma cifrada al nodo en el que se ejecuten. Los secretos se montan en el sistema de archivos en la ruta <em>/run/secrets/&lt;secret_name&gt;</em> de forma descifrada al que el servicio del contenedor puede acceder.</p><p>Algunos comandos para manejar los secretos son los siguientes:</p><ul><li><em>docker secret create secreto</em>: crea un secreto.</li><li><em>docker secret inspect secreto</em>: muestra los detalles de un secreto.</li><li><em>docker secret ls</em>: lista los secretos creados.</li><li><em>docker secret rm secreto</em>: elimina un secreto.</li><li>Se usa el parámetro <em>&ndash;secret</em> para <em>docker service create</em> y <em>&ndash;secret-add</em> y <em>&ndash;secret-rm flags</em> para <em>docker service update</em>.</li></ul><p>Usando un <em>stack</em> de servicios con un archivo de <a href=https://docs.docker.com/compose/>Docker Compose</a> en la sección <em>secrets</em> de los servicios se indica cuales usa, en la sección <em>secrets</em> se definen los secretos de los servicios con sus nombres y su contenido referenciando archivos que pueden ser binarios o de text no superior a 500 KiB.</p><p>Al servicio de <a href=https://nginx.org/>nginx</a> la clave privada y certificado para configurar el acceso mediante el protocolo seguro HTTPS se le proporciona a través de secretos que son referenciados en el archivo de configuración del servidor web <em>nginx.conf</em>.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-YAML data-lang=YAML>version<span class=p>:</span><span class=w> </span><span class=s2>&#34;3.1&#34;</span><span class=w>
</span><span class=w>
</span><span class=w></span>services<span class=p>:</span><span class=w>
</span><span class=w>  </span>nginx<span class=p>:</span><span class=w>
</span><span class=w>    </span>image<span class=p>:</span><span class=w> </span>nginx<span class=p>:</span>stable-alpine<span class=w>
</span><span class=w>    </span>ports<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span><span class=s2>&#34;80:80&#34;</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span><span class=s2>&#34;443:443&#34;</span><span class=w>
</span><span class=w>    </span>networks<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>proxy<span class=w>
</span><span class=w>    </span>secrets<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>nginx.conf<span class=w>
</span><span class=w>      </span>-<span class=w> </span>localhost.pem<span class=w>
</span><span class=w>      </span>-<span class=w> </span>localhost.key<span class=w>
</span><span class=w>    </span>command<span class=p>:</span><span class=w> </span>sh<span class=w> </span>-c<span class=w> </span><span class=s2>&#34;exec nginx -c /run/secrets/nginx.conf -g &#39;daemon off;&#39;&#34;</span><span class=w>
</span><span class=w>  </span>app<span class=p>:</span><span class=w>
</span><span class=w>    </span>image<span class=p>:</span><span class=w> </span>localhost<span class=p>:</span><span class=m>5000</span>/spring-boot-app<span class=p>:</span><span class=m>1.0</span><span class=w>
</span><span class=w>    </span>ports<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span><span class=s2>&#34;8080:8080&#34;</span><span class=w>
</span><span class=w>    </span>networks<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>proxy<span class=w>
</span><span class=w>    </span>volumes<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>app<span class=p>:</span>/data<span class=w>
</span><span class=w>    </span>secrets<span class=p>:</span><span class=w>
</span><span class=w>      </span>-<span class=w> </span>message.txt<span class=w>
</span><span class=w></span>networks<span class=p>:</span><span class=w>
</span><span class=w>  </span>proxy<span class=p>:</span><span class=w>
</span><span class=w></span>volumes<span class=p>:</span><span class=w>
</span><span class=w>  </span>app<span class=p>:</span><span class=w>
</span><span class=w>    </span>driver<span class=p>:</span><span class=w> </span>rexray<span class=w>
</span><span class=w>    </span>external<span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=w></span>secrets<span class=p>:</span><span class=w>
</span><span class=w>  </span>nginx.conf<span class=p>:</span><span class=w>
</span><span class=w>    </span>file<span class=p>:</span><span class=w> </span>./nginx.conf<span class=w>
</span><span class=w>  </span>localhost.pem<span class=p>:</span><span class=w>
</span><span class=w>    </span>file<span class=p>:</span><span class=w> </span>./localhost.pem<span class=w>
</span><span class=w>  </span>localhost.key<span class=p>:</span><span class=w>
</span><span class=w>    </span>file<span class=p>:</span><span class=w> </span>./localhost.key<span class=w>
</span><span class=w>  </span>message.txt<span class=p>:</span><span class=w>
</span><span class=w>    </span>file<span class=p>:</span><span class=w> </span>./message.txt</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/docker-compose-stack-app.yml target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/docker-compose-stack-app.yml target=_blank>docker-compose-stack-app.yml</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-plaintext data-lang=plaintext>...

http {
    ...

    upstream app {
        server app_app:8080;
    }

    server {
        listen       80;
        server_name  localhost;

        return 301 https://$host$request_uri;
    }

    server {
        listen       443;
        server_name  localhost;

        ssl                  on;
        ssl_certificate      /run/secrets/localhost.pem;
        ssl_certificate_key  /run/secrets/localhost.key;

        ssl_session_timeout  5m;

        ssl_protocols  SSLv2 SSLv3 TLSv1;
        ssl_ciphers  HIGH:!aNULL:!MD5;
        ssl_prefer_server_ciphers   on;

        location / {
            proxy_pass http://app;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
}</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/nginx.conf target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/nginx.conf target=_blank>nginx.conf</a></div></div><p>Por otra parte la aplicación Java con <a href=https://projects.spring.io/spring-boot/>Spring Boot</a> lista el contenido de los secretos incorporados en el contenedor cuando se solicita en la URL <em>https://192.168.99.100/system/info/</em>, esto no se debe hacer porque se pierde la seguridad que proporcionan los secretos pero sirve a modo de muestra en el ejemplo.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.dockerswarm</span><span class=o>;</span>

<span class=o>.</span><span class=o>.</span><span class=o>.</span>

<span class=nd>@Component</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>HostInfoContributor</span> <span class=kd>implements</span> <span class=n>InfoContributor</span> <span class=o>{</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>contribute</span><span class=o>(</span><span class=n>Info</span><span class=o>.</span><span class=na>Builder</span> <span class=n>builder</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>Object</span><span class=o>&gt;</span> <span class=n>details</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=o>&gt;</span><span class=o>(</span><span class=o>)</span><span class=o>;</span>
        <span class=k>try</span> <span class=o>{</span>
            <span class=o>.</span><span class=o>.</span><span class=o>.</span>

            <span class=n>File</span><span class=o>[</span><span class=o>]</span> <span class=n>secrets</span> <span class=o>=</span> <span class=n>FileSystems</span><span class=o>.</span><span class=na>getDefault</span><span class=o>(</span><span class=o>)</span><span class=o>.</span><span class=na>getPath</span><span class=o>(</span><span class=s>&#34;/run/secrets/&#34;</span><span class=o>)</span><span class=o>.</span><span class=na>toFile</span><span class=o>(</span><span class=o>)</span><span class=o>.</span><span class=na>listFiles</span><span class=o>(</span><span class=o>)</span><span class=o>;</span>
            <span class=k>for</span><span class=o>(</span><span class=n>File</span> <span class=n>file</span> <span class=o>:</span> <span class=n>secrets</span><span class=o>)</span> <span class=o>{</span>
                <span class=k>try</span> <span class=o>{</span>
                    <span class=n>String</span> <span class=n>content</span> <span class=o>=</span> <span class=n>Files</span><span class=o>.</span><span class=na>lines</span><span class=o>(</span><span class=n>file</span><span class=o>.</span><span class=na>toPath</span><span class=o>(</span><span class=o>)</span><span class=o>)</span><span class=o>.</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>joining</span><span class=o>(</span><span class=s>&#34;\n&#34;</span><span class=o>)</span><span class=o>)</span><span class=o>;</span>
                    <span class=n>details</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>file</span><span class=o>.</span><span class=na>getName</span><span class=o>(</span><span class=o>)</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=o>)</span><span class=o>,</span> <span class=n>content</span><span class=o>)</span><span class=o>;</span>
                <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
                    <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>(</span><span class=o>)</span><span class=o>;</span>
                <span class=o>}</span>
            <span class=o>}</span>
        <span class=o>}</span> <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>(</span><span class=o>)</span><span class=o>;</span>
        <span class=o>}</span>
        <span class=n>builder</span><span class=o>.</span><span class=na>withDetails</span><span class=o>(</span><span class=n>details</span><span class=o>)</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/HostInfoContributor.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/HostInfoContributor.java target=_blank>HostInfoContributor.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span><span class=err>.</span><span class=err>.</span><span class=err>.</span><span class=err>,</span><span class=nt>&#34;message.txt&#34;</span><span class=p>:</span><span class=s2>&#34;Hello World!&#34;</span><span class=p>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/info.json target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/info.json target=_blank>info.json</a></div></div><div class=media style=text-align:center><figure><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/images/message.png title="Contenido del archivo message.txt" data-gallery><img src=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/images/message-thumb.png width=300></a><figcaption>Contenido del archivo message.txt</figcaption></figure></div><p>Para probar el ejemplo hay que ejecutar varios comandos, la secuencia completa es la siguiente:</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ ./01-cluster-create.sh
$ ./02-vboxwebsrv.sh
$ ./03-rex-ray-install.sh
$ ./04-docker-compose-stack-deploy-registry.sh
$ ./05-spring-boot-app-build.sh
$ ./06-create-volumes.sh
$ ./06-docker-compose-stack-deploy-app.sh

$ curl -k https://192.168.99.100/system/info</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/run.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/code/run.sh target=_blank>run.sh</a></div></div><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/DockerSwarm>código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href=https://github.com/>GitHub</a>.</p></div></article><div class="row serie"><div class=col-md-12><h3>Este artículo forma parte de la serie <strong>docker</strong>:</h3><ol class=serie-articles><li><a href=https://picodotdev.github.io/blog-bitix/2014/10/introduccion-y-caracteristicas-de-docker/>Introducción y características de Docker</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2014/11/inicio-basico-de-docker/>Inicio básico de Docker</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2014/11/como-crear-una-imagen-para-docker-usando-un-dockerfile/>Cómo crear una imagen para Docker usando un Dockerfile</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2014/11/integracion-entre-ansible-y-docker/>Integración entre Ansible y Docker</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/07/aplicaciones-multicontenedor-con-docker-compose/>Aplicaciones multicontenedor con Docker Compose</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/07/crear-y-usar-un-repositorio-en-docker-hub/>Crear y usar un repositorio en Docker Hub</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/07/usar-docker-con-docker-machine-en-linux-windows-o-mac/>Usar docker con Docker Machine en Linux, Windows o Mac</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/07/cambiar-la-ruta-raiz-del-entorno-de-docker/>Cambiar la ruta raíz del entorno de Docker</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/03/introduccion-y-ejemplo-de-cluster-de-contenedores-con-docker-swarm/>Introducción y ejemplo de cluster de contenedores con Docker Swarm</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/04/iniciar-un-stack-de-servicios-en-un-cluster-de-docker-swarm/>Iniciar un stack de servicios en un cluster de Docker Swarm</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/04/escalar-y-actualizar-un-servicio-de-un-cluster-de-docker-swarm/>Escalar y actualizar un servicio de un cluster de Docker Swarm</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/04/contenedores-en-docker-swarm-con-volumenes-de-datos-persistentes-usando-rex-ray-y-virtualbox/>Contenedores en Docker Swarm con volúmenes de datos persistentes usando REX-Ray y VirtualBox</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/04/informacion-sensible-en-los-contenedores-con-docker-secrets/>Información sensible en los contenedores con Docker Secrets</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/04/imagenes-de-docker-con-alpine-linux/>Imágenes de Docker con Alpine Linux</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/05/registro-y-descubrimiento-de-servicios-en-contenedores-de-docker-con-consul-y-registrator/>Registro y descubrimiento de servicios en contenedores de Docker con Consul y Registrator</a></li></ol></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='blog-bitix-227';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2017\/04\/informacion-sensible-en-los-contenedores-con-docker-secrets\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property="dct:title"><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property="cc:attributionName" rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
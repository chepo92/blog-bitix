<?xml version="1.0" encoding="utf-8"?><feed version="2.0" xmlns="http://www.w3.org/2005/Atom"><id>https://picodotdev.github.io/blog-bitix/tags/software-libre/</id><title type="text">Blog Bitix</title><subtitle>Recent content on Blog Bitix</subtitle><updated>2019-12-22T11:30:00+01:00</updated><author><name>picodotdev</name></author><generator>Hugo</generator><icon>https://picodotdev.github.io/blog-bitix/assets/images/logotipos/hugo.png</icon><logo>https://picodotdev.github.io/blog-bitix/assets/images/logotipos/hugo.png</logo><rights>https://creativecommons.org/licenses/by-sa/4.0/</rights><entry><id>https://picodotdev.github.io/blog-bitix/2019/12/articulo-7-de-yo-apoyo-al-software-libre/</id><title>Artículo #7 de Yo apoyo al software libre</title><updated>2019-12-22T11:30:00+01:00</updated><published>2019-12-22T11:30:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2019/12/articulo-7-de-yo-apoyo-al-software-libre/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/calibre.png" class="right " width="300" alt="Calibre" title="Calibre"/>
&lt;/div>
&lt;p>Continuando con la serie de artículos comentando las donaciones que voy realizando a los proyectos de software libre en este caso comentaré otro programa que uso habitualmente. En este caso de trata del programa el &lt;a href="https://picodotdev.github.io/blog-bitix/2019/11/gestionar-biblioteca-y-convertir-entre-formatos-de-libros-electronicos-con-calibre/">gestor gestor de libros electrónicos y conversor entre diferentes formatos de libro electrónicos Calibre&lt;/a> que que quizá no tiene la interfaz de usuario más atractiva pero es muy útil, funciona realmente bien y permite tener organizada la biblioteca digital.&lt;/p>
&lt;p>Lo uso habitualmente para convertir los libros en formato &lt;em>epub&lt;/em> a &lt;em>mobi&lt;/em> para poder leerlos en el lector de libros electrónicos &lt;a href="https://amzn.to/2KXwDLu">Amazon Kindle&lt;/a>. El programa &lt;a href="https://calibre-ebook.com/">Calibre&lt;/a> es software libre y gratuito pero ofrece la opción de realizar una donación para contribuir al mantenimiento del proyecto que el desarrollador o desarrolladores seguro agradecen para costear sus gastos ayudándoles a realizar nuevas mejoras en el programa.&lt;/p>
&lt;p>Hace unos meses se publicó la versión 4.0 del programa y cada semana o dos semanas hay una nueva versión que incluye correcciones y algunas mejoras, aún usando la distribución de &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a> como &lt;a href="https://www.archlinux.org/">Arch Linux&lt;/a> siendo &lt;em>rolling release&lt;/em> y actualizando el sistema cada dos semanas es uno de los pocos programas que habitualmente tengo desactualizado en una versión anterior a la última, eso es resultado de las numerosas versiones que se publican del mismo.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/articulo-7-de-yo-apoyo-al-software-libre/images/calibre_hu3e341aee3376c85fc08f0bb76a7e3125_1938310_2560x1440_fit_box_2.png" title="Bibliteca y conversor de libros electrónicos Calibre" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/articulo-7-de-yo-apoyo-al-software-libre/images/calibre_hu3e341aee3376c85fc08f0bb76a7e3125_1938310_300x200_fit_box_2.png" width="291"/>&lt;/a>
&lt;figcaption>Bibliteca y conversor de libros electrónicos Calibre&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>La cantidad que he donado no es mucho pero si un porcentaje de los usuarios que lo utilizan realizarán una pequeña donación el proyecto continuará desarrollándose. Muchos programas de software libre utilizados por usuarios e incluso empresas que ganan millones de dólares confían en proyectos que en algunos casos solo están mantenidos por una persona y de forma voluntaria en su tiempo libre sin recibir un sueldo a cambio.&lt;/p>
&lt;p>Una donación en la medida que uno pueda o desee es una buena forma de si un programa le es realmente útil devolver algo en compensación de su uso. A continuación el recibo de la donación que he realizado a Calibre.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/articulo-7-de-yo-apoyo-al-software-libre/images/donacion-calibre_hua07f0c6883cb9d3f9b30f28b2d16ce12_117262_2560x1440_fit_box_2.png" title="Donación Calibre" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/articulo-7-de-yo-apoyo-al-software-libre/images/donacion-calibre_hua07f0c6883cb9d3f9b30f28b2d16ce12_117262_650x450_fit_box_2.png" width="296"/>&lt;/a>
&lt;figcaption>Donación Calibre&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Recuerda que si no es por privacidad y usas un bloqueador de anuncios &lt;a href="https://adblockplus.org/es/faq_basics#disable">desactivándolo en Blog Bitix&lt;/a> ayudas a que pueda seguir haciendo estas donaciones aún siendo pequeñas y una parte pequeña de los ingresos que me genera el blog.&lt;/p>
&lt;table class="table">
&lt;thead>
&lt;tr class="thead-dark">
&lt;th colspan="4">Donaciones que he realizado hasta la última fecha&lt;/td>
&lt;/tr>
&lt;tr class="thead-light">
&lt;th>#&lt;/td>
&lt;th>Fecha&lt;/td>
&lt;th>Proyecto&lt;/td>
&lt;th>Donación&lt;/td>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>2015/12&lt;/td>
&lt;td>Free Software Foundation Europe (FSFE)&lt;/td>
&lt;td>40€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>2016/09&lt;/td>
&lt;td>Wikipedia, Firefox&lt;/td>
&lt;td>10€, 10€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>2017/01&lt;/td>
&lt;td>elementaryOS, Libre Office, Arch Linux ARM&lt;/td>
&lt;td>10€, 10€, 10€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>2017/05&lt;/td>
&lt;td>GNOME, VideoLAN (VLC), Arch Linux&lt;/td>
&lt;td>15,31€, 10€, 0,31€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>2018/01&lt;/td>
&lt;td>LineageOS, Replicant&lt;/td>
&lt;td>15€, 15€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>2018/12&lt;/td>
&lt;td>Wine&lt;/td>
&lt;td>$20&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7&lt;/td>
&lt;td>2019/12&lt;/td>
&lt;td>Calibre&lt;/td>
&lt;td>$10&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td colspan="3">Total&lt;/td>
&lt;td>145€, $30&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></content><category term="planeta-codigo"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/</id><title>Nube privada para documentos personales con Nextcloud y OnlyOffice</title><updated>2019-12-05T12:00:00+01:00</updated><published>2019-12-05T12:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>&lt;strong>Empresas como Google ofrecen servicios gratuitos que los usuarios pueden utilizar, algunos de ellos a cambio de entregrarles documentos con información personal con la consiguiente potencial pérdida de privacidad. Algunos de estos servicios son sustituibles con alternativas como Nextcloud y OnlyOffice que permiten a sus usuarios ser dueños de su información ya sea utilizando una Raspberry Pi como servidor que debe ser administrada o incluso en la nube con servicios como DigitalOcean o AWS.&lt;/strong>&lt;/p>
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/nextcloud.svg" class="right " width="200" alt="Nextcloud" title="Nextcloud"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/onlyoffice.svg" class="right " width="200" alt="OnlyOffice" title="OnlyOffice"/>
&lt;/div>
&lt;p>Una cuenta de Google da acceso a múltiples servicios gratuitos, útiles y con un servicio más que correcto. Algunas de estos servicios está el de correo electrónico de &lt;a href="https://www.google.com/intl/es/gmail/about/">GMail&lt;/a>, la sincronización y unidad de documentos de &lt;a href="https://www.google.es/drive/apps.html">Google Drive&lt;/a>, calendario para apuntar citas y recordatorios con &lt;a href="https://www.google.com/calendar/about/">Google Calendar&lt;/a>, el acceso a la &lt;em>suite&lt;/em> ofimática colaborativa &lt;a href="https://www.google.es/intl/es/docs/about/">Google Docs&lt;/a> o fotos con &lt;a href="https://www.google.com/photos/about/">Google Photos&lt;/a>. Estos son los servicios que uso de Google por su comodidad.&lt;/p>
&lt;p>Los servicios en la nube permiten guardar los documentos e información fuera del dispositivo donde se usen, esto permite tener sincronizados y compartir todos los documentos entre varios dispositivos como el ordenador personal en casa, tener disponibles los documentos en el ordenador del trabajo y en un dispositivo móvil como un &lt;em>smartphone&lt;/em> en cualquier lugar. El problema de los servicios en la nube es que no somos realmente propietarios de nuestra información y documentos, son entregados a esos servicios como los de Google, esto genera una pérdida de privacidad sin ser conscientes de los usos que le pueda dar Google. Para proteger nuestra privacidad hay alternativas para disponer de nuestra propia nube que proporcione la mayoría de estos servicios.&lt;/p>
&lt;p>&lt;a href="https://nextcloud.com/">Nextcloud&lt;/a> es un software que permite alojar en nuestro propio servidor nuestros documentos sustituyendo a varios de los servicios de Google. Nextcloud permite almacenar archivos y documentos ofimáticos, fotos, música, calendarios, un visor de PDF, editor de &lt;em>markdown&lt;/em>, gestor de tareas o nuestros contactos. Permite complementos con los que añadir las funcionalidad que necesitemos como un reproductor de música o un paquete ofimático con &lt;a href="https://www.onlyoffice.com/es/">OnlyOffice&lt;/a> que sustituya a Google Docs.&lt;/p>
&lt;p>Una &lt;a href="https://www.raspberrypi.org/">Raspberry Pi 4&lt;/a> o una de sus &lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/7-plus-computadoras-baratas-del-tamano-de-una-tarjeta-de-credito-basadas-en-gnu-linux-y-arm/">7 computadoras alternativas&lt;/a> similares es una buena opción como servidor por su pequeño tamaño, bajo consumo, totalmente silencioso con un recomendable disipador pasivo y suficiente para ejecutar con normalidad Nexcloud con los 4 GiB de memoria del modelo con más capacidad. Hay &lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/7-plus-computadoras-baratas-del-tamano-de-una-tarjeta-de-credito-basadas-en-gnu-linux-y-arm/">otras placas similares&lt;/a> o incluso se puede utilizar un &lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/desempaquetado-intel-nuc-nuc8i5bek-bean-canyon-hyperx-impact-ram-y-samsung-970-evo-nvme-ssd/">Intel NUC&lt;/a> que permiten más cantidad de memoria y sus procesadores son más capaces. Para una nube privada una Raspberry Pi es interesante por su pequeño tamaño y bajo consumo eléctrico dado que su funcionamiento sería constante.&lt;/p>
&lt;div class="media-amazon" style="text-align: center;">
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B07TC2BK1X&amp;linkId=6e87726b77e92056e7ac168add1bc747">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B07XNVPK8X&amp;linkId=bef0fad42b2cc046799c66f7fa220c0f">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B073JWXGNT&amp;linkId=d64d66fda7d25defd2018c4119aa7e46">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B014I8U33I&amp;linkId=df5c52be4ca21b9991d26145edb0b642">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;language=es_ES&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B07VMXHJ4Q&amp;linkId=39ee0802cdc202ce8259d463b59224ed">&lt;/iframe>
&lt;/div>
&lt;p>Usando &lt;a href="https://www.docker.com/">Docker&lt;/a> y el &lt;a href="https://github.com/ONLYOFFICE/docker-onlyoffice-nextcloud">repositorio de GitHub&lt;/a> es sencillo iniciar el servidor de Nextcloud realizando los siguientes pasos.&lt;/p>
&lt;ul>
&lt;li>Instalar Docker.&lt;/li>
&lt;li>Descargar o clonar el repositorio de GitHub.&lt;/li>
&lt;li>Iniciar con Docker Compose los contenedores de Nextcloud y OnlyOffice.&lt;/li>
&lt;li>Acceder &lt;em>http://localhost&lt;/em> y realizar la configuración incial, introducir el usuario y contraseña de administrador.&lt;/li>
&lt;li>Ejecutar _bash set&lt;em>configuration.sh&lt;/em>.&lt;/li>
&lt;li>Añadir el complemento de OnlyOffice.&lt;/li>
&lt;li>Acceder a &lt;em>http://localhost&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>Este archivo de Docker Compose incluye Nextcloud con OnlyOffice sin usar una base de datos externa.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-yaml" data-lang="yaml">version&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>services&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>app&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>container_name&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>app-server&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>image&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>nextcloud&lt;span class="p">:&lt;/span>fpm&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>stdin_open&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>tty&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>restart&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>always&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>expose&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;80&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;9000&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>app_data&lt;span class="p">:&lt;/span>/var/www/html&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>onlyoffice-document-server&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>container_name&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>onlyoffice-document-server&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>image&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>onlyoffice/documentserver&lt;span class="p">:&lt;/span>latest&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>stdin_open&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>tty&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>restart&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>always&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>expose&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;80&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;443&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>document_data&lt;span class="p">:&lt;/span>/var/www/onlyoffice/Data&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>document_log&lt;span class="p">:&lt;/span>/var/log/onlyoffice&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>nginx&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>container_name&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>nginx-server&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>image&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>nginx&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>stdin_open&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>tty&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>restart&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>always&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>ports&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="m">443&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">443&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>./nginx.conf&lt;span class="p">:&lt;/span>/etc/nginx/nginx.conf&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>app_data&lt;span class="p">:&lt;/span>/var/www/html&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>document_data&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>document_log&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>app_data&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>mysql_data&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/code/docker-compose.yml" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/code/docker-compose.yml" target="_blank">docker-compose.yml&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ docker-compose up&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/code/docker-compose-up.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/code/docker-compose-up.sh" target="_blank">docker-compose-up.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-configuracion_hu71be4eb84aafb9ce7fab3e64376aea28_604659_2560x1440_fit_box_2.png" title="Configuración de Nextcloud" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-configuracion_hu71be4eb84aafb9ce7fab3e64376aea28_604659_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-inicio_hub6e4ffc90cc2af7ccefcc81e262cb7bf_499248_2560x1440_fit_box_2.png" title="Inicio de Nextcluod" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-inicio_hub6e4ffc90cc2af7ccefcc81e262cb7bf_499248_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-archivos_hu006c070563ecaf608f00bed346476229_74410_2560x1440_fit_box_2.png" title="Archivos en Nextcloud" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-archivos_hu006c070563ecaf608f00bed346476229_74410_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Configuración y archivos en Nextcloud&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>&lt;a href="https://picodotdev.github.io/blog-bitix/2016/05/4-opciones-ofimaticas-alternativas-gratuitas-a-microsoft-office/">OnlyOffice es un paquete ofimático alternativa a Microsoft Office&lt;/a> que ofrece un editor de documentos de texto, una hoja de cálculo y una aplicación para realizar presentaciones integrables en Nextcloud. Son aplicaciones con menos opciones que las ofrecidas por Microsoft Office pero suficientes para un uso sencillo, también dispone de una versión como aplicaciones de escritorio.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-onlyoffice-documento_hufcda4a8a1c5c00c77b1b7b42f2d3b42d_79818_2560x1440_fit_box_2.png" title="Documento con OnlyOffice" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-onlyoffice-documento_hufcda4a8a1c5c00c77b1b7b42f2d3b42d_79818_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-onlyoffice-hoja-de-calculo_hu65fe01024147f6fcc8c8c26bba3cdc3c_86656_2560x1440_fit_box_2.png" title="Hola de cálculo con OnlyOffice" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-onlyoffice-hoja-de-calculo_hu65fe01024147f6fcc8c8c26bba3cdc3c_86656_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-onlyoffice-presentacion_hu15085961136d67ecfbeeaeba5c3c2983_86221_2560x1440_fit_box_2.png" title="Presentación con OnlyOffice" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-onlyoffice-presentacion_hu15085961136d67ecfbeeaeba5c3c2983_86221_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Ofimática con OnlyOffice y Nextcloud alternativa a Google Docs&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Otras utilidades es un reproductor de música, calendario o galería de fotos, hay un complemento para añadir estas funcionalidades.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-visor-pdf_hu62130f9d3c07d7e46a0c489ebe2b6e6c_244097_2560x1440_fit_box_2.png" title="Visor de documento PDF" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-visor-pdf_hu62130f9d3c07d7e46a0c489ebe2b6e6c_244097_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-calendario_huf8c4556665395f6bc2afa76ffb4f08e4_53030_2560x1440_fit_box_2.png" title="Calendario" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-calendario_huf8c4556665395f6bc2afa76ffb4f08e4_53030_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-visor-fotos_hu4af076e4e429082c673bed4949d6ce39_528032_2560x1440_fit_box_2.png" title="Vidor de fotos" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-visor-fotos_hu4af076e4e429082c673bed4949d6ce39_528032_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Aplicaciones y complementos&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Con &lt;a href="https://en.wikipedia.org/wiki/WebDAV">WebDAV&lt;/a> los documentos son accesibles como si fuese una unidad local proporcionando la misma funcionalidad de Google Drive. En GNOME con el explorador de archivos Nautilus es posible conectarse a dispositivo WebDAV, en el caso de Nextcloud la dirección es &lt;em>dav://localhost/remote.php/dav/files/admin&lt;/em>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-webdav_hue4d74c1fb67c603f196cd9b05513d73e_55315_2560x1440_fit_box_2.png" title="Archivos en el explorador de archivos Nautilus con WebDAV" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-webdav_hue4d74c1fb67c603f196cd9b05513d73e_55315_300x200_fit_box_2.png" width="282"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-administracion_huddaddb2ca687512b9813c796514dfc7c_108110_2560x1440_fit_box_2.png" title="Opciones de administración" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/12/nube-privada-para-documentos-personales-con-nextcloud-y-onlyoffice/images/nextcloud-administracion_huddaddb2ca687512b9813c796514dfc7c_108110_300x200_fit_box_2.png" width="251"/>&lt;/a>
&lt;figcaption>Archivos en el explorador de archivos Nautilus con WebDAV y opciones de administración&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Con las &lt;a href="https://nextcloud.com/install/#">aplicaciones para &lt;em>smatphone&lt;/em>&lt;/a> los documentos quedan accesibles en cualquier lugar teniendo un dispositivo móvil, &lt;em>smartphone&lt;/em> o tableta. Tener una nube propia que esté accesible en internet hace necesario tener un dominio propio, añadir seguridad para lo que es necesario configurar Nextcloud de modo que utilice el protocolo seguro que cifre las comunicaciones con TLS, esto requiere obtener &lt;a href="https://picodotdev.github.io/blog-bitix/2014/02/generar-y-convertir-claves-y-certificados-con-openssl/">un certificado autofirmado&lt;/a> al menos o mejor obteniendolo de &lt;a href="https://letsencrypt.org/">Let&amp;rsquo;s Encrypt&lt;/a>, que proporciona certificados de forma automatizada y gratuita. Otra medida para aumentar la seguridad es utilizar un segundo factor de autenticación o &lt;em>2FA&lt;/em>.&lt;/p>
&lt;p>Hay &lt;a href="https://github.com/nextcloud/docker/blob/master/.examples/docker-compose/with-nginx-proxy/postgres/fpm/docker-compose.yml">ejemplo de archivo de Docker Compose para tener Nexcloud con un certificado&lt;/a> creado y renovado de forma automática con Let&amp;rsquo;s Encrypt a través del contenedor &lt;a href="https://github.com/JrCs/docker-letsencrypt-nginx-proxy-companion">jrcs/letsencrypt-nginx-proxy-companion&lt;/a> y configurando las variables de entorno &lt;em>LETSENCRYPT_HOST&lt;/em>, &lt;em>LETSENCRYPT_EMAIL&lt;/em> con el dominio propio para Nexcloud y un correo electrónico.&lt;/p>
&lt;div class="reference">
Referencia:&lt;br>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/series/docker/">Serie de artículos sobre Docker&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div></content><category term="planeta-codigo"/><category term="software"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/</id><title>Microservicios con Spring Cloud, Consul, Nomad y Traefik</title><updated>2019-10-12T02:30:00+02:00</updated><published>2019-10-12T02:30:00+02:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>&lt;strong>Sin entrar a si los microservicios son adecuados o no son adecuados en una aplicación, está claro que si se utilizan estos tienen varias necesidades. Un servicio de registro y descubrimiento, configuración centralizada, tolerancia a fallos, &lt;em>gateway/load balancer/reverse proxy&lt;/em>, trazabilidad y métricas, autenticación, orquestación, &amp;hellip; Los microservicios quiza no sean un gran monolito, quizá mas pequeños y con funcinalidad más acotada, pero el hecho de que se comuniquen a través de un medio más complejo y menos fiable como la red en vez de una llamada a un método y sean más numerosos hacen que la complejidad sea incluso mayor. Este artículo propone un ejemplo con Spring Cloud para los servicios, Consul para el registro y descubrimiento, Nomad para la orquestación y Traefik como &lt;em>gateway&lt;/em>.&lt;/strong>&lt;/p>
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/java.svg" class="right " width="200" alt="Java" title="Java"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/spring.svg" class="right " width="200" alt="Spring" title="Spring"/>
&lt;/div>
&lt;p>En otro artículo mostraba un ejemplo de &lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/registro-y-descubrimiento-de-servicios-con-spring-cloud-netflix/">microservicios con Spring Cloud&lt;/a> usando únicamente herramientas de &lt;a href="https://spring.io/">Spring&lt;/a>. Cada una de esas herramientas cubren una funcionalidad que necesitan los microservicios. Entre ellas:&lt;/p>
&lt;ul>
&lt;li>Registro y descubrimiento, con &lt;a href="https://github.com/Netflix/eureka">Eureka&lt;/a>. Los microservicios son numerosos, de vida efímera creándose y destruyéndose en diferentes ubicaciones por lo tanto necesitan una forma de localizarse unos a otros, la forma para encontrarse es acudiendo a un servicio donde se registran cuando se inician y se descubren cuando necesitan la ubicación de otro servicio.&lt;/li>
&lt;li>Configuración centralizada, con &lt;a href="https://cloud.spring.io/spring-cloud-config/">Spring Cloud Config&lt;/a>. Dado el número de microservicios actualizar la configuración de cada uno de ellos puede ser un problema, además dado que se pueden iniciar en diferentes ubicaciones aprovisionarles la configuración adecuada es un reto. En vez de aprovisionar la configuración otra técnica es hacer que cuando se inicien la obtengan de un servicio donde queda centralizada la configuración.&lt;/li>
&lt;li>Tolerancia a fallos, con &lt;a href="https://github.com/Netflix/Hystrix">Hyxtrix&lt;/a> y &lt;a href="https://github.com/resilience4j/resilience4j">Resilience4j&lt;/a>. El medio de comunicación de los microservicios es a través de la red un medio mucho menos confiable que una llamada a un método en un lenguaje de programación en una aplicación monolítica. De modo que los microservicios han de estar preparados para tolerar fallos en sus comunicaciones con otros servicios.&lt;/li>
&lt;li>&lt;em>Gateway&lt;/em>, &lt;em>load balancer&lt;/em> y &lt;em>reverse proxy&lt;/em> con tolerancia a fallos, con &lt;a href="https://github.com/Netflix/zuul">Zuul&lt;/a>. Para aumentar la disponibilidad, escalabilidad y tolerar fallos en algunos servicios se suelen crear varias instancias de cada microservicio pero tener varias instancias hace que sea necesario balancear la carga entre cada una de las instancias. Para que los clientes sean agnósticos del número de instancias se emplea un &lt;em>gateway&lt;/em> que proporciona balanceo de carga e implementa a su vez patrones de tolerancia a fallos.&lt;/li>
&lt;li>Trazabilidad y correlación de trazas entre diferentes servicios, con &lt;a href="https://spring.io/projects/spring-cloud-sleuth">Spring Cloud Sleuth&lt;/a>. Una petición puede desencadenar una cadena de peticiones entre diferentes servicios ubicados en múltiples nodos, para tareas de diagnóstico en caso de querer investigar un &lt;em>bug&lt;/em> o que ha ocurrido es necesario correlacionar todas las trazas que ha desencadenado una petición, se implementa asignado un identificativo global a la petición que es transmitido en las llamadas de microservicio a microservicio.&lt;/li>
&lt;/ul>
&lt;p>En otro &lt;a href="https://picodotdev.github.io/blog-bitix/2019/02/servidor-oauth-gateway-y-servicio-rest-utilizando-tokens-jwt-con-spring/">ejemplo sobre OAuth con Spring&lt;/a> mostraba otra funcionalidad:&lt;/p>
&lt;ul>
&lt;li>&lt;em>Gateway&lt;/em>, con &lt;a href="https://spring.io/projects/spring-cloud-gateway">Spring Cloud Gateway&lt;/a>.&lt;/li>
&lt;li>Autenticación y autorización, con &lt;a href="https://spring.io/projects/spring-security-oauth">Spring Security OAuth&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>Los microservicios también necesitan monitorización y métricas, en el ejemplo &lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/monitorizar-una-aplicacion-java-de-spring-boot-con-micrometer-prometheus-y-grafana/">Monitorizar una aplicación Java de Spring Boot con Micrometer, Prometheus y Grafana&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>Con &lt;a href="https://prometheus.io/">Prometheus&lt;/a> y &lt;a href="https://grafana.com/">Grafana&lt;/a>. Nuevamente el número de instancias que requiere una arquitectura orientada a microservicios origina la necesidad en mayor medida de conocer el estado del sistema, ya sean métricas de los sistemas como uso de CPU, memoria o almacenamiento o de la aplicación como peticiones por segundo y porcentaje de correctas e incorrectas.&lt;/li>
&lt;/ul>
&lt;p>En esta lista falta un orquestador para el despliegue de los microservicios, que se encargue de su ciclo de vida, escalado de instancias y despliegue con estrategias &lt;em>rolling&lt;/em>, &lt;em>blue/green&lt;/em> y &lt;em>canary&lt;/em>. Es una cosa que le faltaba al ejemplo de microservicios con Spring Cloud.&lt;/p>
&lt;ul>
&lt;li>Orquestador de servicios, con &lt;a href="https://www.nomadproject.io/">Nomad&lt;/a>. &lt;a href="https://picodotdev.github.io/blog-bitix/2019/04/introduccion-a-nomad-para-gestionar-aplicaciones-y-microservicios/">Introducción a Nomad para gestionar aplicaciones y microservicios&lt;/a>, &lt;a href="https://picodotdev.github.io/blog-bitix/2019/04/estrategias-de-despliegue-para-microservicios-con-nomad/">Estrategias de despliegue para microservicios con Nomad&lt;/a>.&lt;/li>
&lt;/ul>
&lt;p>Además, en este ejemplo reemplazo varias de estas herramientas de Spring. Sustituyo el servicio de registro y descubrimiento proporcionado por Eureka por &lt;a href="https://www.consul.io/">Consul&lt;/a>, el &lt;em>gateway&lt;/em>, &lt;em>load balancer&lt;/em> y &lt;em>reverse proxy&lt;/em> proporcionado por Zuul por &lt;a href="https://traefik.io/">Traefik&lt;/a> y añado el orquestador de microservicios &lt;a href="https://www.nomadproject.io/">Nomad&lt;/a>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;img src="assets/images/logotipos/consul.svg" alt="Consul" title="Consul" width="200"/>
&lt;img src="assets/images/logotipos/nomad.svg" alt="Nomad" title="Nomad" width="200"/>
&lt;img src="assets/images/logotipos/traefik.svg" alt="Traefik" title="Traefik" width="200"/>
&lt;/div>
&lt;p>Traefik se configura con los servicios iniciados en los contenedores de Docker utilizando junto con los bloques o &lt;em>stanzas&lt;/em> de &lt;em>config&lt;/em> y &lt;em>labels&lt;/em> en la definición de los servicios de Nomad. Según el criterio definido por el servicio Traefik es capaz de redirigir el tráfico que le llegue al servicio apropiado, entre las posibilidades que puede realizar Traefik es balanceo de carga entre las múltiples instancias que se hayan definido pero también implementa patrones de tolerancia a fallos con reintentos, el patrón &lt;em>circuit breaker&lt;/em> o limitar el tráfico para evitar saturar a un servicio con demasiadas peticiones.&lt;/p>
&lt;p>El esquema de servicios sería el siguiente. Los &lt;em>job&lt;/em> son enviados a Nomad desde la linea de comandos que inicia los contenedores en Docker y registra los servicios en Consul, Traefik monitoriza los contenedores que se inician en Docker y se autoconfigura según las propiedades de los &lt;em>labels&lt;/em> definidos para los contenedores. Una vez iniciados los servicios desde la terminal con un &lt;em>curl&lt;/em> o desde la aplicación cliente que accede a Consul para conocer la ubicación del servicio de Traefik envían una petición a Traefik que haciendo balanceo de carga la reenvía a una de las instancias del servicio, el servicio responde y Traefik envía la respuesta al cliente. Para ser más funcional Traefik debería configurarse a partir de Consul en vez de Docker para posibilitar que los contenedores pudieran estar en varios nodos.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/esquema-arquitectura_hud9745ca4e3e6c708b4af1c72fc0d4ff7_167252_2560x1440_fit_box_2.png" title="Esquema arquitectura" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/esquema-arquitectura_hud9745ca4e3e6c708b4af1c72fc0d4ff7_167252_600x450_fit_box_2.png" width="600"/>&lt;/a>
&lt;figcaption>Esquema arquitectura&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>La ejecución del ejemplo requiere &lt;a href="https://www.docker.com/">Docker&lt;/a> ya que es en este caso el &lt;em>driver&lt;/em> empleado en Nomad para ejecutar los servicios del servicio de configuración, el &lt;em>gateway&lt;/em>, el servicio y el cliente del servicio. Nomad además se encarga de registrar los servicios en el servicio de registro y descubrimiento de Consul.&lt;/p>
&lt;p>Los contenedores de Docker se añade a una misma red para que puedan comunicarse entre ellos, ha de ser así hasta que no se resuelva una &lt;a href="https://github.com/docker/for-linux/issues/264">petición de Docker para que los contenedores puedan comunicarse con la máquina &lt;em>host&lt;/em>&lt;/a> que los alberga.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ docker network create --subnet 172.30.0.0/16 nomad
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/docker-network-create.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/docker-network-create.sh" target="_blank">docker-network-create.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Poteriormente hay que ejecutar Consul y Nomad tras lo cual se puede acceder a sus consolas de estado.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ consul agent -dev -ui -client&lt;span class="o">=&lt;/span>0.0.0.0
$ nomad agent -dev&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/nomad-consul-run.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/nomad-consul-run.sh" target="_blank">nomad-consul-run.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Enviar a Nomad los &lt;em>job&lt;/em> de Traefik tras lo cual se puede acceder a su consola de estado. El siguiente paso es enviar el &lt;em>job&lt;/em> del servicio que proporciona la configuración a los microservicios. Lo anterior únicamente es infraestructura aún no hay ningún servicio que proporcione alguna funcionalidad, la funcionalidad que proporciona el servicio implementado con Spring es simplemente devolver un mensaje como respuesta a la petición que se le realice, se envía el &lt;em>job&lt;/em> del servicio a Nomad. Finalmente, el servicio es consumido por un cliente que realiza una petición al servicio cada 1 segundo.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ ./gradlew assemble
$ nomad job run nomad/traefik.nomad
$ nomad job run nomad/configserver.nomad
$ nomad job run nomad/service.nomad
$ nomad job run nomad/client.nomad&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/nomad-job-run.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/nomad-job-run.sh" target="_blank">nomad-job-run.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Definición de un servicio en un &lt;em>job&lt;/em> para Nomad. &lt;em>count&lt;/em> define cuantas instancias del servicio se inicia, la &lt;em>stanza&lt;/em> &lt;em>update&lt;/em> define como será la actualización cuando se actualice el servicio, la &lt;em>stanza&lt;/em> &lt;em>labels&lt;/em> contiene la configuración para Traefik, &lt;em>check&lt;/em> define los parámetros para la monitorización.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-HCL" data-lang="HCL">&lt;span class="k">job&lt;/span> &lt;span class="s2">&amp;#34;service&amp;#34;&lt;/span> {
&lt;span class="n"> datacenters&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;dc1&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="k">group&lt;/span> &lt;span class="s2">&amp;#34;service&amp;#34;&lt;/span> {
&lt;span class="n"> count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">2&lt;/span>
&lt;span class="k">update&lt;/span> {
&lt;span class="n"> max_parallel&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>
&lt;span class="n"> health_check&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;checks&amp;#34;&lt;/span>
&lt;span class="n"> min_healthy_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;20s&amp;#34;&lt;/span>
&lt;span class="n"> healthy_deadline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;10m&amp;#34;&lt;/span>
&lt;span class="n"> progress_deadline&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;20m&amp;#34;&lt;/span>
&lt;span class="n"> canary&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1&lt;/span>
&lt;span class="n"> stagger&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;15s&amp;#34;&lt;/span>
}
&lt;span class="k">task&lt;/span> &lt;span class="s2">&amp;#34;service&amp;#34;&lt;/span> {
&lt;span class="n"> driver&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;docker&amp;#34;&lt;/span>
&lt;span class="k">config&lt;/span> {
&lt;span class="n"> image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;openjdk:11-jdk&amp;#34;&lt;/span>
&lt;span class="n"> args&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="s2">&amp;#34;bash&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n"> &amp;#34;(cd /app &amp;amp;&amp;amp; java -jar /app/service/build/libs/service-1.0.jar --port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;span class="k">port_map&lt;/span> {
&lt;span class="n"> http&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;8080&amp;#34;&lt;/span>
}
&lt;span class="n"> network_mode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;nomad&amp;#34;&lt;/span>
&lt;span class="n"> extra_hosts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="s2">&amp;#34;traefik:172.30.0.3&amp;#34;&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;span class="n"> volumes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="s2">&amp;#34;/home/picodotdev/Software/personal/blog-ejemplos/SpringCloudConsulNomadTraefik/:/app&amp;#34;&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;span class="k">labels&lt;/span> {
&lt;span class="n"> traefik.http.middlewares.service1-stripprefix.stripprefix.prefixes&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/service&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n"> traefik.http.middlewares.service1-retry.retry.attempts&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n"> traefik.http.routers.service1.middlewares&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;service1-stripprefix,service1-retry&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n"> traefik.http.routers.service1.rule&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;PathPrefix(`/service`)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n"> traefik.http.services.service1.loadbalancer.server.port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;8080&amp;#34;&lt;/span>
}
}
&lt;span class="k">service&lt;/span> {
&lt;span class="n"> name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;service&amp;#34;&lt;/span>
&lt;span class="n"> port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;http&amp;#34;&lt;/span>
&lt;span class="k">check&lt;/span> {
&lt;span class="n"> type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;http&amp;#34;&lt;/span>
&lt;span class="n"> port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;http&amp;#34;&lt;/span>
&lt;span class="n"> path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;/actuator/health&amp;#34;&lt;/span>
&lt;span class="n"> interval&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;5s&amp;#34;&lt;/span>
&lt;span class="n"> timeout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;2s&amp;#34;&lt;/span>
}
}
&lt;span class="k">resources&lt;/span> {
&lt;span class="n"> cpu&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">200&lt;/span>
&lt;span class="n"> memory&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">1024&lt;/span>
&lt;span class="k">network&lt;/span> {
&lt;span class="n"> mbits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">20&lt;/span>
&lt;span class="k">port&lt;/span> &lt;span class="s2">&amp;#34;http&amp;#34;&lt;/span> {}
}
}
}
}
}&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/service.nomad" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/service.nomad" target="_blank">service.nomad&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Tanto Consul, Nomad como Traefik ofrecen una consola para ver su estado ubicadas en las siguientes direcciones respectivamente accesibles con el navegador &lt;em>http://127.0.0.1:8500&lt;/em>, &lt;em>http://127.0.0.1:4646&lt;/em>, &lt;em>http://127.0.0.1:8092&lt;/em>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/consul_hudc42d06e92419bb68cedcf920ffbb9e1_66952_2560x1440_fit_box_2.png" title="Consul" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/consul_hudc42d06e92419bb68cedcf920ffbb9e1_66952_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/nomad-1_hu236530498253a3dba6bcdeea43b58303_63779_2560x1440_fit_box_2.png" title="Nomad" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/nomad-1_hu236530498253a3dba6bcdeea43b58303_63779_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/nomad-2_huf614ca5d87e91f36d0a6f0dc0f7e1da1_112167_2560x1440_fit_box_2.png" title="Nomad" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/nomad-2_huf614ca5d87e91f36d0a6f0dc0f7e1da1_112167_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/traefik-1_hu752c6a0b248029866df45cca04eee0f1_104793_2560x1440_fit_box_2.png" title="Traefik" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/traefik-1_hu752c6a0b248029866df45cca04eee0f1_104793_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/traefik-2_hu3d23c9c51ffc17299ed33c1319107a0c_130051_2560x1440_fit_box_2.png" title="Traefik" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/images/traefik-2_hu3d23c9c51ffc17299ed33c1319107a0c_130051_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;figcaption>Consolas de administración de Consul, Nomad y Traefik&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>El código del servicio, del cliente implementados con Spring y la salida del cliente son los siguientes.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="kn">package&lt;/span> &lt;span class="nn">io.github.picodotdev.blogbitix.springcloud.service&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="o">.&lt;/span>
&lt;span class="nd">@RestController&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">DefaultController&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nd">@Autowired&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">DefaultConfiguration&lt;/span> &lt;span class="n">configuration&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="nd">@Autowired&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Tracing&lt;/span> &lt;span class="n">tracing&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="nd">@Autowired&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Tracer&lt;/span> &lt;span class="n">tracer&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Random&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Counter&lt;/span> &lt;span class="n">counter&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="nf">DefaultController&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">MeterRegistry&lt;/span> &lt;span class="n">registry&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">random&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Random&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Counter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">builder&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;service.invocations&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">description&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Total service invocations&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">register&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">registry&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="nd">@RequestMapping&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">home&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="kd">throws&lt;/span> &lt;span class="n">Exception&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">counter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">increment&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="c1">// Timeout simulation
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">//Thread.sleep(random.nextInt(4000));
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="n">TraceContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Extractor&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">extractor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tracing&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">propagation&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">extractor&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">HttpServletRequest&lt;/span> &lt;span class="n">carrier&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">carrier&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getHeader&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="o">}&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">Span&lt;/span> &lt;span class="n">span&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tracer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nextSpan&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">extractor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">extract&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Service Span (traceId: %s, spanId: %s)%n&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">traceIdString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">spanIdString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Hello world (url: %s, remoteAddress_%s, localAddress: %s, traceId: %s, spanId: %s, key: %s)&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getRequestURL&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span>
&lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getRemoteAddr&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getLocalAddr&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">traceIdString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">spanIdString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">configuration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getKey&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/DefaultController.java" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/DefaultController.java" target="_blank">DefaultController.java&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="kn">package&lt;/span> &lt;span class="nn">io.github.picodotdev.blogbitix.springcloud.client&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="o">.&lt;/span>
&lt;span class="nd">@Component&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">ProxyService&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nd">@Autowired&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">LoadBalancerClient&lt;/span> &lt;span class="n">loadBalancer&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="nd">@Autowired&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Tracing&lt;/span> &lt;span class="n">tracing&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="nd">@Autowired&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Tracer&lt;/span> &lt;span class="n">tracer&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">CircuitBreakerConfig&lt;/span> &lt;span class="n">circuitBreakerConfiguration&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">TimeLimiterConfig&lt;/span> &lt;span class="n">timeLimiterConfiguration&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">HttpClient&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="nf">ProxyService&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">circuitBreakerConfiguration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CircuitBreakerConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">custom&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="na">failureRateThreshold&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">50&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="na">recordExceptions&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">TimeoutException&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">timeLimiterConfiguration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">TimeLimiterConfig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">custom&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="na">timeoutDuration&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Duration&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofMillis&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">2500&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="na">cancelRunningFuture&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">.&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">HttpClient&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newBuilder&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">version&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">HttpClient&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Version&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">HTTP_2&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">ServiceInstance&lt;/span> &lt;span class="n">instance&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">loadBalancer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">choose&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;traefik&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">URI&lt;/span> &lt;span class="n">uri&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">instance&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getUri&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="n">resource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">String&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;%s%s&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">uri&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">toString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">replace&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;traefik&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s">&amp;#34;/service&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">HttpRequest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Builder&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">HttpRequest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newBuilder&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">URI&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">resource&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">GET&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">getFallback&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">final&lt;/span> &lt;span class="n">HttpRequest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Builder&lt;/span> &lt;span class="n">request&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">Span&lt;/span> &lt;span class="n">span&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tracer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">newTrace&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">start&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">TraceContext&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Injector&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">HttpRequest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Builder&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">injector&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tracing&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">propagation&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">injector&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">HttpRequest&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">Builder&lt;/span> &lt;span class="n">carrier&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="n">carrier&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">header&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span> &lt;span class="o">}&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">injector&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">inject&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">printf&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;Client Span (traceId: %s, spanId: %s)%n&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">traceIdString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">span&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">context&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">spanIdString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">CircuitBreaker&lt;/span> &lt;span class="n">circuitBreaker&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CircuitBreaker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">&amp;#34;resilience4jCircuitBreakerProxyService&amp;#34;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">circuitBreakerConfiguration&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">TimeLimiter&lt;/span> &lt;span class="n">timeLimiter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">TimeLimiter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">timeLimiterConfiguration&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">Supplier&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">CompletableFuture&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">get&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">CompletableFuture&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">supplyAsync&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">try&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">HttpResponse&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">send&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">build&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">HttpResponse&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">BodyHandlers&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">ofString&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">body&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">Exception&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">getFallback&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">getLimiter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">TimeLimiter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">decorateFutureSupplier&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">timeLimiter&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">get&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">Callable&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">getCircuitBreaker&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">CircuitBreaker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">decorateCallable&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">circuitBreaker&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">getLimiter&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">Try&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">of&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">getCircuitBreaker&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="n">call&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">recover&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">throwable&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">getFallback&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">get&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">getFallback&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;Fallback&amp;#34;&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/ProxyService.java" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/ProxyService.java" target="_blank">ProxyService.java&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Como hay 2 instancias del servicio y Traefik realiza balanceo de carga utilizando el algoritmo &lt;em>round robbin&lt;/em> se observa en la salida con las respuestas que la dirección IP que ha atendido la petición es alternativamente una de las dos instancias del servicio.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-plaintext" data-lang="plaintext">...
Service response: Hello world (url: http://172.30.0.3/, remoteAddress_172.30.0.3, localAddress: 172.30.0.4, traceId: 63afa4d0cd4f466c, spanId: 4719dfcc16b6104e, key: value)
Client Span (traceId: 57eeaa436aa09238, spanId: 57eeaa436aa09238)
Service response: Hello world (url: http://172.30.0.3/, remoteAddress_172.30.0.3, localAddress: 172.30.0.5, traceId: 57eeaa436aa09238, spanId: 26dc213be2d933ac, key: value)
Client Span (traceId: 23c748bf222052a6, spanId: 23c748bf222052a6)
Service response: Hello world (url: http://172.30.0.3/, remoteAddress_172.30.0.3, localAddress: 172.30.0.4, traceId: 23c748bf222052a6, spanId: 0404d949c6e04c18, key: value)
Client Span (traceId: c45d66a4ec9cf14c, spanId: c45d66a4ec9cf14c)
Service response: Hello world (url: http://172.30.0.3/, remoteAddress_172.30.0.3, localAddress: 172.30.0.5, traceId: c45d66a4ec9cf14c, spanId: e7f6ccf2efb8234b, key: value)
Client Span (traceId: 2fdb3b71a682d2e6, spanId: 2fdb3b71a682d2e6)
Service response: Hello world (url: http://172.30.0.3/, remoteAddress_172.30.0.3, localAddress: 172.30.0.4, traceId: 2fdb3b71a682d2e6, spanId: 24ac2a8d2bfb1e6e, key: value)
Client Span (traceId: a33b010e02709c6a, spanId: a33b010e02709c6a)
Service response: Hello world (url: http://172.30.0.3/, remoteAddress_172.30.0.3, localAddress: 172.30.0.5, traceId: a33b010e02709c6a, spanId: 0abe6074fc277af6, key: value)
...&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/System.out" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/System.out" target="_blank">System.out&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>En un momento posterior si surge la necesidad de querer desplegar una nueva versión del microservicio basta con generar de nuevo el artefacto del microservicio, cambiando la versión en el archivo &lt;em>build.gradle&lt;/em>. El despliegue de la nueva versión se realizan mediante la estrategia &lt;em>canary&lt;/em>, manteniendo las instancias con la versión anterior del servicio y añadiendo una nueva con la nueva versión. Si se descubre algún error en la instancia &lt;em>canary&lt;/em> se puede revertir el estado a la versión anterior, que consiste en detener la instancia &lt;em>canary&lt;/em>. Una vez se comprueba que la instancia con la nueva versión funciona correctamente analizando sus trazas y métricas se envía la order a Nomad de promocionar las instancias de forma progresiva con la versión antigua a la nueva versión.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ nomad job run nomad/service.nomad
$ nomad job promote service
$ nomad job revert service &lt;span class="m">0&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/nomad-job-promote.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/nomad-job-promote.sh" target="_blank">nomad-job-promote.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>El servicio exporta métricas en formato para Prometheus que con Grafana. Según se realizan peticiones al servicio el valor de métrica de contador de llamadas al servicio aumenta de forma progresiva.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ curl http://127.0.0.1:8093/service/actuator/prometheus &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;service.invocations&amp;#34;&lt;/span>
&lt;span class="c1"># HELP service_invocations_total Total service invocations&lt;/span>
&lt;span class="c1"># TYPE service_invocations_total counter&lt;/span>
service_invocations_total 20.0
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/service-prometheus.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/code/service-prometheus.sh" target="_blank">service-prometheus.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>
El &lt;a href="https://github.com/picodotdev/blog-ejemplos/tree/master/SpringCloudConsulNomadTraefik">código fuente completo del ejemplo&lt;/a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en &lt;a href="https://github.com/">GitHub&lt;/a> y probarlo en tu equipo ejecutando el comando &lt;code>./run.sh&lt;/code>.
&lt;/p></content><category term="java"/><category term="planeta-codigo"/><category term="programacion"/><category term="software"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/12/hemeroteca-14/</id><title>Hemeroteca #14</title><updated>2018-12-30T19:00:00+01:00</updated><published>2018-12-30T19:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/12/hemeroteca-14/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>Casi 9 años publicando de forma constante un artículo a la semana, dos artículos algunas semanas. Durante casi está década creo que ha habido pocas semanas en las que no he publicado. Este último años no ha sido distinto, el siguiente espero&amp;hellip; espero que sea parecido o mejor ahora que tengo mi propio equipo personal que he estado mucho tiempo esperando hasta que fuese comercializado, un &lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/desempaquetado-intel-nuc-nuc8i5bek-bean-canyon-hyperx-impact-ram-y-samsung-970-evo-nvme-ssd/">Intel NUC Bean Canyon&lt;/a> del que en este semestre he publicado un artículo con de su desempaquetado junto con otros artículos del &lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/desempaquetado-y-analisis-de-monitor-benq-pd2700q/">monitor Benq PD2700Q&lt;/a> y &lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/desempaquetado-y-analisis-de-teclado-y-raton-inalambrico-v7-ckw200/">teclado ratón&lt;/a> pero también comentando las opciones que he barajado.&lt;/p>
&lt;p>Casi 9 años publicando artículos algunos mejor que otros pero siempre intentando compartir lo que sé o voy aprendiendo, para llegar a esta cifra hay que tener constancia para llegar a escribir tanto tiempo, dedicación, no abandonar fácil para no empezar una cosa y dejarlo al cabo de poco e incluso de publicar aún cuando el ánimo no es el de los mejores momentos, planificación y organización para saber que publicar, tiempo ya que cuesta escribir los artículos, motivación y perseverancia para tener más visitas, comentarios de algunos usuarios, más ingresos de AdSense, compartir, &amp;hellip; No es fácil, en mi caso sabiendo que mucho de lo que escribo no lo aplico en el trabajo, donde actualmente tengo un Mac por obligación y no trabajo con Java y mis temas principales son GNU/Linux y Java, con lo que a veces tengo la sensación de no serme útil. Al finalizar este 2018 ya van 371 artículos publicados desde finales del 2013 que empecé a hacerlo en Blog Bitix.&lt;/p>
&lt;p>Ahora que tengo mi propio equipo y como de nuevo estoy usando &lt;a href="https://www.archlinux.org/">Arch Linux&lt;/a> podré publicar más artículos sobre &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a>, he empezado por publicar como jugar a &lt;a href="https://eu.diablo3.com/es/">Diablo 3&lt;/a> u otros juegos de &lt;a href="https://www.blizzard.com/es-es/">Blizzard&lt;/a> en Linux con &lt;a href="https://www.winehq.org/">Wine&lt;/a>.&lt;/p>
&lt;p>Durante este semestre he escrito varios relacionados con el ordenador que necesitaba y finalmente he comprado al final de año pero del que había noticias desde muchos meses antes, la espera de varios meses hasta que se comercializase se me hizo larga.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/desempaquetado-y-analisis-de-teclado-y-raton-inalambrico-v7-ckw200/">Desempaquetado y análisis de teclado y ratón inalámbrico V7 CKW200&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/desempaquetado-y-analisis-de-monitor-benq-pd2700q/">Desempaquetado y análisis de monitor Benq PD2700Q&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/desempaquetado-intel-nuc-nuc8i5bek-bean-canyon-hyperx-impact-ram-y-samsung-970-evo-nvme-ssd/">Desempaquetado Intel NUC8i5BEK (Bean Canyon), HyperX Impact (RAM) y Samsung 970 EVO NVMe (SSD)&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>He completado con algún artículo más la &lt;a href="https://picodotdev.github.io/blog-bitix/series/graphql/">serie sobre GraphQL&lt;/a>.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/el-editor-explorador-e-ide-graphiql-para-una-api-con-graphql/">El editor, explorador e IDE GraphiQL para una API con GraphQL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/usando-directivas-en-graphql/">Usando directivas en GraphQL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/los-fragmentos-en-graphql/">Los fragmentos en GraphQL&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>También he escrito varios artículos de la serie sobre &lt;a href="https://picodotdev.github.io/blog-bitix/series/spring-cloud/">Spring Cloud&lt;/a> para escribir microservicios en Java.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/aplicaciones-basadas-en-microservicios/">Aplicaciones basadas en microservicios&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/registro-y-descubrimiento-de-servicios-con-spring-cloud-netflix/">Registro y descubrimiento de servicios con Spring Cloud Netflix&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/servicio-de-configuracion-para-microservicios-con-spring-cloud-config/">Servicio de configuración para microservicios con Spring Cloud Config&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/almacenar-cifrados-los-valores-de-configuracion-sensibles-en-spring-cloud-config/">Almacenar cifrados los valores de configuración sensibles en Spring Cloud Config&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/tolerancia-a-fallos-en-un-cliente-de-microservicio-con-spring-cloud-netflix-y-hystrix/">Tolerancia a fallos en un cliente de microservicio con Spring Cloud Netflix y Hystrix&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/balanceo-de-carga-y-resilencia-en-un-microservicio-con-spring-cloud-netflix-y-ribbon/">Balanceo de carga y resilencia en un microservicio con Spring Cloud Netflix y Ribbon&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/proxy-para-microservicios-con-spring-cloud-netflix-y-zuul/">Proxy para microservicios con Spring Cloud Netflix y Zuul&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Algunos pocos artículos sobre GNU/Linux.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/">Como recuperar Arch Linux después de una actualización que provoca el sistema no inicie&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/el-editor-de-archivos-e-ide-minimalista-visual-studio-code/">El editor de archivos e IDE minimalista Visual Studio Code&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/el-comando-fork-bomb-explicado/">El comando fork bomb explicado&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/">Flatpak, distribución e instalación de programas de escritorio en las distribuciones GNU/Linux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/">Cómo usar Wine para jugar en GNU/Linux a Diablo 3 u otros juegos de Blizzard o Windows&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/monitorizar-procesos-que-realizan-lectura-o-escritura-al-almacenamiento-en-gnu-linux/">Monitorizar procesos que realizan lectura o escritura al almacenamiento en GNU/Linux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/">Permitir o denegar tráfico de red con el firewall UFW en GNU/Linux&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Sobre Java o programación algunos más.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/07/que-es-un-sut-fake-stub-mock-y-spy-en-las-pruebas-con-un-ejemplo/">Qué es un SUT, fake, Stub, Mock y Spy en las pruebas con un ejemplo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/07/pruebas-funcionales-con-geb-en-una-aplicacion-web-java/">Pruebas funcionales con Geb en una aplicación web Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/07/la-libreria-log4j-para-emitir-trazas-en-aplicaciones-java/">La librería Log4j para emitir trazas en aplicaciones Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/07/identificar-todas-las-trazas-de-una-peticion-en-una-aplicacion-web-java-con-log4j/">Identificar todas las trazas de una petición en una aplicación web Java con Log4j&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/personalizar-el-mensaje-emitido-de-un-objeto-en-log4j/">Personalizar el mensaje emitido de un objeto en Log4j&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/recargar-la-configuracion-sin-reiniciar-una-aplicacion-spring-boot-con-spring-cloud-config/">Recargar sin reiniciar la configuración de una aplicación Spring Boot con Spring Cloud Config&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/09/novedades-y-nuevas-caracteristicas-de-java-11/">Novedades y nuevas características de Java 11&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/ejemplo-sencillo-de-como-leer-datos-de-un-archivo-excel-o-csv-en-java/">Ejemplo sencillo de cómo leer datos de un archivo Excel o CSV en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/formatear-con-color-sentencias-sql-o-codigo-fuente-en-la-terminal-con-java-y-jansi/">Formatear con color sentencias SQL o código fuente en la terminal con Java y Jansi&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/novedades-de-java-ee-8/">Novedades de Java EE 8&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/monitorizar-una-aplicacion-java-de-spring-boot-con-micrometer-prometheus-y-grafana/">Monitorizar una aplicación Java de Spring Boot con Micrometer, Prometheus y Grafana&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/exponer-las-metricas-de-hystrix-en-grafana-con-prometheus-de-una-aplicacion-spring-boot/">Exponer las métricas de Hystrix en Grafana con Prometheus de una aplicación Spring Boot&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Y varios de opinión o noticias relevantes como la caída de &lt;a href="https://es.wikipedia.org/wiki/Sun_Microsystems">Sun&lt;/a> hace ya años o la compra de &lt;a href="https://www.redhat.com/es">Red Hat&lt;/a> por parte de &lt;a href="https://www.ibm.com/us-en/">IBM&lt;/a>.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/07/sobre-la-venta-entre-particulares-de-ebay-milanuncios-y-wallapop/">Sobre la venta entre particulares de eBay, milanuncios y Wallapop&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/despues-de-la-guerra-del-numero-de-nucleos-en-los-procesadores-vendra-la-guerra-de-la-computacion-heterogenea-o-manycores/">Después de la guerra del número de núcleos en los procesadores, ¿vendrá la guerra de la computación heterogénea o manycores?&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/08/sobre-las-competiciones-deportivas-de-videojuegos-o-esports/">Sobre las competiciones deportivas de videojuegos o eSports&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/sun-microsystems-cae-la-adquiere-oracle/">Sun Microsystems cae, la adquiere Oracle&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/ibm-adquiere-red-hat-el-gigante-de-linux-y-codigo-abierto/">IBM adquiere Red Hat, el gigante de Linux y código abierto&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/el-agotamiento-de-direcciones-ipv4-y-el-protocolo-de-internet-ipv6/">El agotamiento de direcciones IPv4 y el protocolo de internet IPv6&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/">Artículo #6 de Yo apoyo al software libre&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Revisando los artículos que he publicado en &lt;a href="https://picodotdev.github.io/blog-bitix/series/hemeroteca/">otras hemerotecas&lt;/a> hay algunos que parece no los haya escrito hace 2 y 3 años sino mucho menos. El crecimiento tanto en visitas como en ingresos no ha sido tanto como años anteriores, supongo que ya llegado un cierto umbral es difícil conservar los mismos ratios de crecimiento. Todos estos nuevos artículos es nuevo contenido que hace que reciba algunas visitas más y que los ingresos sean algo mayores. Dependiendo de si miro en Analytics o AdSense unas 520K páginas vistas este 2018 no muchas más que las casi 500K del 2017. En cualquier caso en las siguientes imágenes están las estadísticas de este blog por si a alguien le sirven para comparar con el suyo o como previsión de una web similar, a mi me servirá para consultarlo en un futuro y ver la evolución de los datos, también el tiempo necesario para conseguirlo o el número de artículos requeridos.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/analytics-2018_hu2ada8cebf2023f92a50bb99f47b93326_64912_2560x1440_fit_box_2.png" title="Analytics 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/analytics-2018_hu2ada8cebf2023f92a50bb99f47b93326_64912_600x450_fit_box_2.png" width="600"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-2018_hu636faed4932c19361f2f0a556d5002dc_32098_2560x1440_fit_box_2.png" title="AdSense 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-2018_hu636faed4932c19361f2f0a556d5002dc_32098_600x450_fit_box_2.png" width="600"/>&lt;/a>
&lt;figcaption>Evolución visitas e ingresos en 2018&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Incluyo además algunas métricas que proporciona AdSense de RPM, clics y CPC. Este final de año ha sido especialmente bueno con la semana del &lt;em>black friday&lt;/em> como punto álgido llegando casi a 70 € en un mes, en todo el año han sido casi 500 € contra los 450 € del 2017.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-ingresos-2018_hu1b9e049b82ca37c55653dc9f7f608567_86318_2560x1440_fit_box_2.png" title="Ingresos 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-ingresos-2018_hu1b9e049b82ca37c55653dc9f7f608567_86318_300x200_fit_box_2.png" width="113"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-paginas-vistas-2018_hu9af27ceaf50279e6f09b10b7794973eb_87876_2560x1440_fit_box_2.png" title="Páginas vistas 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-paginas-vistas-2018_hu9af27ceaf50279e6f09b10b7794973eb_87876_300x200_fit_box_2.png" width="113"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-clics-2018_hued0fc56ac5576d06747e659b90f243e1_85483_2560x1440_fit_box_2.png" title="Clics 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-clics-2018_hued0fc56ac5576d06747e659b90f243e1_85483_300x200_fit_box_2.png" width="113"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-crt-2018_hua934a19f5a838277c977312945230d48_84813_2560x1440_fit_box_2.png" title="CRT 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-crt-2018_hua934a19f5a838277c977312945230d48_84813_300x200_fit_box_2.png" width="113"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-cpc-2018_hu5dd2148119d9c65dff7097ef6269582d_77672_2560x1440_fit_box_2.png" title="CPC 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-cpc-2018_hu5dd2148119d9c65dff7097ef6269582d_77672_300x200_fit_box_2.png" width="113"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-rpm-2018_hu9d3b8ec4b7a7f5b5a4f8281d0b22755b_80426_2560x1440_fit_box_2.png" title="RPM 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-rpm-2018_hu9d3b8ec4b7a7f5b5a4f8281d0b22755b_80426_300x200_fit_box_2.png" width="113"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-tipos-de-puja-2018_hufd652d0bb9a4a214cdee3c8d07383e3c_22630_2560x1440_fit_box_2.png" title="Tipos de puja 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-tipos-de-puja-2018_hufd652d0bb9a4a214cdee3c8d07383e3c_22630_300x200_fit_box_2.png" width="273"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-plataformas-2018_hu3c48376a2ee051ee4cfb9dd80dd68b49_21354_2560x1440_fit_box_2.png" title="Plataformas 2018 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/gadsense-plataformas-2018_hu3c48376a2ee051ee4cfb9dd80dd68b49_21354_300x200_fit_box_2.png" width="274"/>&lt;/a>
&lt;figcaption>Métricas de AdSense&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Además, de AdSense incluyo enlaces de Amazon de algunos productos que compro y de los que publico algún artículo. Este año a través de los enlaces de afiliado de Amazon ha facturado a través de ellos casi 900 € y he recibido a cambio 50 € en comisiones.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/amazon-2018_hu745a46ebc42e3ba687315a0ce1b2c13d_83793_2560x1440_fit_box_2.png" title="Facturación e ingresos Amazon" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/amazon-2018_hu745a46ebc42e3ba687315a0ce1b2c13d_83793_600x450_fit_box_2.png" width="600"/>&lt;/a>
&lt;/figure>
&lt;/div>
&lt;p>Como siempre mis deseos de que empecéis bien el nuevo año, en este caso el 2019, ¡buen 2019!.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/christmastux-2018_huc72ec8385b3d324fafe1991c6c3496d0_926128_2560x1440_fit_q90_box.jpg" title="ChristmasTux2018" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/hemeroteca-14/images/christmastux-2018_huc72ec8385b3d324fafe1991c6c3496d0_926128_600x450_fit_q90_box.jpg" width="600"/>&lt;/a>
&lt;figcaption>¡Buen 2019!. Fuente: www.klowner.com&lt;/figcaption>
&lt;/figure>
&lt;/div></content><category term="gnu-linux"/><category term="java"/><category term="opinion"/><category term="planeta-codigo"/><category term="programacion"/><category term="software"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/</id><title>Permitir o denegar tráfico de red con el firewall UFW en GNU/Linux</title><updated>2018-12-24T13:00:00+01:00</updated><published>2018-12-24T13:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/gnu.svg" class="right " width="200" alt="GNU" title="GNU"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/linux.svg" class="right " width="200" alt="Linux" title="Linux"/>
&lt;/div>
&lt;p>Un cortafuegos o &lt;em>firewall&lt;/em> hace que un sistema sea más seguro analizando todo el tráfico de red que se recibe y envía impidiéndolo o permitiéndolo según las reglas que se hayan definido. Aunque los &lt;em>routers&lt;/em> con los que nos conectamos a internet también hacen la función de &lt;em>firewall&lt;/em> es aconsejable instalar un cortafuegos en cada sistema, sobre todo en sistemas portátiles que podemos conectar a redes WIFI ajenas a las que pueden conectarse al mismo tiempo otros muchos usuarios que desconocemos.&lt;/p>
&lt;p>En &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a> un &lt;em>firewall&lt;/em> con el que las reglas de tráfico de red se puede definir de forma sencilla es &lt;em>Uncomplicated Firewall&lt;/em> o UFW. En la distribución &lt;a href="https://www.archlinux.org/">Arch Linux&lt;/a> hay que instalar su paquete y habilitarlo para que se inicie con el sistema.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># pacman -S ufw&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/pacman.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/pacman.sh" target="_blank">pacman.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># systemctl enable ufw.service&lt;/span>
&lt;span class="c1"># ufw enable&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-enable.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-enable.sh" target="_blank">ufw-enable.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>En la &lt;a href="https://wiki.archlinux.org/">wiki de Arch Linux&lt;/a> hay una buena página explicativa de su uso.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://wiki.archlinux.org/index.php/Uncomplicated_Firewall">Arch Linux Wiki Uncomplicated Firewall&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Instalado y activado hay que definir las reglas de tráfico permitidas. Por defecto, se deniega el tŕafico proveniente de un sistema que no sea el local. Por ejemplo, con el cortafuegos activado para que un servidor web sea accesible desde otro equipo en la misma red o desde internet hay crear una regla que permita todo el tráfico entrante los puertos por defecto &lt;em>80&lt;/em> para &lt;em>http&lt;/em> y &lt;em>443&lt;/em> para &lt;em>https&lt;/em>.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw allow 80/tcp&lt;/span>
&lt;span class="c1"># ufw allow 443/tcp&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-allow-1.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-allow-1.sh" target="_blank">ufw-allow-1.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Para permitir acceso al servidor web únicamente desde la red local a la que está conectado el equipo hay que indicar la dirección IP de la red, los casos habituales son &lt;em>192.168.0.0/24&lt;/em> o &lt;em>192.168.1.0/24&lt;/em>. En vez de usar la directiva &lt;em>allow&lt;/em> se puede emplear la directiva &lt;em>deny&lt;/em> para denegar el tráfico.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw allow from 192.168.1.0/24 to any port 80 proto tcp&lt;/span>
&lt;span class="c1"># ufw allow from 192.168.1.0/24 to any port 443 proto tcp&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-allow-2.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-allow-2.sh" target="_blank">ufw-allow-2.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Definidas algunas reglas se pueden listar y de forma numerada en el caso de querer eliminar alguna.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw status&lt;/span>
&lt;span class="c1"># ufw status numbered&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-status-1.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-status-1.sh" target="_blank">ufw-status-1.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Para eliminar reglas hay que hacerlo según su número de la lista anterior.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw delete 1&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-delete.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-delete.sh" target="_blank">ufw-delete.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Ciertas aplicaciones usan un puerto conocido como el ejemplo de servidor web en el puerto &lt;em>443&lt;/em> o &lt;em>80&lt;/em>, SSH en el &lt;em>22&lt;/em> o descarga y compartición de archivos mediante P2P por Bittorrent que dependiendo de la aplicación se usa uno u otro, en el caso de &lt;a href="https://transmissionbt.com/">Transmission&lt;/a> es &lt;em>51413&lt;/em>. Sabiendo la aplicación para la que se quiere permitir el tráfico no es necesario conocer su puerto, ufw ya incorpora varias aplicaciones conocidas que se listan y activan con un comando.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw app list&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-app-list.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-app-list.sh" target="_blank">ufw-app-list.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw allow Transmission&lt;/span>
&lt;span class="c1"># ufw allow from 192.168.1.0/24 to any app &amp;#34;WWW&amp;#34;&lt;/span>
&lt;span class="c1"># ufw allow from 192.168.1.0/24 to any app &amp;#34;WWW Secure&amp;#34;&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-app-allow.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-app-allow.sh" target="_blank">ufw-app-allow.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>En el caso de este ejemplo se permite el tráfico para la aplicación Transmission desde cualquier ordenador y a las aplicaciones de servidor web tanto en el puerto seguro como inseguro y en el puerto &lt;em>8080&lt;/em> que usan algunos servidores de aplicaciones limitando su acceso únicamente desde la red local.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># ufw status&lt;/span>
Status: active
To Action From
-- ------ ----
Transmission ALLOW Anywhere
8080/tcp ALLOW 192.168.1.0/24
WWW Secure ALLOW 192.168.1.0/24
WWW ALLOW 192.168.1.0/24
Transmission &lt;span class="o">(&lt;/span>v6&lt;span class="o">)&lt;/span> ALLOW Anywhere &lt;span class="o">(&lt;/span>v6&lt;span class="o">)&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-status-2.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/permitir-o-denegar-trafico-de-red-con-el-firewall-ufw-en-gnu-linux/code/ufw-status-2.sh" target="_blank">ufw-status-2.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Los comandos anteriores aunque cambiando los valores de los puertos o dirección IP son suficientes para hacer un sistema más seguro no permitiendo tráfico de red y evitando que se puedan establecer conexiones desde otro sistema en la misma red de área local a ciertos puertos de red abiertos sin ser conscientes de que los están.&lt;/p>
&lt;p>En algunos casos como usando una &lt;a href="https://www.raspberrypi.org/">Raspberry Pi&lt;/a> sin interfaz gráfica para minimizar el consumo de recursos es necesario conocer o consultar los comandos de ufw.&lt;/p>
&lt;div class="reference">
Referencia:&lt;br>
&lt;ul>
&lt;li>&lt;a href="https://help.ubuntu.com/community/UFW">Ubuntu UFW&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div></content><category term="gnu-linux"/><category term="planeta-codigo"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/</id><title>Artículo #6 de Yo apoyo al software libre</title><updated>2018-12-07T12:00:00+01:00</updated><published>2018-12-07T12:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/wine.svg" class="right " width="200" alt="Wine" title="Wine"/>
&lt;/div>
&lt;p>La dedicación que me exige el blog para tratar de escribir, editar y publicar al menos un artículo a la semana de forma constante sin faltar ninguna semana, últimamente estoy publicando dos, se me está recompensando en forma de superar unas pocas visitas más cada mes. Y esto también se ve reflejado en los ingresos de &lt;a href="https://www.google.com/adsense/">AdSense&lt;/a>, ya es raro el día que no me genera al menos dos euros al día salvo los fin de semanas que puede quedarse cerca. Un buen día según el número de clics y la fortuna de que en estos el coste por clic (CPC) sea generoso los ingresos pueden llegar a entre tres y cinco euros.&lt;/p>
&lt;p>Uno, dos o tres euros al día no parece significativo pero multiplicado por los treinta días del mes el conjunto suma entre 30 y 50 euros que creo no está nada mal. Aunque esto por supuesto no compensa la dedicación, sin embargo, con un mucho mayor número de visitas y complementandolo con otro tipo de ingresos como afiliación de &lt;a href="https://amzn.to/2flFhHA">Amazon&lt;/a>, &lt;a href="https://www.gearbest.com/">Gearbest&lt;/a>, &lt;a href="https://www.pccomponentes.com/">PcComponentes&lt;/a>, etc&amp;hellip; formación, libros, y artículos patrocinados entiendo que alguien o haya medios como &lt;a href="https://www.xataka.com/">Xataka&lt;/a>, &lt;a href="https://www.noticias3d.com/">Noticias 3D&lt;/a>, &lt;a href="https://www.profesionalreview.com/">Profesional Review&lt;/a> o &lt;a href="https://elchapuzasinformatico.com/">El chapuzas informático&lt;/a> que puedan tener unos ingresos mucho más significativos, incluídos artículos patrocinados, y pueda ser el medio de vida de los mismos a nivel individual o como organización. Según mis cálculos con 100K visitas diarias se generan 100€ diarios solo de publicidad AdSense uno podría plantearse que fuese el medio de vida de una persona, ahora bien no es fácil conseguir ese número de visitas diarias.&lt;/p>
&lt;p>Todo esto es como introducción en que debido a estos ingresos que me genera el blog en ocasiones ya desde hace un tiempo hago una pequeña donación económica a los proyectos que me resultan de interés o he usado. En esta ocasión la donación que haré será a un proyecto dedicado a hacer posible que juegos triple A y software escrito para &lt;a href="https://www.microsoft.com/es-es/windows/">Windows&lt;/a> sea posible utilizarlos en &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a> cuando no ofrecen soporte nativo, este proyecto es &lt;a href="https://www.winehq.org/">Wine&lt;/a>.&lt;/p>
&lt;h3 id="wine">Wine&lt;/h3>
&lt;p>Después de haber comprado un &lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/desempaquetado-intel-nuc-nuc8i5bek-bean-canyon-hyperx-impact-ram-y-samsung-970-evo-nvme-ssd/">Intel NUC8i5BEK&lt;/a> le he instalado &lt;a href="https://www.archlinux.org/">Arch Linux&lt;/a> estoy jugando a &lt;a href="https://eu.diablo3.com/es/">Diablo 3&lt;/a> en él sin ningún tipo de problema, sin cierres inesperados y con buenos fps. La gráfica &lt;a href="https://en.wikipedia.org/wiki/Intel_Graphics_Technology#Kaby_Lake_Refresh_/_Coffee_Lake">Intel Iris 655&lt;/a> del modelo &lt;a href="https://ark.intel.com/products/135935/Intel-Core-i5-8259U-Processor-6M-Cache-up-to-3_80-GHz">Intel Core i5-8259U&lt;/a> no es tan potente comparada con cualquier dedicada &lt;a href="https://www.nvidia.com/es-es/">NVIDIA&lt;/a> o &lt;a href="https://www.amd.com/es">AMD&lt;/a> pero suficiente para este juego que ya tiene unos años, si es necesario bajando la resolución o detalles gráficos.&lt;/p>
&lt;p>Diablo 2 es uno de los últimos juegos que jugué y lo finalice por completo aunque solo con el bárbaro y solo en el primer nivel de dificultad. Lo jugué en mi antiguo AMD Athlon 1800+ y una NVIDIA GeForce 2 MX 440. Me gustan este tipo de juegos tipo RPG en que se va evolucionando y consiguiendo nuevas armas para personalizar el personaje, además posee buen argumento e historia.&lt;/p>
&lt;p>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/">Para jugar a Diablo 3 he necesitado instalar Wine&lt;/a> y con este la aplicación de &lt;a href="https://www.blizzard.com/es-es/apps/battle.net/desktop">Battle.net&lt;/a> para Windows e instalar Diablo 3. Blizzard ofrece el primer acto de Diablo 3 antes de comprar el juego. He podido probarlo y ver que funciona correctamente sin tener que comprarlo primero. Una vez probado que funciona es muy posible que lo compre y lo juegue completo (o esa es mi intención).&lt;/p>
&lt;p>Wine es una implementación de la API de Windows con la que los programas de Windows pueden ser ejecutados en GNU/Linux y &lt;a href="https://www.apple.com/macos/">macOS&lt;/a>, incluidos los juegos y su API DirectX. Y hace posible que tener Windows no sea imprescindible para determinados programas como &lt;a href="https://products.office.com/es-es/">Microsoft Office&lt;/a> o los juegos que son algunos de los motivos por los que algunas personas siguen usando Windows en vez de pasarse definitivamente y de forma completa a GNU/Linux.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-1_hu1af337f1f432100fe28211cfcfba345a_223158_2560x1440_fit_box_2.png" title="Cliente de Battle.net" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-1_hu1af337f1f432100fe28211cfcfba345a_223158_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-2_huea8a38413f264d96312ce2a9693571e3_48092_2560x1440_fit_box_2.png" title="Cliente de Battle.net" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-2_huea8a38413f264d96312ce2a9693571e3_48092_200x150_fit_box_2.png" width="103"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-3_hu5f811e379f7ce2577c2a8d282c7472b1_260250_2560x1440_fit_q90_box.jpg" title="Cliente de Battle.net" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-3_hu5f811e379f7ce2577c2a8d282c7472b1_260250_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Cliente de Battle.net&lt;/figcaption>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-4_huf11a73986e214039994ef0e7bf4a303f_266343_2560x1440_fit_q90_box.jpg" title="Instalación de Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-4_huf11a73986e214039994ef0e7bf4a303f_266343_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-5_hu0a819fe368be398b4c4d99e6162ed45b_267077_2560x1440_fit_q90_box.jpg" title="Instalación de Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-5_hu0a819fe368be398b4c4d99e6162ed45b_267077_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-6_hue446743061eb0a432b132dc6dbcf9a5e_202739_2560x1440_fit_q90_box.jpg" title="Instalación de Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/battle-net-6_hue446743061eb0a432b132dc6dbcf9a5e_202739_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Instalación de Diablo 3&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-1_hub14f7cad927ad832ab1c483f44c3f52b_701372_2560x1440_fit_q90_box.jpg" title="Personaje de clase monje" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-1_hub14f7cad927ad832ab1c483f44c3f52b_701372_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-2_hu77eb845d42bfd677525787845cd0f45e_640813_2560x1440_fit_q90_box.jpg" title="Caminio hacia Nueva Tristán" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-2_hu77eb845d42bfd677525787845cd0f45e_640813_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-3_hu995bdb92e4e7ff882ec5b13fa47f4dbd_551707_2560x1440_fit_q90_box.jpg" title="Jugando a Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-3_hu995bdb92e4e7ff882ec5b13fa47f4dbd_551707_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-4_hu08a4565579a3291fe5a28cd7a2e12b7d_459463_2560x1440_fit_q90_box.jpg" title="Jugando a Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-4_hu08a4565579a3291fe5a28cd7a2e12b7d_459463_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-5_hu3f5cbd2a42cf434d3b17080246a9e1f4_630426_2560x1440_fit_q90_box.jpg" title="Jugando a Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/diablo-3-5_hu3f5cbd2a42cf434d3b17080246a9e1f4_630426_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Juego de Diablo 3&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;h3 id="donación">Donación&lt;/h3>
&lt;p>La donación no es muy grande pero espero que ayude para cubrir los costes que tengan las personas que contribuyen en el desarrollo de este proyecto. La donación se puede realizar mediante el medio de pago &lt;a href="https://www.paypal.com/">PayPal&lt;/a>. Como tenía algo de dinero acumulado de un par de artículos patrocinados que escribí he utilizado $20 de ese saldo para donar a &lt;a href="https://www.winehq.org/">Wine&lt;/a>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/donacion-wine_hu34f8e8e6c27e406f3ed4b7a49ffbe688_74259_2560x1440_fit_box_2.png" title="Donación Wine" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/articulo-6-de-yo-apoyo-al-software-libre/images/donacion-wine_hu34f8e8e6c27e406f3ed4b7a49ffbe688_74259_650x450_fit_box_2.png" width="318"/>&lt;/a>
&lt;figcaption>Donación Wine&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Este es el sexto artículo de esta serie de donaciones con Yo apoyo el software libre ya son unas cuantas donaciones las que he hecho, gracias también a los visitantes que llegan principalmente como resultado de una búsqueda en un buscador, en menor medida también de alguno de los que están suscritos a la &lt;a href="https://picodotdev.github.io/blog-bitix/index.xml">fuente de artículos&lt;/a> que en el momento que publico uno nuevo si les interesa lo visitan.&lt;/p>
&lt;table class="table">
&lt;thead>
&lt;tr class="thead-dark">
&lt;th colspan="4">Donaciones que he realizado hasta la última fecha&lt;/td>
&lt;/tr>
&lt;tr class="thead-light">
&lt;th>#&lt;/td>
&lt;th>Fecha&lt;/td>
&lt;th>Proyecto&lt;/td>
&lt;th>Donación&lt;/td>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>2015/12&lt;/td>
&lt;td>Free Software Foundation Europe (FSFE)&lt;/td>
&lt;td>40€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>2016/09&lt;/td>
&lt;td>Wikipedia, Firefox&lt;/td>
&lt;td>10€, 10€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>2017/01&lt;/td>
&lt;td>elementaryOS, Libre Office, Arch Linux ARM&lt;/td>
&lt;td>10€, 10€, 10€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>2017/05&lt;/td>
&lt;td>GNOME, VideoLAN (VLC), Arch Linux&lt;/td>
&lt;td>15,31€, 10€, 0,31€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>2018/01&lt;/td>
&lt;td>LineageOS, Replicant&lt;/td>
&lt;td>15€, 15€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>2018/12&lt;/td>
&lt;td>Wine&lt;/td>
&lt;td>$20&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7&lt;/td>
&lt;td>2019/12&lt;/td>
&lt;td>Calibre&lt;/td>
&lt;td>$10&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td colspan="3">Total&lt;/td>
&lt;td>145€, $30&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></content><category term="planeta-codigo"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/</id><title>Cómo usar Wine para jugar en GNU/Linux a Diablo 3 u otros juegos de Blizzard o Windows</title><updated>2018-10-07T16:00:00+02:00</updated><published>2018-12-02T17:30:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/wine.svg" class="right " width="200" alt="Wine" title="Wine"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/blizzard.svg" class="right " width="300" alt="Blizzard" title="Blizzard"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/linux.svg" class="right " width="200" alt="Linux" title="Linux"/>
&lt;/div>
&lt;p>Desde el año 2008 que llevo utilizando &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a> como único sistema operativo en mi equipo para todas las tareas que realizo nunca me he planteado jugar a juegos de primera linea o triple A. No por que no se pudiese sino porque GNU/Linux nunca ha sido considerado una opción para estos juegos, &lt;a href="https://picodotdev.github.io/blog-bitix/series/juegos/">hay juegos sí y algunos buenos&lt;/a> pero la mayoría de los comerciales se desarrollan para ejecutarse en &lt;a href="https://www.microsoft.com/es-es/windows/">Windows&lt;/a> o como mucho en &lt;a href="https://www.apple.com/macos/">macOS&lt;/a> y yo ni siquiera me lo había planteado.&lt;/p>
&lt;p>Con el último portátil que he tenido con un procesador &lt;a href="https://ark.intel.com/es-es/products/67355/Intel-Core-i5-3210M-Processor-3M-Cache-up-to-3_10-GHz-rPGA">Intel i5-3210M&lt;/a> con una gráfica integrada &lt;a href="https://en.wikipedia.org/wiki/Intel_Graphics_Technology#Ivy_Bridge">HD 4000&lt;/a> ya hubiese podido jugar a alguno aunque hubiese sido a una resolución no muy alta o bajando detalles gráficos. Por lo menos para jugar a unos de los juegos que siempre me ha llamado la atención en sus diferentes versiones, &lt;a href="https://es.wikipedia.org/wiki/Diablo_(videojuego)">Diablo&lt;/a>, &lt;a href="https://es.wikipedia.org/wiki/Diablo_II">Diablo 2&lt;/a> y &lt;a href="https://es.wikipedia.org/wiki/Diablo_III">Diablo 3&lt;/a>. El primero y el segundo me los pasé en la época que jugaba más habitualmente, Diablo 2 habrá sido uno de los últimos juegos que me he pasado completos al menos con una clase de personaje.&lt;/p>
&lt;p>Ahora que he cambiado de equipo a un &lt;a href="https://www.intel.com/content/www/us/en/products/boards-kits/nuc/kits/nuc8i5bek.html">Intel NUC8i5BEK&lt;/a> con un procesador de 4 núcleos y 8 hilos &lt;a href="https://ark.intel.com/products/135935/Intel-Core-i5-8259U-Processor-6M-Cache-up-to-3_80-GHz">i5-8259U&lt;/a> que aunque lleva una gráfica integrada &lt;a href="https://en.wikipedia.org/wiki/Intel_Graphics_Technology#Kaby_Lake_Refresh_/_Coffee_Lake">Iris Graphics 655&lt;/a> ya es bastante más capaz y suficiente para jugar a Diablo 3 que es un juego del 2012. Me he planteado ahora más en serio comprobar si en GNU/Linux se puede jugar a juegos con la experiencia de que tal se puede jugar a Diablo 3.&lt;/p>
&lt;p>Como los juegos son desarrollados para Windows hay que utilizar una capa que implementa la API de Windows para hacer funcionar los juegos en GNU/Linux, pueden ser juegos pero también programas como &lt;a href="https://products.office.com/es-es/">Microsoft Word&lt;/a>. La capa de implementación de la API de Windows utilizada en GNU/Linux es &lt;a href="https://www.winehq.org/">Wine&lt;/a>.&lt;/p>
&lt;p>Como siempre he empezado por leer el artículo de la &lt;a href="https://wiki.archlinux.org/index.php/Wine">wiki de Arch Linux dedicado a Wine&lt;/a> pra ver que paquetes son necesarios instalar además del repositorio &lt;em>multilib&lt;/em> y que información contiene, en un primer momento hay que habilitar el repositorio &lt;em>multilib&lt;/em> con implementaciones de librerías de 32 bits. Para juegos la opción recomendable es &lt;a href="https://www.archlinux.org/packages/multilib/x86_64/wine-staging/">wine-staging&lt;/a> que contiene los últimos parches añadidos, &lt;a href="https://www.archlinux.org/packages/multilib/x86_64/wine/">wine&lt;/a> es una versión más estable pero con una cadencia de versiones más lenta que no tiene los últimos parches. También son necesarios los &lt;a href="https://www.archlinux.org/packages/multilib/x86_64/lib32-mesa/">controladores gráficos de 32 bits de la tarjeta&lt;/a>, en este caso de Intel. Y el sistema de sonido para 32 bits, si no se instala &lt;a href="lib32-libpulse">lib32-libpulse&lt;/a> en la terminal aparecen mensajes de que no se encuentra las librerías &lt;em>libpulse.so.0&lt;/em> y &lt;em>libpulse.so.2&lt;/em>. &lt;a href="https://www.archlinux.org/packages/multilib/x86_64/wine_gecko/">wine_gecko&lt;/a> y &lt;a href="https://www.archlinux.org/packages/community/any/wine-mono/">wine-mono&lt;/a> son unos requerimientos de Wine y los programas Windows.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># pacman -S wine-staging lib32-mesa lib32-libpulse wine_gecko wine-mono&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/install-wine.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/install-wine.sh" target="_blank">install-wine.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Por otro lado Wine posee una &lt;a href="https://appdb.winehq.org/">base de datos con información de compatibilidad y estabilidad&lt;/a> de programas Windows sobre Wine en GNU/Linux. &lt;a href="https://eu.diablo3.com/es/">Diablo 3&lt;/a> es un juego de &lt;a href="https://www.blizzard.com/es-es/">Blizzard&lt;/a> que posee un sistema con una aplicación propia para descargar, instalar y controlar el uso adecuado del juego, la aplicación es &lt;a href="https://www.blizzard.com/es-es/apps/battle.net/desktop">Battle.net&lt;/a> con la que se pueden instalar &lt;a href="http://eu.blizzard.com/es-es/games/">todos los juegos de este estudio&lt;/a>. Para obtenerla hay que registrarse como usuario y una vez registrados se puede descargar el cliente que es un archivo ejecutable de Windows &lt;em>.exe&lt;/em> que hay que ejecutar con Wine.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://worldofwarcraft.com/">World of Warcraft&lt;/a> y &lt;a href="https://eu.blizzard.com/es-es/games/war3/">Warcraft III&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://eu.diablo3.com/es/">Diablo 3&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://playoverwatch.com/">Overwatch&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://eu.battle.net/sc2">Starcraft II&lt;/a> y Starcraft&lt;/li>
&lt;li>&lt;a href="https://eu.battle.net/heroes/">Heroes of the Storm&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://eu.battle.net/hearthstone/">Hearthstone&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Por lo que para instalar Diablo 3 es necesario Battle.net. La &lt;a href="https://appdb.winehq.org/objectManager.php?sClass=version&amp;amp;iId=28855">página de información de Battle.net de Wine&lt;/a> indica que es necesario adicionalmente las librerías &lt;a href="https://www.archlinux.org/packages/multilib/x86_64/lib32-libldap/">lib32-libldap&lt;/a> y &lt;a href="https://www.archlinux.org/packages/multilib/x86_64/lib32-gnutls/">lib32-gnutls&lt;/a> además de &lt;a href="https://www.archlinux.org/packages/community/any/winetricks/">winetricks&lt;/a>. El comando de &lt;em>winetricks&lt;/em> es necesario para resolver el problema descrito en la página de Wine sobre Battle.net, &lt;em>Blizzard App icon keeps spinning forever&lt;/em>, para poder iniciar sesión en con el cliente.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># pacman -S lib32-libldap lib32-gnutls&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/install-libs.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/install-libs.sh" target="_blank">install-libs.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Con esto ya se puede iniciar el cliente de Battle.net con Wine y comenzar la instalación de Diablo 3, ocupa unos 17 GB que dependiendo de la conexión a internet de la que se disponga tardará más menos. Llegado a cierta cantidad de datos descargado del juego ya se puede iniciar pero se puede esperar a que se descargue completamente para tener mejor experiencia y no falte nada del contenido. En algunos momentos mientras se descarga el juego la aplicación parece que se queda congelada aunque sigue descargando, basta redimensionar un poco la ventana para activarse de nuevo y ver el progreso.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ winetrics corefonts
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/winetrics.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/winetrics.sh" target="_blank">winetrics.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Una vez instalados los paquetes necesarios y realizada la configuración se puede iniciar el cliente de Battle.net.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ chmod +x Battle.net-Setup.exe
$ wine Battle.net-Setup.exe&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/wine-battlenet.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/wine-battlenet.sh" target="_blank">wine-battlenet.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-1_hu1af337f1f432100fe28211cfcfba345a_223158_2560x1440_fit_box_2.png" title="Cliente de Battle.net" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-1_hu1af337f1f432100fe28211cfcfba345a_223158_200x150_fit_box_2.png" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-2_huea8a38413f264d96312ce2a9693571e3_48092_2560x1440_fit_box_2.png" title="Cliente de Battle.net" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-2_huea8a38413f264d96312ce2a9693571e3_48092_200x150_fit_box_2.png" width="103"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-3_hu5f811e379f7ce2577c2a8d282c7472b1_260250_2560x1440_fit_q90_box.jpg" title="Cliente de Battle.net" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-3_hu5f811e379f7ce2577c2a8d282c7472b1_260250_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Cliente de Battle.net&lt;/figcaption>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-4_huf11a73986e214039994ef0e7bf4a303f_266343_2560x1440_fit_q90_box.jpg" title="Instalación de Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-4_huf11a73986e214039994ef0e7bf4a303f_266343_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-5_hu0a819fe368be398b4c4d99e6162ed45b_267077_2560x1440_fit_q90_box.jpg" title="Instalación de Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-5_hu0a819fe368be398b4c4d99e6162ed45b_267077_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-6_hue446743061eb0a432b132dc6dbcf9a5e_202739_2560x1440_fit_q90_box.jpg" title="Instalación de Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/battle-net-6_hue446743061eb0a432b132dc6dbcf9a5e_202739_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Instalación de Diablo 3&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Instalado el juego se inicia con un comando de Wine o con el acceso directo del menú de aplicaciones del juego o del cliente de Battle.net.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ wine .wine/drive_c/Program&lt;span class="se">\ &lt;/span>Files&lt;span class="se">\ &lt;/span>&lt;span class="se">\(&lt;/span>x86&lt;span class="se">\)&lt;/span>/Diablo&lt;span class="se">\ &lt;/span>III/Diablo&lt;span class="se">\ &lt;/span>III.exe
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/wine-diablo3.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/wine-diablo3.sh" target="_blank">wine-diablo3.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/menu-aplicaciones_hu23762720fc26bdd5f4021f30a4aec444_367797_2560x1440_fit_q90_box.jpg" title="Menú de aplicaciones con accesos directos de Battle.net y Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/menu-aplicaciones_hu23762720fc26bdd5f4021f30a4aec444_367797_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Menú de aplicaciones&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Leyendo la &lt;a href="https://appdb.winehq.org/objectManager.php?sClass=version&amp;amp;iId=29952">página de información de Diablo 3&lt;/a> indica que hay que utilizar el cliente de 32 bits sino se utiliza la API de gráficos DirectX 11 que no ofrece buen rendimiento como he comprobado, no ofrece más de 10 fps. Con el cliente de 32 bits el rendiminto ya es el normal. El cliente de 32 bits se activa en &lt;em>Battle.net App -&amp;gt; Settings -&amp;gt; Game Settings -&amp;gt; Diablo 3 -&amp;gt; Launch 32-bit client (instead of 64-bit)&lt;/em>.&lt;/p>
&lt;p>Diablo 3 comienza con una cinemática introductoria que en mi caso no iba bien y tampoco las siguientes cinemáticas que se reproducen en ciertos hitos del juego. Para verlas se puede ir a Youtube, cada clase tiene una inicial distinta. Como he elegido como clase la del monje para mi primer personaje pongo la de este.&lt;/p>
&lt;div class="media media-video" style="text-align: center;">
&lt;iframe width="640" height="360" src="https://www.youtube.com/embed/8U-grPG5W8M?rel=0" frameborder="0" allowfullscreen>&lt;/iframe>
&lt;iframe width="640" height="360" src="https://www.youtube.com/embed/STx7Um655aw?rel=0" frameborder="0" allowfullscreen>&lt;/iframe>
&lt;/div>
&lt;p>La trama del juego comienza con la caída de una estrella en la antigua catedral de Tristán y el personaje en el camino dirigiéndose hacia Nueva Tristán con motivo de tal acontecimiento.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-1_hub14f7cad927ad832ab1c483f44c3f52b_701372_2560x1440_fit_q90_box.jpg" title="Personaje de clase monje" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-1_hub14f7cad927ad832ab1c483f44c3f52b_701372_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-2_hu77eb845d42bfd677525787845cd0f45e_640813_2560x1440_fit_q90_box.jpg" title="Caminio hacia Nueva Tristán" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-2_hu77eb845d42bfd677525787845cd0f45e_640813_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-3_hu995bdb92e4e7ff882ec5b13fa47f4dbd_551707_2560x1440_fit_q90_box.jpg" title="Jugando a Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-3_hu995bdb92e4e7ff882ec5b13fa47f4dbd_551707_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-4_hu08a4565579a3291fe5a28cd7a2e12b7d_459463_2560x1440_fit_q90_box.jpg" title="Jugando a Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-4_hu08a4565579a3291fe5a28cd7a2e12b7d_459463_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-5_hu3f5cbd2a42cf434d3b17080246a9e1f4_630426_2560x1440_fit_q90_box.jpg" title="Jugando a Diablo 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/diablo-3-5_hu3f5cbd2a42cf434d3b17080246a9e1f4_630426_200x150_fit_q90_box.jpg" width="200"/>&lt;/a>
&lt;figcaption>Juego de Diablo 3&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>El juego se inicia y funciona correctamente, en unas poca horas que he estado jugando, no ha quedado engendro, barril ni tocón en pie &amp;gt;:), no he tenido ningún cierre del juego inesperado ni ningún error, salvo por las cinemáticas irreproducibles de las que se sale con la tecla escape. El NUC en el que lo he ejecutado parece que no se calienta en exceso al tacto, la temperatura de la CPU se mantiene de forma estable a 75ºobservando sus sensores por software, el ventilador funcionando a esta temperatura hace mucho ruido y no se percibe en el fragor del juego, con buenos FPS aún a resolución QHD de 2560x1440. .&lt;/p>
&lt;p>El juego permite ajustar la calidad gráfica a la capacidad del equipo para tener buenos fps, la principal es la resolución a menor resolución mejor rendimiento, también calidad de texturas y efectos gráficos. Con estas calidades gráficas estos son los fotogramas por segundo. Los fotogramas por segundo se muestran en la parte inferior derecha pulsando la combinación de teclas &lt;em>Ctrl+R&lt;/em>. A una resolución de 1920x1080 que no es poco ya se obtienen unos muy aceptables 60 fps.&lt;/p>
&lt;ul>
&lt;li>A 2560x1440 va a 42 fps en el NUC8i5BEK.&lt;/li>
&lt;li>A 1920x1080 va a 60 fps.&lt;/li>
&lt;li>A 1600x900 va a 70 fps.&lt;/li>
&lt;/ul>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/opciones-graficas_hu7ca4fee11f109ac1ea450976f9c9e26e_349071_2560x1440_fit_q90_box.jpg" title="Opciones de calidad gráfica usadas para medir el rendimiento en fps" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/opciones-graficas_hu7ca4fee11f109ac1ea450976f9c9e26e_349071_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;figcaption>Opciones de calidad gráfica usadas para medir el rendimiento en fps&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Por defeco en mi caso no he podido cambiar la resolución del juego desde las opciones solo me ofrece una opción la de la resolución del monitor, como 2560x1440 es una resolución alta y aún jugables los 42 fps no son muchos, a más fps se aprecia más fluidez. Para cambiar la resolución he tenido que utilizar el siguiente comando desde la terminal con el que Wine ejecuta el programa en modo explorador o en un escritorio virtual, se indica el nombre del escritorio virtual Diablo 3, 1920x1080 es la resolución deseada en este caso y el último parámetro &lt;em>Diablo III.exe&lt;/em> es la ubiciación del ejecutable.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ wine explorer /desktop&lt;span class="o">=&lt;/span>Diablo3,1920x1080 ~/.wine/drive_c/Program&lt;span class="se">\ &lt;/span>Files&lt;span class="se">\ &lt;/span>&lt;span class="se">\(&lt;/span>x86&lt;span class="se">\)&lt;/span>/Diablo&lt;span class="se">\ &lt;/span>III/Diablo&lt;span class="se">\ &lt;/span>III.exe
$ wine explorer /desktop&lt;span class="o">=&lt;/span>Diablo3,1600x900 ~/.wine/drive_c/Program&lt;span class="se">\ &lt;/span>Files&lt;span class="se">\ &lt;/span>&lt;span class="se">\(&lt;/span>x86&lt;span class="se">\)&lt;/span>/Diablo&lt;span class="se">\ &lt;/span>III/Diablo&lt;span class="se">\ &lt;/span>III.exe&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/wine-explorer.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/wine-explorer.sh" target="_blank">wine-explorer.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/wine-exporer-1_hu01f3569cd3bc4c74d1574636c7620dcd_312455_2560x1440_fit_q90_box.jpg" title="Diablo 3 en Wine modo explorardor" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/wine-exporer-1_hu01f3569cd3bc4c74d1574636c7620dcd_312455_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/wine-exporer-2_hu998cbd352577b5f09726b73b5d0ca8d5_404909_2560x1440_fit_q90_box.jpg" title="Diablo 3 a resolución 1920x1080" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/wine-exporer-2_hu998cbd352577b5f09726b73b5d0ca8d5_404909_300x200_fit_q90_box.jpg" width="300"/>&lt;/a>
&lt;figcaption>Diablo 3 en Wine modo explorardor a 1920x1080&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Si soy sincero en toda mi época jugona creo que no he pagado por ningún juego de los que he tenido y he jugado a muchos de los más populares que estaban cada momento. Así que recuerde es muy posible que me decida a pagar por este Diablo 3 por primera vez por un juego viendo que puedo jugar el GNU/Linux perfectamente. Se puede mediante &lt;a href="https://www.paypal.com/">PayPal&lt;/a> y por supuesto con tarjeta de crédito. La única duda que tengo es si ejecutar Diablo 3 sobre Wine es algo aceptable por Blizzard o si esto es motivo de expulsión y cierre de cuenta, el llamado &lt;em>baneo&lt;/em>, hay comentados algunos casos por estos motivos. El &lt;a href="https://eu.shop.battle.net/es-es/product/diablo-iii">juego básico de Diablo 3&lt;/a> cuesta 20 € y &lt;a href="https://eu.shop.battle.net/es-es/product/diablo-iii-reaper-of-souls">la expansión Reaper of Souls&lt;/a> que incluye una nueva clase la de cruzado, el acto V, modo aventura y nuevas habilidades en clases otros 20€, &lt;a href="https://eu.shop.battle.net/es-es/product/diablo-iii-battle-chest">comprando ambos a la vez&lt;/a> son 30€. Hay una &lt;a href="https://eu.shop.battle.net/es-es/product/diablo-iii-rise-of-the-necromancer">segunda expansión, Despertar del Nigromante&lt;/a>, que permite jugar con una clase adicional de nigromante por 15 €.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/pago_hu23e10a14d0aec3bb84a627450b647d0f_500830_2560x1440_fit_box_2.png" title="Formas de pago" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/images/pago_hu23e10a14d0aec3bb84a627450b647d0f_500830_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Formas de pago&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Otros juegos que tengo en mi lista pero ya de &lt;a href="https://picodotdev.github.io/blog-bitix/2019/09/la-aplicacion-cliente-de-steam-en-gnu-linux/">Steam que tiene un cliente ya nativo para GNU/Linux&lt;/a> con varios juegos compatibles. Aunque sea solo para probar que también se pueden jugar a muchos juegos del amplio catálogo de Steam lo probaré. Otra plataforma que posiblemente pruebe sea &lt;a href="https://www.gog.com/">GOG&lt;/a>. Y con estas tres plataformas espero que quede demostrado que en GNU/Linux se puede jugar a juegos comerciales aceptablemente, aún alguno teniendo varios años como este Diablo 3 pero que para mi habiendo estado bastante desconectado de los juegos me parece que tiene una historia, argumento y una calidad gráfica artística impresionante.&lt;/p>
&lt;p>Otros juegos en mi lista:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://store.steampowered.com/app/310560/DiRT_Rally/">DirtRally&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://store.steampowered.com/app/640820/Pathfinder_Kingmaker/">Pathfinder: Kingmaker&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.gog.com/game/torchlight_ii">Tochligh II&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://store.steampowered.com/app/271590/Grand_Theft_Auto_V/">Grand Theft Auto V&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://store.steampowered.com/app/245620/Tropico_5/">Tropico 5&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://store.steampowered.com/app/257350/Baldurs_Gate_II_Enhanced_Edition/">Baldur&amp;rsquo;s Gate II: Enhanced Edition&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Hay alguna utilidad que realiza algunas modificaciones a Wine, una de ellas es &lt;a href="https://www.playonlinux.com/en/">PlayOnLinux&lt;/a> que es una colección de &lt;em>scripts&lt;/em> que en principio mejora la experiencia y compatibilidad pero en algún comentario he leído que alguno de esos &lt;em>scripts&lt;/em> están desactualizados y es mejor usar Wine directamente leyendo las páginas de la base de datos con la información de pasos relevantes si hay que hacer alguno. La siguiente versión de PlaynLinux se llamará &lt;a href="https://phoenicis.org/">Phoenicis&lt;/a>, otro proyecto que estoy siguiendo es &lt;a href="https://www.winepak.org/">Winepak&lt;/a> que es un repositorio específico para aplicaciones Windows de &lt;a href="https://flatpak.org/">Flatpak&lt;/a>, &lt;a href="https://picodotdev.github.io/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/">Flatpak es una nueva forma de distribuir software en GNU/Linux&lt;/a> que tiene algunas ventajas a utilizar los paquetes propios de la distribuciones GNU/Linux.&lt;/p>
&lt;p>Al instalar programas en Wine se crean accesos directos en el menú de aplicaciones con lo que la integración en el sistema es perfecta y una aplicación Wine se puede ejecutar como cualquier otra aplicación del sistema. Si más tarde se desea &lt;a href="https://wiki.archlinux.org/index.php/Official_repositories#Disabling_multilib">desinstalar todos esos paquetes de &lt;em>multilib&lt;/em>&lt;/a>, Wine y &lt;a href="https://wiki.archlinux.org/index.php/Wine#Removing_menu_entries">eliminar los accesos directos en el menú de aplicaciones creados por Wine&lt;/a> hay que ejecutar los siguientes comandos, en Arch Linux.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># Eliminar todos los paquetes instalados del repositorio multilib&lt;/span>
&lt;span class="c1"># pacman -R $(comm -12 &amp;lt;(pacman -Qq | sort) &amp;lt;(pacman -Slq multilib | sort))&lt;/span>
&lt;span class="c1"># Eliminar accesos directos creados por Winw&lt;/span>
$ rm ~/.local/share/mime/packages/x-wine*
$ rm ~/.local/share/applications/wine-extension*
$ rm ~/.local/share/icons/hicolor/*/*/application-x-wine-extension*
$ rm ~/.local/share/mime/application/x-wine-extension*&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/uninstall.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/12/como-usar-wine-para-jugar-en-gnu-linux-a-diablo-3-u-otros-juegos-de-blizzard-o-windows/code/uninstall.sh" target="_blank">uninstall.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="reference">
Referencia:&lt;br>
&lt;ul>
&lt;li>&lt;a href="https://linoxide.com/linux-how-to/install-blizzard-battlenet-app-linux/">How to Install Blizzard Battlenet App on Linux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://wiki.winehq.org/FAQ#How_do_I_get_Wine_to_launch_an_application_in_a_virtual_desktop.3F">How do I get Wine to launch an application in a virtual desktop?&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div></content><category term="gnu-linux"/><category term="juegos"/><category term="software"/><category term="software-libre"/><category term="windows"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/</id><title>Flatpak, distribución e instalación de programas de escritorio en las distribuciones GNU/Linux</title><updated>2018-11-23T17:30:00+01:00</updated><published>2018-11-23T17:30:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/flatpak.svg" class="right " width="300" alt="Flatpak" title="Flatpak"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/linux.svg" class="right " width="200" alt="Linux" title="Linux"/>
&lt;/div>
&lt;p>Las distribuciones GNU/Linux son la recolección de cantidad de programas de software libre, cientos o miles, con una garantía de que funcionan correctamente en esa distribución y que facilita a los usuarios una fácil utilización. Hay múltiples distribuciones GNU/Linux con diferentes intereses ya sean generalistas como &lt;a href="https://www.ubuntu.com/">Ubuntu&lt;/a>, &lt;a href="https://fedoraproject.org/">Fedora&lt;/a>, &lt;a href="https://www.debian.org/">Debian&lt;/a>, &lt;a href="https://www.archlinux.org/">Arch Linux&lt;/a>, &lt;a href="https://elementary.io/es/">elementary&lt;/a>, &lt;a href="https://www.opensuse.org/es/">openSUSE&lt;/a> entre las más populares y otras especializadas en propósitos más específicos para servidor con &lt;a href="https://www.redhat.com/es/technologies/linux-platforms/enterprise-linux">RHEL&lt;/a>, &lt;a href="https://www.centos.org/">CentOS&lt;/a>, &lt;a href="https://www.zentyal.org/">Zentyal&lt;/a> o &lt;a href="https://www.alpinelinux.org/">Alpine&lt;/a>, para equipos con pocos recursos como &lt;a href="http://puppylinux.com/">Puppy&lt;/a> o &lt;a href="http://www.tinycorelinux.net/">Tiny Core&lt;/a>, seguridad y privacidad como &lt;a href="https://tails.boum.org/">Tails&lt;/a> o sin componentes privativos como &lt;a href="https://trisquel.info/es">Trisquel&lt;/a>.&lt;/p>
&lt;p>Cada una de estas distribuciones es creada por personas que se encargan de mantener la distribución cogiendo el código fuente que los programadores del software crean y publican, compilandolo para crear un binario o paquete utilizable e instalable en esa distribución y comprobar que funciona correctamente sin conflictos con otros paquetes. Los mantenedores se encargan de publicar nuevas versiones de paquetes con cada nueva versión de cada programas, de reportar errores y de incluso aplicar parches de seguridad cuando se descubren.&lt;/p>
&lt;p>Esta tarea que hacen los mantenedores se hace por cada paquete, son miles los que contiene una distribución, Debian tiene más de 51000, y por cada distribución aunque algunas se basan en otras como Ubuntu se basa en Debian y otras se basan a su vez en Ubuntu. Esto es una ingente cantidad de tiempo de dedicación de muchas personas y replicado en gran parte en cada distribución que podrían ser empleado en otras tareas.&lt;/p>
&lt;p>La tarea que hacen los mantenedores es útil para comprobar que los paquetes de cada distribución funcionan correctamente y en conjunto con el resto de paquetes y porque los autores originales del software no tenían una forma de distribuir su software para que funcionase correctamente en todas las distribuciones.&lt;/p>
&lt;p>&lt;a href="https://flatpak.org/">Flatpak&lt;/a> se define como el futuro, aunque es ya un presente, de forma de distribuir aplicaciones de escritorio siendo &lt;a href="https://www.flatpak.org/setup/">varias distribuciones GNU/Linux importantes que ya lo soportan&lt;/a>. Las ventajas que proporciona son:&lt;/p>
&lt;ul>
&lt;li>Los paquetes de flatpak son utilizables en cualquier distribución.&lt;/li>
&lt;li>Los autores del software pueden crear el paquete sin depender de que los mantenedores lo incluyan en una distribución para que sea utilizable por sus usuarios.&lt;/li>
&lt;li>Una nueva versión está disponible inmediatamente para todas las distribuciones que será más una buena mejora para distribuciones con ciclos de publicación más lentos.&lt;/li>
&lt;li>Proporciona entornos consistentes.&lt;/li>
&lt;li>Las aplicaciones son utilizables incluso en nuevas versiones de una distribución.&lt;/li>
&lt;li>Se pueden instalar múltiples versiones de una misma aplicación.&lt;/li>
&lt;li>Hay menos riesgo de que una actualización de un programa provque que el sistema quede inconsistente pudiendo incluso a no llegar a iniciarse correctamente.&lt;/li>
&lt;li>Se mejora la seguridad el ejecutarse las aplicaciones de forma aislada en una caja de arena que limita las acciones que puede realizar. Los permisos como almacenamiento, red y dispositivos se han de conceder de forma explícita.&lt;/li>
&lt;li>Cualquiera puede publicar su aplicación y ser utilizable por los usuarios sin que necesite ganar popularidad para que los mantenedores la incluyan en la distribución.&lt;/li>
&lt;li>Las aplicaciones Flatpak se puede instalar a nivel de sistema (por defecto) y a nivel de usuario.&lt;/li>
&lt;/ul>
&lt;div class="media media-video" style="text-align: center;">
&lt;iframe width="640" height="360" src="https://www.youtube.com/embed/jDVCITRWGgs?rel=0" frameborder="0" allowfullscreen>&lt;/iframe>
&lt;/div>
&lt;p>La &lt;a href="https://www.flatpak.org/setup/">instalación de Flatpak&lt;/a> y &lt;a href="http://docs.flatpak.org/en/latest/using-flatpak.html">guía de uso&lt;/a> no es más complicado que utilizar el propio gestor de paquetes de cada distribución. Los desarrolladores tienen su &lt;a href="http://docs.flatpak.org/en/latest/building.html">guía para crear paquetes&lt;/a> y &lt;a href="http://docs.flatpak.org/en/latest/publishing.html">publicar&lt;/a> en Flatpak.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># Gestionar repositorios de Flatpak&lt;/span>
$ flatpak remotes
$ flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo
$ flatpak remote-delete flathub
&lt;span class="c1"># Buscar programas&lt;/span>
$ flatpak search &lt;span class="o">[&lt;/span>programas&lt;span class="o">]&lt;/span>
&lt;span class="c1"># Instalar un paquete, en este caso GIMP&lt;/span>
$ flatpak install flathub org.gimp.GIMP
&lt;span class="c1"># Ejecutar un programa instalado como Flatpak (aunque se integran en el sistema&lt;/span>
&lt;span class="c1"># añadiendo un icono en el lanzador de aplicaciones)&lt;/span>
$ flatpak run org.gimp.GIMP
&lt;span class="c1"># Actualizar los programas&lt;/span>
$ flatpak update
&lt;span class="c1"># Listar los programas instalados y runtimes, o solo aplicaciones&lt;/span>
$ flatpak list
$ flatpak list --app
&lt;span class="c1"># Desinstalar un programa&lt;/span>
$ flatpak uninstall org.gimp.GIMP&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/code/flatpak.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/code/flatpak.sh" target="_blank">flatpak.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>&lt;a href="https://flathub.org/home">Flathub&lt;/a> es un repositorio de las &lt;a href="https://flathub.org/apps">aplicaciones Flatpak&lt;/a> que en el ejemplo se añade con el comando con &lt;em>flatpak remote-add&lt;/em>. Las que hay se pueden &lt;a href="https://flathub.org/apps/category/All">navegar por categoría&lt;/a> y son algunas de las más populares y que es probable querer instalar en cualquier sistema. A medida que pase el tiempo habrá más disponibles.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://flathub.org/apps/category/AudioVideo">Audio y vídeo&lt;/a>: Audacity, GNOME Music, HandBrake, OpenShot, Pitivi, Rhythmbox, VLC, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Development">Desarrollo&lt;/a>: Atom, gitg, Meld, Backets, Sequeler, SmartGit, Sublime Text, Visual Studio Code, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Education">Educación&lt;/a>: GCompris, GeoGebra, GNU Octave, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Game">Juegos&lt;/a>: 0 A.D, Battle for Wesnoth, Games, gbrainy, GNOME Chess, OpenTTD, ScummVM, Shattered Pixel Dungeon, Steam, SuperTuxKart, Teeworlds, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Graphics">Gráficos y fotografía&lt;/a>: Blender, Colo , GNU Image Manipulation Program (GIMP), Image Optimizer, Inkscape, Krita, Scribus, Synfig Studio, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Network">Comunicación y noticias&lt;/a>: Dropbox, FeedReader, FileZilla, Geary, JDownloader, Pidgin, Polari, Remmina, Signal, Skype, Slack, Telegram, Thunderbird, Transmission, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Office">Productividad&lt;/a>: Calendar, Calibre, Contacts, Evolution, LibreOffice, Thunderbird, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Science">Ciencia&lt;/a>: Elements, Genius, Stellarium, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Settings">Configuración&lt;/a>: RazerGenie, &amp;hellip;&lt;/li>
&lt;li>&lt;a href="https://flathub.org/apps/category/Utility">Utilidades&lt;/a>: Agenda, FreeFileSync, KeePassXC, Nextcloud, Vim, &amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>Con las ventajas de Flatpak tanto para usuarios, desarrolladores y mantenedores y a medida que gane más popularidad los desarrolladores tendrán más motivación por publicar sus aplicaciones en paquete Flatpak y en alguno de sus repositorios.&lt;/p>
&lt;p>En la página de &lt;a href="https://www.flatpak.org/faq/">preguntas frecuentes&lt;/a> está el curioso origen del nombre de Flatpak en relación con una de las innovaciones de paquetes planos de IKEA. Es una tecnología acoplada a Linux ya que utiliza varias de las tecnologías propias de Linux y por tanto no está para las &lt;a href="https://es.wikipedia.org/wiki/Berkeley_Software_Distribution">distribuciones BSD&lt;/a> como ocurre en otros casos. El entorno de desarrollo &lt;a href="https://wiki.gnome.org/Apps/Builder">GNOME Builder&lt;/a> soporta la programación para Flatpak.&lt;/p>
&lt;p>Flatpak está más apoyada por &lt;a href="https://www.redhat.com/es">Red Hat&lt;/a>, &lt;a href="https://www.canonical.com/">Canonical&lt;/a> tiene su tecnología similar con &lt;a href="https://snapcraft.io/">snaps&lt;/a>. Ha ocurrido igual en anteriores casos con &lt;a href="https://www.freedesktop.org/wiki/Software/systemd/">systemd&lt;/a> y &lt;a href="https://es.wikipedia.org/wiki/Upstart">Upstart&lt;/a> o &lt;a href="https://es.wikipedia.org/wiki/Wayland_(protocolo)">Wayland&lt;/a> y &lt;a href="https://en.wikipedia.org/wiki/Mir_(software)">Mir&lt;/a> donde las tecnologías más apoyadas por Red Hat han sido las que mayor éxito han tenido y han prevalecido. Si nada cambia en &lt;a href="https://picodotdev.github.io/blog-bitix/2018/10/ibm-adquiere-red-hat-el-gigante-de-linux-y-codigo-abierto/">Red Hat al ser adquirida por parte de IBM&lt;/a> puede que se produzca el mismo resultado no tanto por que las tecnologías de Red Hat sean mejores sino porque tiene más peso en la comunidad que Canonical. Por el momento la &lt;a href="https://kamikazow.wordpress.com/2018/06/08/adoption-of-flatpak-vs-snap-2018-edition/">adopción para snap contra la de Flatpak&lt;/a> no produce buenos augurios para la primera donde solo en Ubuntu es buena como no podría ser de otra forma.&lt;/p>
&lt;p>Si usas Arch Linux e instalas el entorno de escritorio GNOME con los paquetes &lt;em>gnome&lt;/em> y &lt;em>gnome-extra&lt;/em> ya tendrás instalado Flatpak ya que se instala como dependencia. Se puede instalar directamente con el gestor de paquetes &lt;em>pacman&lt;/em> con el siguiente comando:&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># pacman -S flatpak&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/code/install.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/11/flatpak-distribucion-e-instalacion-de-programas-de-escritorio-en-las-distribuciones-gnu-linux/code/install.sh" target="_blank">install.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="reference">
Referencia:&lt;br>
&lt;ul>
&lt;li>&lt;a href="https://www.reddit.com/r/linux/comments/60qdtw/flatpak_vs_snap_which_format_is_better_a_rather/">Flatpak vs Snap - Which format is &amp;ldquo;Better&amp;rdquo;? A rather excellent in-depth comparison&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://wiki.archlinux.org/index.php/Flatpak">Flatpak Arch Linux Wiki&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div></content><category term="gnu-linux"/><category term="planeta-codigo"/><category term="software"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/</id><title>Como recuperar Arch Linux después de una actualización que provoca el sistema no inicie</title><updated>2018-07-27T16:00:00+02:00</updated><published>2018-07-27T16:00:00+02:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>&lt;strong>Instalar un sistema GNU/Linux es sencillo y está muy bien, también es importante saber como intentar recuperarlo cuando una actualización de software provoca que el sistema no se inicie con normalidad hasta el entorno de escritorio gráfico, el motivo puede ser incluso un &lt;em>kernel panic&lt;/em>. El objetivo de la recuperación es corregir el problema del inicio, si no es posible, recuperar los valiosos documentos, imágenes, vídeos u otros archivos antes de finalmente llegar al punto de reinstalar el sistema para devolverlo a un estado correcto aunque quizá perdiendo los datos que tuviese.&lt;/strong>&lt;/p>
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/archlinux.svg" class="right " width="250" alt="Arch Linux" title="Arch Linux"/>
&lt;/div>
&lt;p>Estás contento con &lt;a href="https://www.archlinux.org/">Arch Linux&lt;/a> y en gran medida despreocupado de las versiones de las aplicaciones ya que sabes que al ser una distribución &lt;em>rolling release&lt;/em>, siempre tienes la última versión de todos los paquetes cada vez que haces una actualización completa del sistema. Un día realizas la periódica actualización o has visto una nueva versión de un paquete ya sea una nueva versión del &lt;a href="https://www.archlinux.org/packages/core/x86_64/linux/">kernel&lt;/a> o &lt;a href="https://www.archlinux.org/packages/extra/x86_64/mesa/">mesa&lt;/a> que pueden contener importante mejoras en el sistema gráfico que quieres aprovechar o una nueva versión de una aplicación con nuevas características relevantes como podría se &lt;a href="https://www.archlinux.org/packages/extra/x86_64/libreoffice-fresh/">LibreOffice&lt;/a> o &lt;a href="https://www.archlinux.org/packages/extra/x86_64/vlc/">VLC&lt;/a>. Inicias la actualización del sistema como tantas otras veces has hecho. Termina aparentemente bien con todos los paquetes actualizados y sin ningún mensaje de error. Reinicias el equipo para que la actualización de algunos paquetes tengan efecto como el caso del &lt;em>kernel&lt;/em>. Sin embargo, ¡sorpresa! el sistema no inicia como normalmente, no llega al inicio de sesión del entorno de escritorio ni siquiera tienes acceso a una terminal basada en consola, el error parece un &lt;a href="https://es.wikipedia.org/wiki/Kernel_panic">&lt;em>kernel panic&lt;/em>&lt;/a>. Reinicias una segunda vez, el mismo error. Parece que está todo perdido, piensas en los importantes archivos que tienes en el sistema de almacenamiento persistente, disco duro o SSD, ¡no tienes una copia completamente reciente!, el corazón te empieza a latir con fuerza.&lt;/p>
&lt;p>Por suerte, habiendo estado usando Arch Linux de forma ininterrumpida durante los 8 años esto solo me ha pasado una vez y por culpa mía después de actualizar &lt;a href="https://www.archlinux.org/packages/core/x86_64/grub/">Grub&lt;/a> al ejecutar un comando erróneo, durante todos esos años he tenido importantes actualizaciones como varias versiones de &lt;a href="https://www.archlinux.org/groups/x86_64/gnome/">GNOME&lt;/a>, &lt;a href="https://www.archlinux.org/packages/core/x86_64/systemd/">systemd&lt;/a> y el &lt;em>kernel&lt;/em>. El caso era el que he descrito anteriormente, el sistema no iniciaba dado que Grub es de las primeras cosas necesarias para iniciar el sistema cualquier problema en él origina esta situación. Otros paquetes de especial importancia son el &lt;em>kernel&lt;/em>, los controladores gráficos, &lt;em>mesa&lt;/em>, systemd, una nueva versión del entorno de escritorio, &amp;hellip; Por una actualización a una nueva versión de VLC el sistema no va a dejar de iniciarse al lo sumo será VLC el que no inicie y es de más sencillo de solucionar volviendo a una versión anterior correcta con &lt;a href="https://picodotdev.github.io/blog-bitix/2015/02/como-hacer-un-downgrade-de-un-paquete-en-arch-linux/">un simple &lt;em>downgrade&lt;/em> de paquete&lt;/a>.&lt;/p>
&lt;p>Antes de una actualización conviene revisar los paquetes que se van a actualizar y fijarse en los especialmente sensibles como he comentado, también conviene estar suscrito al &lt;a href="https://www.archlinux.org/feeds/news/">&lt;em>feed&lt;/em> de noticias de Arch&lt;/a>, a veces la actualización del sistema requiere una intervención manual y en ese &lt;em>feed&lt;/em> siempre comentan los detalles y en qué consiste la intervención manual incluso ponen los comandos necesarios a ejecutar. Para que el daño sea el menor posible en caso de completo desastre es imprescindible hacer copias de seguridad de forma regular, una cosa es un fallo de software otra es un fallo de hardware que si se produce en la unidad de almacenamiento los datos es muy posible que queden irrecuperables. Los fallos en el hardware no son tan extraños, el hardware es reemplazable por un módico precio pero los datos no, por todo ¡haz copias de seguridad regularmente! Avisado estás.&lt;/p>
&lt;p>De modo que saber cómo recuperar el sistema es algo necesario llegado el caso. En Arch Linux la forma que conozco es usando una imagen de instalación de Arch Linux y montar el sistema de archivos para hacer las modificaciones necesarias para recuperar el sistema que es probable que consistan en desactualizar paquetes por versiones anteriores. Dependiendo de los mensajes de error que proporcione el sistema en el inicio fallido las acciones a realizar para arreglarlo serán unas u otras, seguramente en los &lt;a href="https://bbs.archlinux.org/">foros de Arch Linux&lt;/a> otros usuarios ya hayan pedido ayuda con el mismo o parecido error.&lt;/p>
&lt;p>Los comandos concretos para montar el sistema de archivos depende de la configuración propia: de las particiones creadas, de si se está utilizando LVM o de si se está usando cifrado. Cuando escribí el &lt;a href="https://picodotdev.github.io/blog-bitix/2017/01/script-de-instalacion-de-arch-linux-desatendido-automatizado-y-personalizable/">&lt;em>script&lt;/em> de instalación desatendido, automatizado y personalizable para Arch Linux&lt;/a> pensé al mismo tiempo en el caso de uso de una hipotética recuperación, escribí un &lt;a href="https://github.com/picodotdev/alis/blob/master/alis-recovery.sh">&lt;em>script&lt;/em> para iniciar la recuperación&lt;/a>.&lt;/p>
&lt;p>Una vez iniciado el sistema con la imagen ISO de instalación de Arch Linux este &lt;em>script&lt;/em> contiene los comandos para iniciar la recuperación, los pasos de su uso son los siguientes:&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># loadkeys es&lt;/span>
&lt;span class="c1"># curl -sL https://bit.ly/2F3CATp&lt;/span>
&lt;span class="c1"># vim alis-recovery.conf&lt;/span>
&lt;span class="c1"># ./alis-recovery.sh&lt;/span>
&lt;span class="c1"># arch-chroot /mnt&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/code/alis-recovery-start.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/code/alis-recovery-start.sh" target="_blank">alis-recovery-start.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>En el paso &lt;em>vim alis-recovery.conf&lt;/em> se modifica la configuración según el sistema a recuperar. Básicamente se dice en qué unidad está el sistema de archivos de Arch Linux, si utiliza LVM y está cifrado. El &lt;em>script&lt;/em> de recuperación está adaptado al propio &lt;em>script&lt;/em> de instalación, no cubre la infinidad de casos personalizados que cada usuario por su cuenta puede realizar o existir pero sirve en cualquier caso como guía de cómo iniciar la recuperación.&lt;/p>
&lt;p>El contenido completo del propio &lt;em>script&lt;/em> de recuperación es el siguiente, no es más que un &lt;em>script&lt;/em> de &lt;a href="https://es.wikipedia.org/wiki/Bash">bash&lt;/a> con los mismos comandos que serían necesarios para realizar la recuperación manualmente de forma interactiva.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;span class="lnt">155
&lt;/span>&lt;span class="lnt">156
&lt;/span>&lt;span class="lnt">157
&lt;/span>&lt;span class="lnt">158
&lt;/span>&lt;span class="lnt">159
&lt;/span>&lt;span class="lnt">160
&lt;/span>&lt;span class="lnt">161
&lt;/span>&lt;span class="lnt">162
&lt;/span>&lt;span class="lnt">163
&lt;/span>&lt;span class="lnt">164
&lt;/span>&lt;span class="lnt">165
&lt;/span>&lt;span class="lnt">166
&lt;/span>&lt;span class="lnt">167
&lt;/span>&lt;span class="lnt">168
&lt;/span>&lt;span class="lnt">169
&lt;/span>&lt;span class="lnt">170
&lt;/span>&lt;span class="lnt">171
&lt;/span>&lt;span class="lnt">172
&lt;/span>&lt;span class="lnt">173
&lt;/span>&lt;span class="lnt">174
&lt;/span>&lt;span class="lnt">175
&lt;/span>&lt;span class="lnt">176
&lt;/span>&lt;span class="lnt">177
&lt;/span>&lt;span class="lnt">178
&lt;/span>&lt;span class="lnt">179
&lt;/span>&lt;span class="lnt">180
&lt;/span>&lt;span class="lnt">181
&lt;/span>&lt;span class="lnt">182
&lt;/span>&lt;span class="lnt">183
&lt;/span>&lt;span class="lnt">184
&lt;/span>&lt;span class="lnt">185
&lt;/span>&lt;span class="lnt">186
&lt;/span>&lt;span class="lnt">187
&lt;/span>&lt;span class="lnt">188
&lt;/span>&lt;span class="lnt">189
&lt;/span>&lt;span class="lnt">190
&lt;/span>&lt;span class="lnt">191
&lt;/span>&lt;span class="lnt">192
&lt;/span>&lt;span class="lnt">193
&lt;/span>&lt;span class="lnt">194
&lt;/span>&lt;span class="lnt">195
&lt;/span>&lt;span class="lnt">196
&lt;/span>&lt;span class="lnt">197
&lt;/span>&lt;span class="lnt">198
&lt;/span>&lt;span class="lnt">199
&lt;/span>&lt;span class="lnt">200
&lt;/span>&lt;span class="lnt">201
&lt;/span>&lt;span class="lnt">202
&lt;/span>&lt;span class="lnt">203
&lt;/span>&lt;span class="lnt">204
&lt;/span>&lt;span class="lnt">205
&lt;/span>&lt;span class="lnt">206
&lt;/span>&lt;span class="lnt">207
&lt;/span>&lt;span class="lnt">208
&lt;/span>&lt;span class="lnt">209
&lt;/span>&lt;span class="lnt">210
&lt;/span>&lt;span class="lnt">211
&lt;/span>&lt;span class="lnt">212
&lt;/span>&lt;span class="lnt">213
&lt;/span>&lt;span class="lnt">214
&lt;/span>&lt;span class="lnt">215
&lt;/span>&lt;span class="lnt">216
&lt;/span>&lt;span class="lnt">217
&lt;/span>&lt;span class="lnt">218
&lt;/span>&lt;span class="lnt">219
&lt;/span>&lt;span class="lnt">220
&lt;/span>&lt;span class="lnt">221
&lt;/span>&lt;span class="lnt">222
&lt;/span>&lt;span class="lnt">223
&lt;/span>&lt;span class="lnt">224
&lt;/span>&lt;span class="lnt">225
&lt;/span>&lt;span class="lnt">226
&lt;/span>&lt;span class="lnt">227
&lt;/span>&lt;span class="lnt">228
&lt;/span>&lt;span class="lnt">229
&lt;/span>&lt;span class="lnt">230
&lt;/span>&lt;span class="lnt">231
&lt;/span>&lt;span class="lnt">232
&lt;/span>&lt;span class="lnt">233
&lt;/span>&lt;span class="lnt">234
&lt;/span>&lt;span class="lnt">235
&lt;/span>&lt;span class="lnt">236
&lt;/span>&lt;span class="lnt">237
&lt;/span>&lt;span class="lnt">238
&lt;/span>&lt;span class="lnt">239
&lt;/span>&lt;span class="lnt">240
&lt;/span>&lt;span class="lnt">241
&lt;/span>&lt;span class="lnt">242
&lt;/span>&lt;span class="lnt">243
&lt;/span>&lt;span class="lnt">244
&lt;/span>&lt;span class="lnt">245
&lt;/span>&lt;span class="lnt">246
&lt;/span>&lt;span class="lnt">247
&lt;/span>&lt;span class="lnt">248
&lt;/span>&lt;span class="lnt">249
&lt;/span>&lt;span class="lnt">250
&lt;/span>&lt;span class="lnt">251
&lt;/span>&lt;span class="lnt">252
&lt;/span>&lt;span class="lnt">253
&lt;/span>&lt;span class="lnt">254
&lt;/span>&lt;span class="lnt">255
&lt;/span>&lt;span class="lnt">256
&lt;/span>&lt;span class="lnt">257
&lt;/span>&lt;span class="lnt">258
&lt;/span>&lt;span class="lnt">259
&lt;/span>&lt;span class="lnt">260
&lt;/span>&lt;span class="lnt">261
&lt;/span>&lt;span class="lnt">262
&lt;/span>&lt;span class="lnt">263
&lt;/span>&lt;span class="lnt">264
&lt;/span>&lt;span class="lnt">265
&lt;/span>&lt;span class="lnt">266
&lt;/span>&lt;span class="lnt">267
&lt;/span>&lt;span class="lnt">268
&lt;/span>&lt;span class="lnt">269
&lt;/span>&lt;span class="lnt">270
&lt;/span>&lt;span class="lnt">271
&lt;/span>&lt;span class="lnt">272
&lt;/span>&lt;span class="lnt">273
&lt;/span>&lt;span class="lnt">274
&lt;/span>&lt;span class="lnt">275
&lt;/span>&lt;span class="lnt">276
&lt;/span>&lt;span class="lnt">277
&lt;/span>&lt;span class="lnt">278
&lt;/span>&lt;span class="lnt">279
&lt;/span>&lt;span class="lnt">280
&lt;/span>&lt;span class="lnt">281
&lt;/span>&lt;span class="lnt">282
&lt;/span>&lt;span class="lnt">283
&lt;/span>&lt;span class="lnt">284
&lt;/span>&lt;span class="lnt">285
&lt;/span>&lt;span class="lnt">286
&lt;/span>&lt;span class="lnt">287
&lt;/span>&lt;span class="lnt">288
&lt;/span>&lt;span class="lnt">289
&lt;/span>&lt;span class="lnt">290
&lt;/span>&lt;span class="lnt">291
&lt;/span>&lt;span class="lnt">292
&lt;/span>&lt;span class="lnt">293
&lt;/span>&lt;span class="lnt">294
&lt;/span>&lt;span class="lnt">295
&lt;/span>&lt;span class="lnt">296
&lt;/span>&lt;span class="lnt">297
&lt;/span>&lt;span class="lnt">298
&lt;/span>&lt;span class="lnt">299
&lt;/span>&lt;span class="lnt">300
&lt;/span>&lt;span class="lnt">301
&lt;/span>&lt;span class="lnt">302
&lt;/span>&lt;span class="lnt">303
&lt;/span>&lt;span class="lnt">304
&lt;/span>&lt;span class="lnt">305
&lt;/span>&lt;span class="lnt">306
&lt;/span>&lt;span class="lnt">307
&lt;/span>&lt;span class="lnt">308
&lt;/span>&lt;span class="lnt">309
&lt;/span>&lt;span class="lnt">310
&lt;/span>&lt;span class="lnt">311
&lt;/span>&lt;span class="lnt">312
&lt;/span>&lt;span class="lnt">313
&lt;/span>&lt;span class="lnt">314
&lt;/span>&lt;span class="lnt">315
&lt;/span>&lt;span class="lnt">316
&lt;/span>&lt;span class="lnt">317
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="cp">#!/usr/bin/env bash
&lt;/span>&lt;span class="cp">&lt;/span>&lt;span class="nb">set&lt;/span> -e
&lt;span class="c1"># Arch Linux Install Script Recovery (alis-recovery) start a recovery for an&lt;/span>
&lt;span class="c1"># failed installation or broken system.&lt;/span>
&lt;span class="c1"># Copyright (C) 2018 picodotdev&lt;/span>
&lt;span class="c1"># This program is free software: you can redistribute it and/or modify&lt;/span>
&lt;span class="c1"># it under the terms of the GNU General Public License as published by&lt;/span>
&lt;span class="c1"># the Free Software Foundation, either version 3 of the License, or&lt;/span>
&lt;span class="c1"># (at your option) any later version.&lt;/span>
#
&lt;span class="c1"># This program is distributed in the hope that it will be useful,&lt;/span>
&lt;span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of&lt;/span>
&lt;span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the&lt;/span>
&lt;span class="c1"># GNU General Public License for more details.&lt;/span>
#
&lt;span class="c1"># You should have received a copy of the GNU General Public License&lt;/span>
&lt;span class="c1"># along with this program. If not, see &amp;lt;http://www.gnu.org/licenses/&amp;gt;.&lt;/span>
&lt;span class="c1"># This script is hosted at https://github.com/picodotdev/alis. For new features,&lt;/span>
&lt;span class="c1"># improvements and bugs fill an issue in GitHub or make a pull request.&lt;/span>
&lt;span class="c1"># Pull Request are welcome!&lt;/span>
#
&lt;span class="c1"># If you test it in real hardware please send me an email to pico.dev@gmail.com with&lt;/span>
&lt;span class="c1"># the machine description and tell me if somethig goes wrong or all works fine.&lt;/span>
#
&lt;span class="c1"># Please, don&amp;#39;t ask for support for this script in Arch Linux forums, first read&lt;/span>
&lt;span class="c1"># the Arch Linux wiki [1], the Installation Guide [2] and the General&lt;/span>
&lt;span class="c1"># Recomendations [3], later compare the commands with those of this script.&lt;/span>
#
&lt;span class="c1"># [1] https://wiki.archlinux.org&lt;/span>
&lt;span class="c1"># [2] https://wiki.archlinux.org/index.php/Installation_guide&lt;/span>
&lt;span class="c1"># [3] https://wiki.archlinux.org/index.php/General_recommendations&lt;/span>
&lt;span class="c1"># Reference:&lt;/span>
&lt;span class="c1"># * [Change root](https://wiki.archlinux.org/index.php/Change_root)&lt;/span>
&lt;span class="c1"># * [Deactivate volume group](https://wiki.archlinux.org/index.php/LVM#Deactivate_volume_group)&lt;/span>
&lt;span class="c1"># Usage:&lt;/span>
&lt;span class="c1"># # loadkeys es&lt;/span>
&lt;span class="c1"># # curl https://raw.githubusercontent.com/picodotdev/alis/master/download.sh | bash, or with URL shortener curl -sL https://bit.ly/2F3CATp | bash&lt;/span>
&lt;span class="c1"># # vim alis-recovery.conf&lt;/span>
&lt;span class="c1"># # ./alis-recovery.sh&lt;/span>
&lt;span class="c1"># global variables (no configuration, don&amp;#39;t edit)&lt;/span>
&lt;span class="nv">ASCIINEMA&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">BIOS_TYPE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_BIOS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">DEVICE_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">LVM_VOLUME_PHISICAL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;lvm&amp;#34;&lt;/span>
&lt;span class="nv">LVM_VOLUME_GROUP&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;vg&amp;#34;&lt;/span>
&lt;span class="nv">LVM_VOLUME_LOGICAL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;root&amp;#34;&lt;/span>
&lt;span class="nv">BOOT_DIRECTORY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">ESP_DIRECTORY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="c1">#PARTITION_BOOT_NUMBER=0&lt;/span>
&lt;span class="nv">UUID_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">UUID_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">PARTUUID_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">PARTUUID_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">DEVICE_SATA&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">DEVICE_NVME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">CPU_INTEL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">VIRTUALBOX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">CMDLINE_LINUX_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">CMDLINE_LINUX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nv">ADDITIONAL_USER_NAMES_ARRAY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="nv">ADDITIONAL_USER_PASSWORDS_ARRAY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="nv">RED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;\033[0;31m&amp;#39;&lt;/span>
&lt;span class="nv">GREEN&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;\033[0;32m&amp;#39;&lt;/span>
&lt;span class="nv">LIGHT_BLUE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;\033[1;34m&amp;#39;&lt;/span>
&lt;span class="nv">NC&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;\033[0m&amp;#39;&lt;/span>
&lt;span class="k">function&lt;/span> configuration_install&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nb">source&lt;/span> alis-recovery.conf
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> sanitize_variables&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">DEVICE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>sanitize_variable &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> sanitize_variable&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">VARIABLE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">VARIABLE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$VARIABLE&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s2">&amp;#34;s/![^ ]*//g&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span> &lt;span class="c1"># remove disabled&lt;/span>
&lt;span class="nv">VARIABLE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$VARIABLE&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s2">&amp;#34;s/ {2,}/ /g&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span> &lt;span class="c1"># remove unnecessary white spaces&lt;/span>
&lt;span class="nv">VARIABLE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$VARIABLE&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;s/^[[:space:]]*//&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span> &lt;span class="c1"># trim leading&lt;/span>
&lt;span class="nv">VARIABLE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$VARIABLE&lt;/span> &lt;span class="p">|&lt;/span> sed &lt;span class="s1">&amp;#39;s/[[:space:]]*$//&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span> &lt;span class="c1"># trim trailing&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VARIABLE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> check_variables&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
check_variables_value &lt;span class="s2">&amp;#34;KEYS&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$KEYS&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
check_variables_value &lt;span class="s2">&amp;#34;DEVICE&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
check_variables_boolean &lt;span class="s2">&amp;#34;LVM&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LVM&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
check_variables_equals &lt;span class="s2">&amp;#34;PARTITION_ROOT_ENCRYPTION_PASSWORD&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;PARTITION_ROOT_ENCRYPTION_PASSWORD_RETYPE&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_ROOT_ENCRYPTION_PASSWORD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_ROOT_ENCRYPTION_PASSWORD_RETYPE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
check_variables_value &lt;span class="s2">&amp;#34;PING_HOSTNAME&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PING_HOSTNAME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> check_variables_value&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">NAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">VALUE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$2&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NAME&lt;/span>&lt;span class="s2"> environment variable must have a value.&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nb">exit&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> check_variables_boolean&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">NAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">VALUE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$2&lt;/span>
check_variables_list &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NAME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;true false&amp;#34;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> check_variables_list&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">NAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">VALUE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$2&lt;/span>
&lt;span class="nv">VALUES&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$3&lt;/span>
&lt;span class="nv">REQUIRED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$4&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$REQUIRED&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> -o &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$REQUIRED&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
check_variables_value &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NAME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> !&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> -a -z &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUES&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -F -w &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NAME&lt;/span>&lt;span class="s2"> environment variable value [&lt;/span>&lt;span class="nv">$VALUE&lt;/span>&lt;span class="s2">] must be in [&lt;/span>&lt;span class="nv">$VALUES&lt;/span>&lt;span class="s2">].&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nb">exit&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> check_variables_equals&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">NAME1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">NAME2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$2&lt;/span>
&lt;span class="nv">VALUE1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$3&lt;/span>
&lt;span class="nv">VALUE2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$4&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> !&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$VALUE2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NAME1&lt;/span>&lt;span class="s2"> and &lt;/span>&lt;span class="nv">$NAME2&lt;/span>&lt;span class="s2"> must be equal [&lt;/span>&lt;span class="nv">$VALUE1&lt;/span>&lt;span class="s2">, &lt;/span>&lt;span class="nv">$VALUE2&lt;/span>&lt;span class="s2">].&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nb">exit&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> check_variables_size&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nv">NAME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="nv">SIZE_EXPECT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$2&lt;/span>
&lt;span class="nv">SIZE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$3&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$SIZE_EXPECT&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> !&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$SIZE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NAME&lt;/span>&lt;span class="s2"> array size [&lt;/span>&lt;span class="nv">$SIZE&lt;/span>&lt;span class="s2">] must be [&lt;/span>&lt;span class="nv">$SIZE_EXPECT&lt;/span>&lt;span class="s2">].&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nb">exit&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> warning&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nb">echo&lt;/span> -e &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">LIGHT_BLUE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">Welcome to Arch Linux Install Script Recovery&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">NC&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Once finalized recovery tasks execute following commands: exit, umount -R /mnt, reboot.&amp;#34;&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="nb">read&lt;/span> -p &lt;span class="s2">&amp;#34;Do you want to continue? [y/N] &amp;#34;&lt;/span> yn
&lt;span class="k">case&lt;/span> &lt;span class="nv">$yn&lt;/span> in
&lt;span class="o">[&lt;/span>Yy&lt;span class="o">]&lt;/span>* &lt;span class="o">)&lt;/span>
&lt;span class="p">;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="o">[&lt;/span>Nn&lt;span class="o">]&lt;/span>* &lt;span class="o">)&lt;/span>
&lt;span class="nb">exit&lt;/span>
&lt;span class="p">;&lt;/span>&lt;span class="p">;&lt;/span>
* &lt;span class="o">)&lt;/span>
&lt;span class="nb">exit&lt;/span>
&lt;span class="p">;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">esac&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> init&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
init_log
loadkeys &lt;span class="nv">$KEYS&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> init_log&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nb">set&lt;/span> -o xtrace
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> facts&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -d /sys/firmware/efi &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">BIOS_TYPE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;uefi&amp;#34;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="nv">BIOS_TYPE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;bios&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="nv">DEVICE_SATA&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span>
&lt;span class="nv">DEVICE_NVME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$DEVICE&lt;/span> &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;^/dev/sda&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">DEVICE_SATA&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$DEVICE&lt;/span> &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;^/dev/nvme&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">DEVICE_NVME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>lscpu &lt;span class="p">|&lt;/span> grep GenuineIntel&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">CPU_INTEL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>lspci &lt;span class="p">|&lt;/span> grep -i virtualbox&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">VIRTUALBOX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> prepare&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
prepare_partition
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> prepare_partition&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -d /mnt/boot &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
umount /mnt/boot
umount /mnt
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -e &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s2">/dev/mapper/&lt;/span>&lt;span class="nv">$LVM_VOLUME_LOGICAL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_ROOT_ENCRYPTION_PASSWORD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
cryptsetup close &lt;span class="nv">$LVM_VOLUME_LOGICAL&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -e &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s2">/dev/mapper/&lt;/span>&lt;span class="nv">$LVM_VOLUME_PHISICAL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_ROOT_ENCRYPTION_PASSWORD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
cryptsetup close &lt;span class="nv">$LVM_VOLUME_PHISICAL&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> configure_network&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WIFI_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
cp /etc/netctl/examples/wireless-wpa /etc/netctl
chmod &lt;span class="m">600&lt;/span> /etc/netctl
sed -i &lt;span class="s1">&amp;#39;s/^Interface=.*/Interface=&amp;#39;&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WIFI_INTERFACE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span> /etc/netctl
sed -i &lt;span class="s1">&amp;#39;s/^ESSID=.*/ESSID=&amp;#39;&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WIFI_ESSID&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span> /etc/netctl
sed -i &lt;span class="s1">&amp;#39;s/^Key=.*/Key=&amp;#39;&lt;/span>&lt;span class="se">\&amp;#39;&lt;/span>&lt;span class="s1">&amp;#39;$WIFI_KEY&amp;#39;&lt;/span>&lt;span class="se">\&amp;#39;&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span> /etc/netctl
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$WIFI_HIDDEN&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
sed -i &lt;span class="s1">&amp;#39;s/^#Hidden=.*/Hidden=yes/&amp;#39;&lt;/span> /etc/netctl
&lt;span class="k">fi&lt;/span>
netctl start wireless-wpa
&lt;span class="k">fi&lt;/span>
ping -c &lt;span class="m">5&lt;/span> &lt;span class="nv">$PING_HOSTNAME&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -ne &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Network ping check failed.&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> partition&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$BIOS_TYPE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;uefi&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE_SATA&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">PARTITION_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="c1">#PARTITION_BOOT_NUMBER=1&lt;/span>
&lt;span class="nv">DEVICE_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE_NVME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">PARTITION_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="c1">#PARTITION_BOOT_NUMBER=1&lt;/span>
&lt;span class="nv">DEVICE_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$BIOS_TYPE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;bios&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE_SATA&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">PARTITION_BIOS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">3&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="c1">#PARTITION_BOOT_NUMBER=2&lt;/span>
&lt;span class="nv">DEVICE_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">3&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE_NVME&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">PARTITION_BIOS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_BOOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p2&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">PARTITION_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p3&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="c1">#PARTITION_BOOT_NUMBER=2&lt;/span>
&lt;span class="nv">DEVICE_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">DEVICE&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">p3&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_ROOT_ENCRYPTION_PASSWORD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nb">echo&lt;/span> -n &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_ROOT_ENCRYPTION_PASSWORD&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> cryptsetup --key-file&lt;span class="o">=&lt;/span>- open &lt;span class="nv">$PARTITION_ROOT&lt;/span> &lt;span class="nv">$LVM_VOLUME_PHISICAL&lt;/span>
sleep &lt;span class="m">5&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LVM&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">DEVICE_ROOT_MAPPER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$LVM_VOLUME_GROUP&lt;/span>&lt;span class="s2">-&lt;/span>&lt;span class="nv">$LVM_VOLUME_LOGICAL&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="nv">DEVICE_ROOT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="s2">/dev/mapper/&lt;/span>&lt;span class="nv">$DEVICE_ROOT_MAPPER&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
&lt;span class="nv">PARTITION_OPTIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$DEVICE_TRIM&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="nv">PARTITION_OPTIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;defaults,noatime&amp;#34;&lt;/span>
&lt;span class="k">fi&lt;/span>
mount -o &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_OPTIONS&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="nv">$DEVICE_ROOT&lt;/span> /mnt
mount -o &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$PARTITION_OPTIONS&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="nv">$PARTITION_BOOT&lt;/span> /mnt/boot
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> recovery&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
arch-chroot /mnt
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> main&lt;span class="o">(&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
configuration_install
sanitize_variables
check_variables
warning
init
facts
prepare
partition
&lt;span class="c1">#recovery&lt;/span>
&lt;span class="o">}&lt;/span>
main&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/code/alis-recovery.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/07/como-recuperar-arch-linux-despues-de-una-actualizacion-que-provoca-el-sistema-no-inicie/code/alis-recovery.sh" target="_blank">alis-recovery.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>
El &lt;a href="https://github.com/picodotdev/alis/tree/master/">código fuente completo del ejemplo&lt;/a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en &lt;a href="https://github.com/">GitHub&lt;/a>.
&lt;/p></content><category term="gnu-linux"/><category term="planeta-codigo"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/06/hemeroteca-13/</id><title>Hemeroteca #13</title><updated>2018-06-30T10:00:00+02:00</updated><published>2018-06-30T10:00:00+02:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/06/hemeroteca-13/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>El primer semestre del 2018 ya ha pasado. Estos primeros meses he publicado 38 artículos sobre la temática habitual de esta bitácora como programación, software libre, &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a> algunos de opinión relacionados con la tecnología. Las visitas e ingresos de AdSense no han crecido tanto como en ocasiones anteriores pero se han mantenido a un nivel similar sobre los 30K páginas vistas y los 30€ de ingresos en AdSense que no están nada mal.&lt;/p>
&lt;p>Dado que desde hace unos cuantos meses no tengo ordenador propio y solo dispongo de el del trabajo normalmente solo los fines de semana no he podido investigar, probar tantas cosas que me gustaría y he publicado más artículos de opinión que de software libre y GNU/Linux. Como comento en algunos de los artículos publicados más o menos ya tengo decidido que mi siguiente equipo será un &lt;a href="https://en.wikipedia.org/wiki/Next_Unit_of_Computing">Intel NUC&lt;/a> pero estoy esperando a que salgan esta segunda mitad los Bean Canyon para que el salto que experimente sea notable tanto en el microprocesador con un &lt;a href="https://ark.intel.com/es-es/products/124967/Intel-Core-i5-8250U-Processor-6M-Cache-up-to-3_40-GHz">Intel Core i5 8250U&lt;/a> o &lt;a href="https://ark.intel.com/products/135935/Intel-Core-i5-8259U-Processor-6M-Cache-up-to-3_80-GHz">i5-8259U&lt;/a>, 4 núcleos y 8 hilos, 6 MiB de caché y 32 GiB de memoria sobre lo que tenía antes un &lt;a href="https://ark.intel.com/es-es/products/67355/Intel-Core-i5-3210M-Processor-3M-Cache-up-to-3_10-GHz-rPGA">Intel Core i5 3210M&lt;/a>, 3 MiB de caché, 2 núcleos, 4 hilos y 8 GiB de memoria. Con tal cantidad de memoria podré hacer algunas pruebas con contenedores y virtualización que con solo 8 GiB de memoria ya incluso se me quedaba escaso. Cuando adquiera este nuevo equipo publicaré varios artículos con el desempaquetado o &lt;em>unboxing&lt;/em> y el análisis de varios de esos componentes.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/06/hemeroteca-13/images/analytics_hu8ba3bde248b5428d7e505641b1455469_257538_2560x1440_fit_box_2.png" title="Evolución Analytics" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/06/hemeroteca-13/images/analytics_hu8ba3bde248b5428d7e505641b1455469_257538_650x450_fit_box_2.png" width="650"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/06/hemeroteca-13/images/adsense_huc0e3ed4b9192027e33752b7087e42910_150019_2560x1440_fit_box_2.png" title="Evolución AdSense" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/06/hemeroteca-13/images/adsense_huc0e3ed4b9192027e33752b7087e42910_150019_650x450_fit_box_2.png" width="650"/>&lt;/a>
&lt;figcaption>Evolución Analytics y AdSense&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Entre los artículos sobre programación han estado los habituales sobre Java, destacando las novedades de Java 10, un par sobre &lt;a href="https://tapestry.apache.org/">Apache Tapestry&lt;/a>. Como resolver varios de los problemas clásicos de sincronización, programación concurrente en Java, &lt;a href="https://www.webjars.org/">Webjars&lt;/a>, &amp;hellip;&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/">Integración y entrega continua con GitLab sobre Docker&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/">Gestión de peticiones, wiki y pages con GitLab&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/02/analisis-estatico-de-codigo-con-pmd-y-un-ejemplo/">Análisis estático de código con PMD y un ejemplo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/02/las-6-plus-2-formas-normales-de-las-bases-de-datos-relacionales/">Las 6+2 formas normales de las bases de datos relacionales&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/02/referencias-a-grupos-de-captura-en-expresiones-regulares-y-reemplazos/">Referencias a grupos de captura en expresiones regulares y reemplazos&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/02/el-problema-de-concurrencia-de-la-cena-de-los-filosofos-resuelto-con-java/">El problema de concurrencia de la cena de los filósofos resuelto con Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/el-problema-de-concurrencia-del-agente-y-los-fumadores-resuelto-en-java/">El problema de concurrencia del agente y los fumadores resuelto en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/novedades-de-java-10/">Novedades de Java 10&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/la-herramienta-jlink-para-generar-runtimes-de-java-incluyendo-exclusivamente-los-modulos-que-usa-una-aplicacion/">La herramienta jlink para generar runtimes de Java incluyendo exclusivamente los módulos que usa una aplicación&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/que-es-y-como-funciona-el-type-erasure-en-java/">Qué es y cómo funciona el type erasure en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/introduccion-a-nio-2-el-sistema-de-entrada-salida-de-java/">Introducción a NIO.2, el sistema de entrada/salida de Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/la-controversia-sobre-las-excepciones-checked-y-unchecked/">La controversia sobre las excepciones checked y unchecked&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/la-sentencia-try-with-resources-de-java/">La sentencia try-with-resources de Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/la-clase-optional-de-java-para-evitar-la-excepcion-nullpointerexception/">La clase Optional de Java para evitar la excepción NullPointerException&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/plantillas-con-etiquetas-no-balanceadas-en-apache-tapestry/">Plantillas con etiquetas no balanceadas en Apache Tapestry&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/gestion-de-errores-con-either-o-try-en-vez-de-con-codigo-de-error-null-optional-checked-exception-o-unchecked-exception/">Gestión de errores con Either o Try en vez de con código de error, null, Optional, checked exception o unchecked exception&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/depurar-codigo-javascript-con-la-instruccion-debugger/">Depurar código JavaScript con la instrucción debugger&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/recuperar-datos-eficientemente-en-graphql-usando-batching/">Recuperar datos eficientemente en GraphQL usando batching&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/empaquetar-una-aplicacion-java-en-un-archivo-jar-ejecutable-incluyendo-sus-dependencias/">Empaquetar una aplicación Java en un archivo jar ejecutable incluyendo sus dependencias&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/06/dependencias-sobre-librerias-de-lado-de-cliente-con-webjars-en-una-aplicacion-web-java/">Dependencias sobre librerías de lado de cliente con Webjars en una aplicación web Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/06/actualizar-las-versiones-de-las-librerias-javascript-built-in-de-apache-tapestry/">Actualizar las versiones de las librerías JavaScript built-in de Apache Tapestry&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/06/soporte-para-lanzar-eventos-desde-javascript-con-ajax-en-un-componente-de-apache-tapestry/">Soporte para lanzar eventos desde JavaScript con Ajax en un componente de Apache Tapestry&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/06/java-magazine-la-publicacion-gratuita-sobre-java/">Java Magazine, la publicación gratuita sobre Java&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>En la categoría de software libre o GNU/Linux como tener una consola de juegos retro con una Raspberry Pi, varias computadoras similares a la Raspberry Pi.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/">Consola de juegos retro con Lakka y una Raspberry Pi&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/7-plus-computadoras-baratas-del-tamano-de-una-tarjeta-de-credito-basadas-en-gnu-linux-y-arm/">7+ computadoras baratas del tamaño de una tarjeta de crédito basadas en GNU/Linux y ARM&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/prompt-de-la-terminal-personalizado-en-carpetas-de-git-con-el-interprete-bash/">Prompt de la terminal personalizado en carpetas de git con el intérprete Bash&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/personalizar-el-prompt-del-sistema-del-interprete-de-comandos-bash/">Personalizar el prompt del sistema del intérprete de comandos Bash&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/generador-de-paginas-web-estaticas-y-bitacoras-con-hugo/">Generador de páginas web estáticas y bitácoras Hugo&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>En la categoría de opinión están el importante problema de seguridad que se hacía público a principio de año y que afectaba a todos los microprocesadores de Intel fabricados desde hace una década con &lt;em>Meltdown&lt;/em>. &lt;a href="https://www.intel.es">Intel&lt;/a>, &lt;a href="https://www.amd.com/es">AMD&lt;/a> y &lt;a href="https://www.arm.com/">ARM&lt;/a> afectados otras variantes denominadas &lt;em>Spectre&lt;/em>. Como el hardware estos microprocesadores es defectuoso ni solucionable por microcódigo solo se ha podido mitigar mediante parches de software en los nucleos de los sistemas operativos y compiladores que en cualquier caso pueden suponer una merma en el rendimiento. Aún no se conoce un software capaz de aprovechar estos fallos de seguridad pero no quiere decir que no se descubran. Afecta aún más si cabe a entornos de computación en la nube al compartirse los recursos de computación, en estos entornos es especialmente grabe por seguridad ya que el fallo permite leer la memoria del &lt;em>kernel&lt;/em>, aplicaciones, contenedores, datos, claves, &amp;hellip;&lt;/p>
&lt;p>También publiqué un artículo el ordenador con las opciones que barajaba, una opinión sobre el &lt;a href="https://slimbook.es/aio-curve-el-all-in-one-curvo-de-gnu-linux">Slimbook AIO Curve&lt;/a> y cómo internet está transformando el sector del comercio y distribución o mi opinión de que me quedo GNU/Linux sobre un Mac. También los artículos con las opciones que estoy tomando para comprar equipo ya no a mucho tiempo tardar.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/">Artículo #5 de Yo apoyo al software libre&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/01/explicacion-del-fallo-de-seguridad-meltdown-y-spectre-en-los-microprocesadores-intel/">Explicación del fallo de seguridad Meltdown y Spectre en los microprocesadores Intel&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/01/conferencia-bilbostack-2018/">Conferencia BilboStack 2018&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/02/8-aniversario-del-blog/">8º aniversario del blog&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/03/tu-con-mac-yo-con-mi-gnu-linux/">Tú con tu Mac, yo con mi GNU/Linux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/intentando-elegir-portatil-nuc-o-mini-itx-para-comprar-nuevo-equipo/">Intentando elegir portátil, NUC o mini ITX para comprar nuevo equipo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/04/sobre-el-slimbook-aio-curve/">Sobre el Slimbook AIO Curve&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/sobre-el-comercio-electronico-el-corte-ingles-y-amazon/">Sobre el comercio electrónico, El Corte Inglés y Amazon&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/06/decidido-a-comprar-un-intel-nuc-entre-las-opciones-que-he-evaluado/">Decidido a comprar un Intel NUC entre las opciones que he evaluado&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Para finalizar otro artículo fuera de tema del habitual de este blog con los plantones de roble que tengo, como han crecido y como están desde que los planté el año pasado. Aunque aún no lo he publicado algunos están mostrando síntomas de fallecimiento y lo que es peor no tengo claro por que si por la cantidad de agua, excesiva luz directa del sol, humedad, calor, &amp;hellip;&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2018/05/los-plantones-de-roble/">Los plantones de roble&lt;/a>&lt;/li>
&lt;/ul></content><category term="blog"/><category term="hemeroteca"/><category term="java"/><category term="planeta-codigo"/><category term="programacion"/><category term="software"/><category term="software-libre"/><category term="tapestry"/><category term="gnu-linux"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/</id><title>Consola de juegos retro con Lakka y una Raspberry Pi</title><updated>2018-03-05T19:30:00+01:00</updated><published>2018-02-23T23:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>&lt;strong>El propósito original de las Raspberry Pi era educativo y se ha hecho muy popular debido a su bajo precio y un buen trabajo de &lt;em>marketing&lt;/em>. Sin embargo, puede utilizarse para muchos otros propósitos desde aprendizaje a programación, electrónica, servidor de archivos personales, descarga de películas, series y libros con torrent y también como una consola de juegos antiguos de arcade.&lt;/strong>&lt;/p>
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/lakka.png" class="right " width="250" alt="Lakka" title="Lakka"/>
&lt;/div>
&lt;div class="logotypes" style="float: right; clear: right;">
&lt;img src="assets/images/logotipos/linux.svg" class="right " width="250" alt="Linux" title="Linux"/>
&lt;/div>
&lt;p>Desde que compré la &lt;a href="https://www.raspberrypi.org/">Raspberry Pi&lt;/a> en el año 2012, el modelo inicial B con 256 MiB de memoria, me ha dado y me esta dando un estupendo servicio. Principalmente la he estado usando para descargar películas y libros vía &lt;em>torrent&lt;/em> con &lt;a href="https://transmissionbt.com/">Transmission&lt;/a> usando la distribución &lt;a href="https://archlinuxarm.org/">Arch Linux para ARM&lt;/a>. Sin embargo, ya estoy pensando en sustituirla por algo más potente para hacer algunas pruebas con &lt;a href="https://www.docker.com/">Docker&lt;/a>, &lt;a href="https://www.ansible.com/">Ansible&lt;/a> y algunas pruebas más que se me ocurran aparte de seguir queriendo hacer descargas o en un futuro con la función de SmartTV. De la Raspberry Pi no se lanzará un nuevo modelo, el que sería el 4, hasta el 2019 y cuando salga no creo que sea más potente que una &lt;a href="https://www.pine64.org/?page_id=7147">Rock64&lt;/a> que ya a día de hoy incorporan hasta 4 GiB de memoria, tienen Gigabit Ethernet y un puerto USB 3.0 con precio similar a la Raspberry Pi, lo único que le falta respecto al modelo de la RPi 3 es WiFi y Bluetooth pero a cambio se puede tener 4 veces más memoria, Gigabit Ethernet y un puerto USB 3.0. El mayor problema de la Rock64 es su soporte tanto en distribuciones, software y comunidad, en estos es donde la Raspberry Pi no tiene competidor.&lt;/p>
&lt;p>Pero antes estoy pensando en el uso que le puedo dar a la Raspberry Pi para que no se quede en un cajón cogiendo polvo. Y he pensado en utilizarla como consola de juegos retro con &lt;a href="https://www.lakka.tv/">Lakka&lt;/a> para mis sobrinos que ahora usan PlayStation 1 pero que ya tiene los cables de los mandos estropeados de tanto doblarlos al guardarlos, de tanto uso ya no funcionan bien.&lt;/p>
&lt;p>Lo primero que he hecho es comprar unos &lt;a href="http://amzn.to/2Cg6035">mandos similares a los de la antigua Super NES&lt;/a>, aunque con un teclado USB también se puede jugar es más cómodo con los mandos, además de poder jugar a dos jugadores. En muchos juegos de &lt;em>arcade&lt;/em> antiguos es posible incluso a tres o cuatro jugadores.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;img src="assets/images/logotipos/retroarch.png" width="600" alt="Retroarch" title="RetroArch">
&lt;/div>
&lt;p>Los elementos necesarios para tener tener una consola retro son los siguientes: una &lt;a href="http://amzn.to/2EP9mHX">Raspberry Pi 3&lt;/a>, un &lt;a href="http://amzn.to/2Cf9Vxp">cargador USB&lt;/a> adecuado, una &lt;a href="http://amzn.to/2EP9uXX">tarjeta microSD de 32 GiB&lt;/a> o más, &lt;a href="http://amzn.to/2Cg6035">dos mandos para consola USB&lt;/a> o un &lt;a href="http://amzn.to/2ou0QHD">teclado USB&lt;/a>, un &lt;a href="http://amzn.to/2sPcjqz">cable HDMI&lt;/a> y si se quiere una &lt;a href="http://amzn.to/2Fvtyjy">caja&lt;/a>. Por unos 65 € se pueden adquirir los elementos imprescindibles en la tienda de &lt;a href="https://amzn.to/2flFhHA">Amazon&lt;/a>.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://amzn.to/2EP9mHX">Raspberry Pi 3&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://amzn.to/2Cf9Vxp">Cargador USB&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://amzn.to/2EP9uXX">Tarjeta microSD de 32 GiB&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://amzn.to/2sPcjqz">Cable HDMI&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://amzn.to/2Cg6035">Mandos USB&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://amzn.to/2ou0QHD">Teclado USB&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.lakka.tv/">Software Lakka&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://archive.org/details/datomatic.no-intro.org">ROMs de juegos&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="media-amazon" style="text-align: center;">
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B01CD5VC92&amp;linkId=e16de107a3b45aa06c042744e18fc33a">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B06XFSZGCC&amp;linkId=132bc906913976b2a43c4582b23f5fb5">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B01N59IUV5&amp;linkId=0bcc896ec870ce504e2c4c0acfaa8870">&lt;/iframe>
&lt;/div>
&lt;div class="media-amazon" style="text-align: center;">
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B06ZZJ5KVX&amp;linkId=acb19b6a6d9a6e3504f3b52fcb45ff72">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B00NW4SJRM&amp;linkId=7bf1d9cf65b79b18155abd26c96831d5">&lt;/iframe>
&lt;iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=blobit-21&amp;o=30&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=as_ss_li_til&amp;asins=B00564GWEI&amp;linkId=2264c2741c0914e881d4e70b36b927da">&lt;/iframe>
&lt;/div>
&lt;p>El software para usar la Raspberry Pi como consola retro que he utilizado es Lakka que es una distribución &lt;a href="https://www.gnu.org/">GNU&lt;/a>/&lt;a href="https://www.linux.com/">Linux&lt;/a> especifica para convertir un ordenador en una consola de juegos retro. Para instalarlo en la tarjeta microSD hay que &lt;a href="http://www.lakka.tv/get/">descargar la imagen de Lakka&lt;/a> y una forma simple de grabarla en la tarjeta microSD es utilizando &lt;a href="https://www.balena.io/etcher/">Etcher&lt;/a>, basta instalarlo, iniciarlo, seleccionar la imagen de Lakka una vez descomprimido su archivo zip, seleccionar la unidad de la tarjeta SD (si es necesario ya que Etcher puede seleccionarla automáticamente) y pulsar el botón &lt;em>Flash!&lt;/em>, después de unos pocos minutos la imagen está grabada y la tarjeta microSD lista para usarla en la Raspberry Pi y efectuar el primer inicio.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/etcher_huf9f2630e663feee1d2eb7938a2d085bb_110546_2560x1440_fit_box_2.png" title="Etcher" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/etcher_huf9f2630e663feee1d2eb7938a2d085bb_110546_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Etcher&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Los juegos se distribuyen en archivos denominados ROM y estos se pueden descargar de ciertas páginas, una de ellas es de &lt;a href="https://archive.org/">Internet Archive&lt;/a> donde está una &lt;a href="https://archive.org/details/datomatic.no-intro.org">colección de juegos&lt;/a> de las consolas más populares o si sabemos el nombre del juego de &lt;em>arcade&lt;/em> descargarlo individualmente de &lt;a href="http://coolrom.com/">CoolROM&lt;/a>. Hay miles de juegos por lo que es importante conocer su nombre para hacer la búsqueda. En otro artículo hice una pequeña &lt;a href="https://picodotdev.github.io/blog-bitix/2016/08/jugar-a-videojuegos-clasicos-y-miticos-de-arcade-con-mame-en-gnu-linux/">recopilación de juegos míticos de arcade&lt;/a> y en otros blog están recopilados otra selección de juegos:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://mundogeek.net/archivos/2009/11/16/los-10-mejores-juegos-de-mame-para-nostalgicos/">Los 10 mejores juegos de MAME para nostálgicos&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://lopezpino.com/2010/08/24/los-mejores-juegos-de-mame/">Los mejores juegos de MAME&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.taringa.net/comunidades/mame-arcade/4629126/Los-Mejores-234-Juegos-de-Mame-Por-Mediafire.html">Los Mejores 234 Juegos de Mame Por Mediafire&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.hobbyconsolas.com/reportajes/100-juegos-miticos-nes-49310">Los 100 juegos míticos de NES&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Algunas de las consolas emuladas son:&lt;/p>
&lt;ul>
&lt;li>Nintendo Entertainment System, Super Nintendo Entertainment System, Nintendo 64, Nintendo GameCube, Game Boy&lt;/li>
&lt;li>Sega Master System, Genesis, Saturn, Dreamcast, Game Gear&lt;/li>
&lt;li>MSX, MSX 2&lt;/li>
&lt;li>Atari 2600, 5200, 7800, Lynx, Jaguar&lt;/li>
&lt;li>Varias más y juegos de máquinas recreativas con FBA Alpha y MAME&lt;/li>
&lt;/ul>
&lt;p>En el primer inicio Lakka debe hacer una serie de tareas para inicializar el sistema durante unos minutos, recomiendo no conectar el cable de red ni ningún mando o teclado en este paso. Una vez se completa este primer inicio el siguiente paso es copiar las ROMs, hay varias formas una de ellas es desde un equipo con GNU/Linux y copiar los archivos al directorio &lt;em>/storage/ROMs/&lt;/em> directamente a la tarjeta microSD desde un ordenador. En otros sistemas que no saben como acceder a las particiones &lt;em>ext4&lt;/em> de Linux la más sencilla es activando el protocolo SAMBA en Lakka y copiarlos por la red, aunque tarda más. SAMBA se activa desde el menú &lt;em>Settings &amp;gt; Services &amp;gt; SAMBA Enable&lt;/em>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka_hu78451ee42d9f0aae4d1fe724b0e434d2_901934_2560x1440_fit_q90_box.jpg" title="Lakka" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka_hu78451ee42d9f0aae4d1fe724b0e434d2_901934_300x200_fit_q90_box.jpg" width="160"/>&lt;/a>
&lt;figcaption>Raspberry Pi ejecutando Lakka (La televisión va acorde con los juegos XD)&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Con el cable de red conectado a la Rasberry Pi al &lt;em>router&lt;/em> y desde un equipo con Windows, macOS o GNU/Linux y probando la dirección IP que el &lt;em>router&lt;/em> le ha asignado a la Raspberry Pi se accede a los directorios compartidos por red poniendo en el explorador de archivos &lt;em>\\192.168.0.2&lt;/em>, &lt;em>\\192.168.0.3&lt;/em> o &lt;em>\\192.168.0.4&lt;/em>, &amp;hellip; o posteriores números dependiendo de los dispositivos conectados en la red, también podría ser &lt;em>\\192.168.1.2&lt;/em>, &lt;em>\\192.168.1.3&lt;/em>, &lt;em>\\192.168.1.4&lt;/em>, &amp;hellip; Con acceso en el explorador de archivos ya solo queda copiar las ROMs a la carpeta compartida ROMs. En macOS macOS con &lt;em>Finder&lt;/em> en la opción &lt;em>Ir &amp;gt; Conectar al servidor&lt;/em>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka-samba-1_hu385d4d54b02ae23fe0c9b8e510fc62d4_197807_2560x1440_fit_box_2.png" title="Carpetas compartidas por Lakka mediante SAMBA" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka-samba-1_hu385d4d54b02ae23fe0c9b8e510fc62d4_197807_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka-samba-2_huf0d9cd3b33c234685afc7cab18a8bffa_194063_2560x1440_fit_box_2.png" title="Archivos de ROMs vía SAMBA" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka-samba-2_huf0d9cd3b33c234685afc7cab18a8bffa_194063_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Carpetas compartidas por Lakka mediante SAMBA&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Copiados los archivos de las ROMs a la Raspberry Pi desde la opción &lt;em>Import Content &amp;gt; Scan Directory&lt;/em> de Lakka esta detectará todos los juegos que encuentre en su base de datos añadiéndolos en varios menús según el sistema emulado del juego en las últimas opciones del menú horizontal de Lakka.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka-games_hu824323f784df132c0c33e217641840f9_818081_2560x1440_fit_q90_box.jpg" title="Juegos Lakka" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/lakka-games_hu824323f784df132c0c33e217641840f9_818081_300x200_fit_q90_box.jpg" width="160"/>&lt;/a>
&lt;figcaption>Juegos Lakka&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Detectadas las ROMS iniciar un juego basta con seleccionarlo desde los menús e iniciarlo. La mayoría funcionará con un rendimiento óptimo tanto el fluidez de imagen como en sonido, la Raspberry Pi es mucho más potente que los sistemas antiguos que emula, el modelo Raspberry Pi 3 incluso funcionará mejor. Aún asi algunos pueden ir un poco lentos o el sonido no ser completamente fiel al original.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/the-legend-of-zelda_hu39ca57807f5ed283640e80028a620925_139916_2560x1440_fit_box_2.png" title="The Legend of Zelda" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/the-legend-of-zelda_hu39ca57807f5ed283640e80028a620925_139916_300x200_fit_box_2.png" width="140"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/zelda-II-the-adventure-of-link_hu63f0e922d615f71d9710fba25de4ede9_84794_2560x1440_fit_box_2.png" title="Zelda-II: The Adventure of Link" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/zelda-II-the-adventure-of-link_hu63f0e922d615f71d9710fba25de4ede9_84794_300x200_fit_box_2.png" width="146"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/super-mario-bros-3_hua1ca64094a72c2e8cf3bf9808d6805a1_110980_2560x1440_fit_box_2.png" title="Super Mario Bros 3" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/super-mario-bros-3_hua1ca64094a72c2e8cf3bf9808d6805a1_110980_300x200_fit_box_2.png" width="146"/>&lt;/a>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/mega-man-5_hua9e290a0024e55d79ec8b3048eaf5dd1_197813_2560x1440_fit_box_2.png" title="Mega Man 5" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/mega-man-5_hua9e290a0024e55d79ec8b3048eaf5dd1_197813_300x200_fit_box_2.png" width="142"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/1943_huaef99bddb12e1c97134ab2fb50de5614_557885_2560x1440_fit_box_2.png" title="1943" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/1943_huaef99bddb12e1c97134ab2fb50de5614_557885_300x200_fit_box_2.png" width="144"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/sonic-the-hedgehog_hub9781e6ba4310f33e0f23e679799bf12_169500_2560x1440_fit_box_2.png" title="Sonic The Hedgehog" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/sonic-the-hedgehog_hub9781e6ba4310f33e0f23e679799bf12_169500_300x200_fit_box_2.png" width="141"/>&lt;/a>
&lt;figcaption>Varios juegos de la NES y Sega&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Tenía dudas por la calidad de los mandos por si eran demasiado frágiles, sin embargo, cuando me han llegado y los he visto me han parecido muy decentes y creo que tratándolos bien van a aguantar mucho tiempo. Además, la Raspberry Pi y Lakka los han reconocido sin ningún tipo de problema tanto conectando uno individualmente o los dos al mismo tiempo reconociendo correctamente todos los botones. Lo único que he tenido que hacer es configurar en el menú &lt;em>Input &amp;gt; Menu Toggle Gamepad Combo&lt;/em> (se elige con la cruceta a derecha e izquierda) un botón para salir de un juego pulsando a la vez los botones &lt;em>Start + Select&lt;/em>.&lt;/p>
&lt;p>Tampoco he tenido ningún problema para que me funcione por el HDMI como también por la salida de vídeo RCA y el sonido por el jack de 3.5mm que posee la Raspberry Pi 1 original que tengo, todo me ha funcionado sin haya tenido que realizar ninguna acción.&lt;/p>
&lt;p>Si añadimos algunos juegos de &lt;em>arcade&lt;/em> que Lakka no reconoce es posible crear una &lt;a href="http://www.lakka.tv/doc/Playlists/">lista personalizada de juegos&lt;/a>, el nombre de la lista determina los iconos de los juegos y las &lt;a href="https://forums.libretro.com/t/megathread-which-roms-work-with-lakka/5566">rutas de los &lt;em>cores&lt;/em>&lt;/a> dependen del sistema a emular, es probable que funcionen con &lt;em>FB Alpha - Arcade Games&lt;/em> o &lt;em>MAME&lt;/em>. Es importante no renombrar los nombres de los archivos zip de las ROMs ya que es necesario que tengan el nombre original para funcionar bien.&lt;/p>
&lt;p>También es posible crear una lista de juegos favoritos (muy útil si tenemos muchos juegos), para ello hay que una vez iniciado el juego salir al menú con la conbinación de teclas configurada en &lt;em>Settings &amp;gt; Input &amp;gt; Menu Toggle Gamepad Combo&lt;/em> y usar la opción &lt;em>Add to favorites&lt;/em>. Desde el mismo menú es posible salir del juego u obtener una captura de pantalla. La lista de favoritos se guarda en &lt;em>Configfiles &amp;gt; retroarch &amp;gt; content_favorites.lpl&lt;/em> y el historial en &lt;em>Configfiles &amp;gt; retroarch &amp;gt; content_history.lpl&lt;/em> por si se quiere editar manualmente.&lt;/p>
&lt;p>Como son muchas ROMs reconocer una entre las muchas que hay o ver como es el juego sin entrar en él está la opción de descargar imágenes del juego y elegir ver una imagen de como es el juego, su portada o su pantalla inicial. Las imágenes se pueden descargar desde la opcion &lt;em>Main Menu &amp;gt; Online Updater &amp;gt; Thumbnails Updater&lt;/em>.&lt;/p>
&lt;p>Al obtener ROMs de forma individual a veces es difícil dar con una que funcione, de algunos juegos hay varias versiones y es posible que algunas de ellas fallen al cargarse, hay que tener un poco de paciencia para encontrar la correcta.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/the-legend-of-zelda-screenshot_hu66fed8df68f46fcc35f3677e2ef44d56_3185_2560x1440_fit_box_2.png" title="The Legend of Zelda" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/02/consola-de-juegos-retro-con-lakka-y-una-raspberry-pi/images/the-legend-of-zelda-screenshot_hu66fed8df68f46fcc35f3677e2ef44d56_3185_300x200_fit_box_2.png" width="229"/>&lt;/a>
&lt;figcaption>Juego The Legend of Zelda de NES&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Ya solo queda pasar algunos buenos momentos con estos juegos antiguos pero entretenidos, nosotros o los más pequeños de la casa. Otra opción alternativa a Lakka para el mismo propósito es &lt;a href="https://retropie.org.uk">RetroPie&lt;/a> aunque la primera soporta algunos modelos mas de placas similares a la Raspberry Pi.&lt;/p>
&lt;div class="reference">
Referencia:&lt;br>
&lt;ul>
&lt;li>&lt;a href="https://elblogdepicodev.blogspot.com.es/2012/05/raspberry-pi-desempaquetado-unboxing.html">Raspberry Pi, desempaquetado&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://thumbnailpacks.libretro.com/">Imágenes juegos&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/Nintendo_video_game_consoles">Nintendo video game consoles&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://en.wikipedia.org/wiki/List_of_Sega_video_game_consoles">Sega video game consoles&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div></content><category term="gnu-linux"/><category term="juegos"/><category term="planeta-codigo"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/</id><title>Gestión de peticiones, wiki y pages con GitLab</title><updated>2018-01-20T10:00:00+01:00</updated><published>2018-01-20T10:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/gitlab.svg" class="right " width="200" alt="GitLab" title="GitLab"/>
&lt;/div>
&lt;p>Una de las cosas que me gustan de &lt;a href="https://about.gitlab.com/">GitLab&lt;/a> es que se puede usar en un servidor propio, la otra cosa que me gusta es que incluye varias herramientas casi imprescindibles para cualquier proyecto como gestión de peticiones para recoger las historias, wiki como documentación e información y &lt;em>pages&lt;/em> para generar pequeños sitios web además de los repositorios de &lt;a href="https://git-scm.com/">Git&lt;/a> o el servidor de integración y entrega continua. Que GitLab incluya por defecto todas estas herramientas hace innecesario recurrir en la mayoría de los casos a varias herramientas especializadas que cubran estas necesidades como &lt;a href="https://www.atlassian.com/software/jira">JIRA&lt;/a>, &lt;a href="https://jenkins.io/">Jenkins&lt;/a>, &lt;a href="https://www.mediawiki.org/">MediaWiki&lt;/a> o un servidor web para los sitios web.&lt;/p>
&lt;p>Después de &lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/gitlab-la-completa-herramienta-integrada-para-desarrollo-de-software/">instalar GitLab usando Docker&lt;/a> o de alguna de sus otras formas, creado un usuario no administrador y un proyecto se puede empezar a usar las herramientas de gestión de incidencias, wiki y &lt;em>pages&lt;/em>. Estas son solo tres de sus herramientas incluidas, además incluye &lt;a href="https://picodotdev.github.io/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/">integración y entrega continua&lt;/a>.&lt;/p>
&lt;h3 id="gestión-de-peticiones">Gestión de peticiones&lt;/h3>
&lt;p>La herramienta de gestión de peticiones permite crear historias que recojan las tareas a realizar, las historias pueden ser de diferente tipo como nuevas funcionalidades, mejoras técnicas o errores, es posible asignarlas a diferentes usuarios, relacionar peticiones entre si o incluir documentos adjuntos. Las historias también se pueden mostrar en un panel &lt;a href="https://es.wikipedia.org/wiki/Kanban_(desarrollo)">Kanban&lt;/a> para visualizar el estado de las peticiones, las que están realizándose, las desplegadas en producción, las siguientes peticiones y donde puede haber cuellos de botella en los procesos. El flujo y el panel Kanban que siguen las peticiones desde que se crean hasta que se dan por terminadas es personalizable.&lt;/p>
&lt;p>Para crear una nueva petición hay que acceder en el proyecto a &lt;em>Issues&lt;/em> y pulsar el botón &lt;em>New Issue&lt;/em>. Rellenados los datos del formulario de creación se puede consultar desde &lt;em>Issues &amp;gt; List&lt;/em> para verlas en formato lista o &lt;em>Issues &amp;gt; Board&lt;/em> para verlas en formato panel Kanban. El panel Kanban se puede modificar y asignando etiquetas a las peticiones crear columnas adaptado al flujo de trabajo de una organización. Con &lt;a href="https://docs.gitlab.com/ee/user/markdown.html">formato de las descripciones de las peticiones&lt;/a> permite hacer referencia a otras o incluir menciones a otros usuarios.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.gitlab.com/ee/user/project/issues/issues_functionalities.html#11-reference">Issues Functionalities&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.gitlab.com/ee/user/project/issues/crosslinking_issues.html">Crosslinking Issues&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://about.gitlab.com/product/issueboard/">Issue Board&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/new-issue-1_hu39cda9bb77c6776898ba6dc3bdb94e84_286600_2560x1440_fit_box_2.png" title="Nueva petición A" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/new-issue-1_hu39cda9bb77c6776898ba6dc3bdb94e84_286600_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/new-issue-2_hu39cda9bb77c6776898ba6dc3bdb94e84_285620_2560x1440_fit_box_2.png" title="Nueva petición B" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/new-issue-2_hu39cda9bb77c6776898ba6dc3bdb94e84_285620_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Nueva petición&lt;/figcaption>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/issues_hua9fb50b63579c6550c6f5d00c5abbfce_218131_2560x1440_fit_box_2.png" title="Lista de peticiones" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/issues_hua9fb50b63579c6550c6f5d00c5abbfce_218131_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/labels_hucf4845fc7964e54d76e32fedbafd0a71_293277_2560x1440_fit_box_2.png" title="Etiquetas" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/labels_hucf4845fc7964e54d76e32fedbafd0a71_293277_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Lista de peticiones y etiquetas&lt;/figcaption>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/board_hubcbec4cba09a225e060715df5c1b7a3b_161725_2560x1440_fit_box_2.png" title="Panel Kanban" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/board_hubcbec4cba09a225e060715df5c1b7a3b_161725_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Panel Kanban&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;h3 id="wiki">Wiki&lt;/h3>
&lt;p>Una wiki ayuda a recoger información útil en el mismo proyecto pero no en el repositorio de código fuente, por ejemplo, cómo iniciar la aplicación de un proyecto a partir del repositorio de código fuente, qué dependencias tiene como el JDK o una base de datos. También puede recoger información general de lógica de negocio que no cambien tan a menudo como el código como pudiera ser un esquema de alto nivel de arquitectura o por que se han tomado algunas descisiones en la arquitectura y los requerimientos.&lt;/p>
&lt;p>Cuando se accede por primera vez a la wiki se crea la página de inicio que se puede editar o crear nuevas páginas. Las páginas de la wiki se escriben en formato &lt;a href="https://es.wikipedia.org/wiki/Markdown">Markdown&lt;/a> y se guarda un historial de las ediciones que se han realizado a cada página.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.gitlab.com/ce/user/project/wiki/index.html">GitLab Wiki&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/new-page_hucf4845fc7964e54d76e32fedbafd0a71_224040_2560x1440_fit_box_2.png" title="Nueva página" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/new-page_hucf4845fc7964e54d76e32fedbafd0a71_224040_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/page_hucf4845fc7964e54d76e32fedbafd0a71_160172_2560x1440_fit_box_2.png" title="Página" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/gestion-de-peticiones-wiki-y-pages-con-gitlab/images/page_hucf4845fc7964e54d76e32fedbafd0a71_160172_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>Nueva página y página&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;h3 id="pages">Pages&lt;/h3>
&lt;p>La herramienta de &lt;em>pages&lt;/em> o páginas permite crear un pequeño sitio web. Se pueden utilizar varias de las herramientas generadoras de sitios web estáticos como &lt;a href="https://jekyllrb.com/">Jekyll&lt;/a> o &lt;a href="https://gohugo.io/">Hugo&lt;/a>. Para crear un sitio web hay que crear un repositorio de código fuente con un archivo &lt;em>.gitlab-ci.yml&lt;/em> y una tarea de nombre &lt;em>pages&lt;/em> que contiene los comandos para construir el sitio web.&lt;/p>
&lt;p>Es posible asignar a los sitios web de &lt;em>pages&lt;/em> un dominio propio y añadirles seguridad con el protocolo HTTPS. En &lt;a href="https://gitlab.com/pages">estos repositorios&lt;/a> hay ejemplos de como generar un sitio web del proyecto con varios de los más populares generadores de sitios web estáticos. Dependiendo de si el sitio web es para el proyecto o del usuario o grupo el sitio estará accesible en la dirección u otra.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.gitlab.com/ee/user/project/pages/index.html#gitlab-pages-documentation">GitLab Pages&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>En resumen, ya con esta pequeña serie de artículos queda claro que GitLab es una herramienta muy completa y que incluye las funcionalidades de varias que son suficientes para la mayoría de los casos sin tener que recurrir a Jira, Jenkins, MediaWiki o un servidor web. Además, con la muy completa &lt;a href="https://docs.gitlab.com/ce/api/">API de GitLab&lt;/a> es posible hacer desarrollos a medida y según las necesidades que se tengan.&lt;/p>
&lt;p>
El &lt;a href="https://github.com/picodotdev/blog-ejemplos/tree/master/GitLab">código fuente completo del ejemplo&lt;/a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en &lt;a href="https://github.com/">GitHub&lt;/a> y probarlo en tu equipo ejecutando el comando &lt;code>docker-compose -f docker-compose-all.yml up&lt;/code>.
&lt;/p></content><category term="planeta-codigo"/><category term="software"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/</id><title>Integración y entrega continua con GitLab sobre Docker</title><updated>2018-01-13T10:30:00+01:00</updated><published>2018-01-13T10:30:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/"/><author><name>picodotdev</name></author><content type="html">
&lt;div class="logotypes" style="float: right;">
&lt;img src="assets/images/logotipos/gitlab.svg" class="right " width="200" alt="GitLab" title="GitLab"/>
&lt;/div>
&lt;p>&lt;a href="https://about.gitlab.com/">GitLab&lt;/a> es una herramienta muy completa, una de las necesidades de los proyectos es tener teses y que estos se ejecuten con cada &lt;em>commit&lt;/em> para asegurar que los cambios no introducen errores en las funcionalidades cubiertas por los teses, esto es la integración continua. La entrega inmediata es una vez que los teses se han ejecutado correctamente hacer el despliegue en los servidores de forma pasa el tiempo mínimo entre que una funcionalidad está desarrollada y esta se puede utilizar.&lt;/p>
&lt;p>GitLab proporciona integración continua (&lt;em>Continuos Integration&lt;/em>, CI) y entrega continua (&lt;em>Continuos Delivery&lt;/em>, CD) sin necesidad de una herramienta externa más especializada como es &lt;a href="https://jenkins.io/">Jenkins&lt;/a>. En el siguiente ejemplo muestro como configurar GitLab para crear uno o varios &lt;em>runner&lt;/em> que son los que realizan las acciones de integración y entrega continua y el archivo descriptor &lt;em>.gitlab-ci.yml&lt;/em> en formato &lt;em>yaml&lt;/em> que define las acciones específicas del proyecto que se ejecutarán con cada &lt;em>commit&lt;/em> en el repositorio &lt;a href="https://git-scm.com/">Git&lt;/a>.&lt;/p>
&lt;p>Jenkins es una herramienta más especializada que también sirve para realizar integración y entrega continua. En la página &lt;a href="https://about.gitlab.com/comparison/gitlab-vs-jenkins.html">GitLab vs Jenkins&lt;/a> se comparan las características de ambas herramientas, aunque en esa página de comparación GitLab está indicando que tiene algunas características más y aunque no tuviera tantas para la mayoría de los casos de uso es más que suficiente con la ventaja de no necesitar una herramienta más al estar estar ya integrado en GitLab que ofrece además del repositorio de código fuente, una wiki o un páginas para un sitio web.&lt;/p>
&lt;p>Para realizar integración y entrega continua hay definir las acciones, tareas y comandos de los que se componen del &lt;em>pipeline&lt;/em> específico para el proyecto, la descripción del &lt;em>pipeline&lt;/em> se define en un archivo &lt;em>.gitlab-ci.yml&lt;/em> que se añade en el directorio raíz del código fuente del proyecto en su repositorio de Git. El &lt;em>pipeline&lt;/em> según las necesidades del proyecto consta de varios pasos o &lt;em>steps&lt;/em> que se ejecutan de forma secuencial. Si en un mismo paso hay varias acciones estas se ejecutan de forma paralela. En el ejemplo de proyecto &lt;em>test&lt;/em> con un programa &lt;em>Hola Mundo&lt;/em> con Java y usando la herrramienta de contrucción &lt;a href="https://gradle.org/">Gradle&lt;/a> el &lt;em>pipeline&lt;/em> consta de las acciones de compilación y de ejecución de pruebas unitarias y &lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/como-generar-la-documentacion-javadoc-con-gradle/">creación de documentación &lt;em>javadoc&lt;/em>&lt;/a>. La tarea de Gradle &lt;em>build&lt;/em> en un proyecto Java realiza la compilación, ejecución de pruebas unitarias y genera el artefacto resultado el el directorio &lt;em>build/distributions&lt;/em> y la librería &lt;em>jar&lt;/em> con las clases compiladas en &lt;em>build/libs&lt;/em>, la tarea &lt;em>javadoc&lt;/em> genera la &lt;a href="https://docs.oracle.com/javase/9/docs/api/overview-summary.html">documentación Javadoc&lt;/a> de las clases del proyecto.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-YAML" data-lang="YAML">image&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>openjdk&lt;span class="p">:&lt;/span>&lt;span class="m">8&lt;/span>-jdk-alpine&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>stages&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>build&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>build&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>stage&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>build&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>script&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>./gradlew&lt;span class="w"> &lt;/span>--no-daemon&lt;span class="w"> &lt;/span>build&lt;span class="w"> &lt;/span>javadoc&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>artifacts&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>paths&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>build/distributions/gradle.zip&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>build/docs/javadoc/&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/code/gitlab-ci.yml" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/code/gitlab-ci.yml" target="_blank">gitlab-ci.yml&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Añadido el archivo del &lt;em>pipeline&lt;/em> al código fuente del proyecto hay que definir un &lt;em>runner&lt;/em> que se encargará de ejecutarlo con cada &lt;em>commit&lt;/em> que se envíe al repositorio de código fuente. Hay que registrarlo y se necesita un &lt;em>token&lt;/em> que se puede obtener desde el área de administración en &lt;em>Overview &amp;gt; Runners&lt;/em>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/images/gitlab-runners_hu4e48bd46d630c15053f13e201276a889_258822_2560x1440_fit_box_2.png" title="Runners" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/images/gitlab-runners_hu4e48bd46d630c15053f13e201276a889_258822_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;figcaption>GitLab Runners&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Al registrarlo hay que especificar el tipo de &lt;em>runner&lt;/em>, hay varios tipos, en este caso se usa el de &lt;em>docker&lt;/em> para ejecutar el &lt;em>pipeline&lt;/em> dentro de un contenedor de &lt;a href="https://www.docker.com/">Docker&lt;/a>. En en archivo de &lt;a href="https://docs.docker.com/compose/">Docker Compose&lt;/a> es necesario que el &lt;em>runner&lt;/em> pueda comunicarse con el servicio de Docker, para ello como punto de montaje del contenedor de &lt;em>gitlab-runner&lt;/em> se especificar el archivo &lt;em>docker.sock&lt;/em>.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ docker &lt;span class="nb">exec&lt;/span> -it gitlab-runner gitlab-runner register --url &lt;span class="s2">&amp;#34;https://gitlab&amp;#34;&lt;/span> --registration-token &lt;span class="s2">&amp;#34;RhoFva9z8Ri6cuDYbXN1&amp;#34;&lt;/span> --tag-list &lt;span class="s2">&amp;#34;gitlab-runner-01&amp;#34;&lt;/span> --run-untagged &lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span> --locked &lt;span class="s2">&amp;#34;false&amp;#34;&lt;/span> --executor &lt;span class="s2">&amp;#34;docker&amp;#34;&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/code/add-gitlab-runner.sh" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/code/add-gitlab-runner.sh" target="_blank">add-gitlab-runner.sh&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>En este ejemplo y con este &lt;em>pipeline&lt;/em> el artefacto distribuible de la aplicación y el Javadoc se alamacena en GitLab estando accesible para su descarga desde el panel lateral una vez finalizado el &lt;em>pipeline&lt;/em>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/images/pipelines_hu3f62b1b8d4d7ea188729501f507f909e_98907_2560x1440_fit_box_2.png" title="Pipelines" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/images/pipelines_hu3f62b1b8d4d7ea188729501f507f909e_98907_300x200_fit_box_2.png" width="300"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/images/pipeline_huedfef20b9fb22617dbc80afe0102ced6_359504_2560x1440_fit_box_2.png" title="Pipeline" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/images/pipeline_huedfef20b9fb22617dbc80afe0102ced6_359504_300x200_fit_box_2.png" width="281"/>&lt;/a>
&lt;figcaption>Pipeline&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>El descriptor usando &lt;a href="https://docs.docker.com/compose/">Docker Compose&lt;/a> que define el servicio de GitLab y otro para GitLab Runner es el siguiente. El nombre de dominio que he utilizado para el servidor es &lt;em>gitlab&lt;/em> y ha de añadirse al archivo &lt;em>/etc/hosts&lt;/em> para que sea resuelto localmente.&lt;/p>
&lt;div class="code">
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-YAML" data-lang="YAML">version&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3.4&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>services&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>image&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab/gitlab-ce:latest&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>container_name&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>gitlab&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>hostname&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>environment&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>GITLAB_OMNIBUS_CONFIG&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="sd">|
&lt;/span>&lt;span class="sd"> &lt;/span>&lt;span class="sd"> &lt;/span>&lt;span class="sd">gitlab_rails[&amp;#39;gitlab_shell_ssh_port&amp;#39;] = 8022&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>external_url&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>nginx&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ssl_certificate&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>=&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;/etc/gitlab/ssl/gitlab.crt&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>nginx&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ssl_certificate_key&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>=&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;/etc/gitlab/ssl/gitlab.key&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>pages_external_url&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>pages_nginx&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;redirect_http_to_https&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>=&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>pages_nginx&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ssl_certificate&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>=&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/etc/gitlab/ssl/gitlab.crt&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>pages_nginx&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ssl_certificate_key&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>=&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/etc/gitlab/ssl/gitlab.key&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>networks&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>aliases&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>gitlab&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>ports&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;8022:22&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;8080:80&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;8443:443&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab-config-volume:/etc/gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab-log-volume:/var/log/gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab-data-volume:/var/opt/gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;./docker-volumes/gitlab/ssl:/etc/gitlab/ssl&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab-runner&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>image&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab/gitlab-runner:latest&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>container_name&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>gitlab-runner&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>environment&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;DOCKER_NETWORK_MODE=gitlab_gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>links&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>gitlab&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>networks&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>gitlab&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;gitlab-runner-config-volume:/etc/gitlab&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;./docker-volumes/gitlab/ssl/gitlab.crt:/etc/gitlab-runner/certs/ca.crt&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;/var/run/docker.sock:/var/run/docker.sock&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>volumes&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab-config-volume&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab-log-volume&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab-data-volume&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab-runner-config-volume&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>networks&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>gitlab&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>driver&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>bridge&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>
&lt;div class="highlight-meta">
&lt;span class="raw">&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/code/docker-compose-all.yml" target="_blank">view raw&lt;/a>&lt;/span>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/integracion-y-entrega-continua-con-gitlab-sobre-docker/code/docker-compose-all.yml" target="_blank">docker-compose-all.yml&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>En la sección de referencia hay unos buenos enlaces de documentación de GitLab sobre la integración continua, despliegue continuo y entrega continua.&lt;/p>
&lt;p>
El &lt;a href="https://github.com/picodotdev/blog-ejemplos/tree/master/GitLab">código fuente completo del ejemplo&lt;/a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en &lt;a href="https://github.com/">GitHub&lt;/a> y probarlo en tu equipo ejecutando el comando &lt;code>docker-compose -f docker-compose-all.yml up&lt;/code>.
&lt;/p>
&lt;div class="reference">
Referencia:&lt;br>
&lt;ul>
&lt;li>&lt;a href="https://docs.gitlab.com/ce/ci/">GitLab Continuous Integration (GitLab CI/CD)&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.gitlab.com/ce/ci/quick_start/README.html">Getting started with GitLab CI/CD&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.gitlab.com/ce/ci/yaml/README.html">Configuration of your jobs with .gitlab-ci.yml&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gist.github.com/daicham/5ac8461b8b49385244aa0977638c3420">A sample of .gitlab-ci.yml for a gradle project&lt;/a>&lt;/li>
&lt;/ul>
&lt;/div></content><category term="planeta-codigo"/><category term="software"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/</id><title>Artículo #5 de Yo apoyo al software libre</title><updated>2018-01-03T13:00:00+01:00</updated><published>2018-01-03T10:00:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>La última donación que hice a algún proyecto de software libre fue en mayo del 2017, desde entonces he recibido algunos ingresos por la publicidad AdSense que incluyó en el blog. Los ingresos por AdSense están empezando a ser bastantes constantes de al menos 1€ al día con lo que al mes se convierten en 30€, un més bueno en 50€, con lo que cada dos o tres meses recibo un ingreso.&lt;/p>
&lt;p>También hace unos meses escribí un artículo patrocinado con enlaces de afiliación sobre varios &lt;a href="https://picodotdev.github.io/blog-bitix/2017/02/cursos-de-formacion-de-keepcoding/">cursos de formación de KeepCoding&lt;/a>, la mayoría de usuarios se registran en los cursos gratuitos y ya cuando había perdido las esperanzas de que alguien comprase algún curso pagando un par de usuarios se registraron usando mis códigos de afiliado.&lt;/p>
&lt;p>En esta ocasión los proyectos a los que he hecho una donación han sido &lt;a href="https://lineageos.org/">LineageOS&lt;/a> y &lt;a href="https://www.replicant.us/">Replicant&lt;/a>, dos distribuciones de &lt;a href="https://www.android.com/">Android&lt;/a> que permiten dar una segunda o tercera vida a móviles que desde hace tiempo se han quedado sin soporte oficial del fabricante ni de Google ni parches de seguridad con lo que ello supone en estos dispositivos que se están convirtiendo en cada vez más imprescindibles. Esto genera dispositivos no actualizados, tarde o temprano potencialmente inseguros y la conocida fragmentación en la plataforma Android.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;img src="assets/images/logotipos/lineageos.svg" alt="LineageOS" title="LineageOS" width="200"/>
&lt;img src="assets/images/logotipos/replicant.svg" alt="Replicant" title="Replicant" width="200"/>
&lt;/figure>
&lt;/div>
&lt;p>Muchos móviles siguen siendo perfectamente útiles aún pasados más de dos años. En mi móvil, un Samsung Galaxy S3 (i9300) del año 2012 con 4 núcleos y un solo &lt;em>giga&lt;/em> de memoria RAM con no tantos años de vida pero que ya podría considerarse obsoleto debido al gran avance en capacidades que experimentado los &lt;em>smartphones&lt;/em> usaba la extinta CyanogenMod en su versión 10.2 que incorporaba Android 4.4 (KitKat) cuando de fábrica tenía 4.1 o 4.2 (Jelly Bean). En alguna ocasión he pensado en actualizarlo a alguna versión más reciente de Android aunque por el poco uso que hago del móvil ya me era suficiente con la versión 4.4 de Android, también porque me daba un poco de pereza hacer la actualización aún no siendo demasiado complicado y no tardando mucho sabiendo lo que hay que hacer. En estas dos distribuciones de Android el Samsung Galaxy S3 está soportado.&lt;/p>
&lt;h3 id="lineageos">LineageOS&lt;/h3>
&lt;p>Se trata de la versión heredera de CyanogenMod, soporta una gran cantidad de terminales que con el paso del tiempo va aumentando aunque hasta el momento no he visto que se haya lanzado una versión estable de alguno de ellos, en cualquier caso en el estado actual funcionará bastante bien en cualquiera de los terminales.&lt;/p>
&lt;p>Finalmente, ayer precisamente me decidí a instalar LineageOS 14.1 que incorpora una de las últimas versiones de Android, 7.1, y mucho más reciente que la que tenía, no lo había hecho hasta el momento por eso de no tener una versión estable y no estaba seguro de que tal funcionaría en un móvil tan «antiguo». Después de haberlo hecho he comprobado que funciona de forma perfectamente fluida aún con la poca cantidad de RAM que tiene para los tiempos actuales en los que los móviles ya incorporan entre 2 y 4 GiB, incluso mejor ya que funciona la cámara frontal que antes con CyanogenMod no.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://wiki.lineageos.org/devices/i9300/install">Guía de instalación LineageOS para Samsung Galaxy S3&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.youtube.com/watch?v=icVFJdBL60w">Vídeo de instalación LineageOS&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://download.lineageos.org/">Dispositivos soportados&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Se ofrece de forma gratuita pero los servidores que son necesarios para el desarrollo y el mantenimiento de los sitios web tienen unos costes, este es el detalle de los &lt;a href="https://wiki.lineageos.org/costs/">costes de LineageOS&lt;/a>.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/cyanogenmod-10.2_huf3a84ec940d0e4a07e9ca5cf0a2732a5_86598_2560x1440_fit_q90_box.jpg" title="CynogenMod 10.2" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/cyanogenmod-10.2_huf3a84ec940d0e4a07e9ca5cf0a2732a5_86598_300x200_fit_q90_box.jpg" width="113"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/lineageos-14.1_hu5d1bf970dbec1af605def033c54a0ed9_87661_2560x1440_fit_q90_box.jpg" title="LineageOS 14.1" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/lineageos-14.1_hu5d1bf970dbec1af605def033c54a0ed9_87661_300x200_fit_q90_box.jpg" width="113"/>&lt;/a>
&lt;figcaption>CynogenMod 10.2 y LineageOS 14.1&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;h3 id="replicant">Replicant&lt;/h3>
&lt;p>Es la distribución de Android recomendada por la &lt;a href="https://www.fsf.org/">FSF&lt;/a>. Uno de sus objetivos es los teléfonos móviles respeten la privacidad de los usuarios no realizando seguimiento, posicionamiento y no compartiendo datos e incluyendo en el sistema operativo solo elementos libres. Y es que prácticamente todas las aplicaciones quieren acceder a los contactos, fotos, mensajes SMS, llamadas y otros varios permisos que las aplicaciones solicitan y hay que conceder. Esta distribución de Android es para aquellos le dan gran importancia a la seguridad, privacidad y libertad en estos dispositivos que podrían calificarse de seguimiento y vigilancia. Y por ello esta distribución es importante.&lt;/p>
&lt;p>Está basado en LineageOS 13 y Android 6 quitándole los componentes que no mantienen la privacidad y proporcionándole sustitutos. No soporta tantos dispositivos como LineageOS aunque están varios que fueron y son muy populares.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.replicant.us/supported-devices.php">Dispositivos soportados&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://redmine.replicant.us/projects/replicant/wiki/ReplicantStatus">Estado de soporte en los dispositivos&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.replicant.us/freedom-privacy-security-issues.php">Motivaciones del uso de Replicant, Freedom and privacy/security issues&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://redmine.replicant.us/projects/replicant/wiki#Replicant-installation">Guías de instalación&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/replicant-6_huf9e3f77883367cad80fcc02422b90b7a_435737_2560x1440_fit_box_2.png" title="Replicant 6" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/replicant-6_huf9e3f77883367cad80fcc02422b90b7a_435737_300x200_fit_box_2.png" width="120"/>&lt;/a>
&lt;figcaption>Replicant 6&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;h3 id="comprobantes-de-las-donaciones">Comprobantes de las donaciones&lt;/h3>
&lt;p>En ambos casos las donaciones que he hecho han sido de 15€.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/donacion-lineageos_hu363323e9a26d548b6782c5dc77f42687_59453_2560x1440_fit_box_2.png" title="Donación LineageOS" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/donacion-lineageos_hu363323e9a26d548b6782c5dc77f42687_59453_650x450_fit_box_2.png" width="318"/>&lt;/a>
&lt;figcaption>Donación LineageOS&lt;/figcaption>
&lt;/figure>
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/donacion-replicant_hua90b6e38f84426edcfd021dbfc02199c_107406_2560x1440_fit_box_2.png" title="Donación Replicant" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2018/01/articulo-5-de-yo-apoyo-al-software-libre/images/donacion-replicant_hua90b6e38f84426edcfd021dbfc02199c_107406_650x450_fit_box_2.png" width="291"/>&lt;/a>
&lt;figcaption>Donación Replicant&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;table class="table">
&lt;thead>
&lt;tr class="thead-dark">
&lt;th colspan="4">Donaciones que he realizado hasta la última fecha&lt;/td>
&lt;/tr>
&lt;tr class="thead-light">
&lt;th>#&lt;/td>
&lt;th>Fecha&lt;/td>
&lt;th>Proyecto&lt;/td>
&lt;th>Donación&lt;/td>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>2015/12&lt;/td>
&lt;td>Free Software Foundation Europe (FSFE)&lt;/td>
&lt;td>40€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>2016/09&lt;/td>
&lt;td>Wikipedia, Firefox&lt;/td>
&lt;td>10€, 10€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>2017/01&lt;/td>
&lt;td>elementaryOS, Libre Office, Arch Linux ARM&lt;/td>
&lt;td>10€, 10€, 10€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>2017/05&lt;/td>
&lt;td>GNOME, VideoLAN (VLC), Arch Linux&lt;/td>
&lt;td>15,31€, 10€, 0,31€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>2018/01&lt;/td>
&lt;td>LineageOS, Replicant&lt;/td>
&lt;td>15€, 15€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>2018/12&lt;/td>
&lt;td>Wine&lt;/td>
&lt;td>$20&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7&lt;/td>
&lt;td>2019/12&lt;/td>
&lt;td>Calibre&lt;/td>
&lt;td>$10&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td colspan="3">Total&lt;/td>
&lt;td>145€, $30&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></content><category term="planeta-codigo"/><category term="software-libre"/></entry><entry><id>https://picodotdev.github.io/blog-bitix/2017/12/hemeroteca-12/</id><title>Hemeroteca #12</title><updated>2018-01-13T11:35:00+01:00</updated><published>2017-12-30T09:30:00+01:00</published><link rel="alternate" href="https://picodotdev.github.io/blog-bitix/2017/12/hemeroteca-12/"/><author><name>picodotdev</name></author><content type="html">
&lt;p>Cuarto año de Blog Bitix y en febrero serán ocho desde que empecé con &lt;a href="https://elblogdepicodev.blogspot.com.es">El blog del pico.dev&lt;/a>. En los últimos seis meses he seguido publicando casi a dos artículos por semana y durante el 2017 ha sido casi siempre así, en este semestre han sido 48 artículos, que juntos con los 39 del primero son 87 durante el año 2017, mi mayor tasa de publicación en un año.&lt;/p>
&lt;p>En estas hemerotecas siempre repaso cual es la evolución de visitas e ingresos de AdSense que quizá a alguien más le resulte de interés. En Junio y Julio alcance unas 50K páginas vistas el mayor pico de visitas, aunque en meses posteriores han descendido, al principio lo achacaba a los meses vacacionales de verano pero luego se han mantenido no se si por alguna penalización de Google o algún artículo que recibía muchas visitas y haya descendido en su posicionamiento. En cualquier caso en los últimos meses del año las visitas han tenido una tendencia ascendente, de unas 40K páginas vistas y superior respecto a las de hace una año que comparándolas han sido de 25K en 2016 y de 38K en 2017 un crecimiento de un 85%. No está mal, si el año siguiente fuese igual me daría por muy satisfecho.&lt;/p>
&lt;p>En el apartado de ingresos por la publicidad AdSense, algunos artículos patrocinados y enlaces de afiliación también ha estado bien. En estos momentos por AdSense es raro el día que no recibo al menos un euro y algún día excepcional he recibido 8, otros algo menos de 2 y 3, mensualmente ya es habitual que esté en un rango de 30 y 45€, los ingresos de AdSense se relacionan en gran medida con el número de visitas. Al final el artículo que publiqué sobre los &lt;a href="https://picodotdev.github.io/blog-bitix/2017/02/cursos-de-formacion-de-keepcoding/">cursos de formación de KeepCoding&lt;/a> han merecido la pena como artículo patrocinado con la compra de dos usuario de tres cursos (aunque la mayoría de gente se registran a los cursos gratuitos), pero esto junto con los artículos patrocinados es más esporádico y por el momento poco habitual para mi.&lt;/p>
&lt;p>En alguna ocasión me han comentado que me donarían algo por los artículos que escribo, una posibilidad sería usar &lt;a href="https://www.patreon.com/">Patreon&lt;/a> o &lt;a href="https://www.paypal.com/">PayPal&lt;/a>, sin embargo, no me convence mucho la donación directa por ser demasiado generosa y he preferido añadir una &lt;a href="https://picodotdev.github.io/blog-bitix/series/donacion/">página con ciertos productos tecnológicos y &lt;em>gamers&lt;/em> seleccionados&lt;/a> para que si alguien le gusta mis artículos, se acuerda y quiere donarme algo lo haga a través de estos enlaces de afiliación. Al que compra le cuesta lo mismo pero yo recibo una comisión. Esto me recuerda que debería hacer alguna nueva donación a proyectos de software libre y estoy pensando en &lt;a href="https://lineageos.org/">Lineage OS&lt;/a> y &lt;a href="https://www.replicant.us/">Replicant&lt;/a>.&lt;/p>
&lt;p>Quien crea que es mucho que pruebe a crearse una bitácora, un canal en &lt;a href="https://www.youtube.com/">YouTube&lt;/a> o un &lt;em>podcast&lt;/em> y verá rápidamente que o se acierta en la temática y se es muy bueno creando contenido que genera interés o primero verá que han de pasar dos años y dedicar una ingente cantidad de horas a crear ese contenido para llegar a estas cifras que tampoco son altas, no en vano muchos de estos proyectos son abandonados al cabo de unos meses, por algo será.&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2017/12/hemeroteca-12/images/analytics-2017.png" title="Analytics 2017 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2017/12/hemeroteca-12/images/analytics-2017-thumb.png" width="650"/>&lt;/a>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2017/12/hemeroteca-12/images/gadsense-2017.png" title="AdSense 2017 de Blog Bitix" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2017/12/hemeroteca-12/images/gadsense-2017-thumb.png" width="650"/>&lt;/a>
&lt;figcaption>Evolución visitas e ingresos en 2017&lt;/figcaption>
&lt;/figure>
&lt;/div>
&lt;p>Pero por otra parte he recibido buenos comentarios sobre lo que escribo en Blog Bitix, por algunas personas vía &lt;a href="https://twitter.com/">Twitter&lt;/a> y otras en algún comentario que me anima a seguir escribiendo y compartiendo como hasta ahora lo que voy aprendiendo e investigando que algún día espero utilizar en algún trabajo antes de que me jubile o pruebe ser un jardinero o barrendero.&lt;/p>
&lt;p>Este semestre me propuse publicar una mayor cantidad de artículos relacionados con el lenguaje de programación Java con motivo de la pasada publicación de Java 9. Pero primero empecé con un par de artículos sobre &lt;em>portlets&lt;/em> y &lt;a href="https://tapestry.apache.org/">Apache Tapestry&lt;/a> que en algún momento espero añadirlos en alguna sección del libro &lt;a href="https://picodotdev.github.io/blog-bitix/2014/08/actualizacion-del-libro-plugin-tapestry/">PlugIn Tapestry&lt;/a>. Por supuesto, varios artículos comentando las novedades más relevantes de Java 9 publicado en septiembre entre ellas la modularidad y otras no menos notables.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/introduccion-a-los-portales-y-ejemplo-de-portlet-con-liferay/">Introducción a los portales y ejemplo de portlet con Liferay&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/portlets-con-el-framework-apache-tapestry-y-apache-pluto/">Portlets con el framework Apache Tapestry y Apache Pluto&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/iniciar-rapido-un-proyecto-de-java-con-gradle-o-de-spring-con-spring-initializr/">Iniciar rápido un proyecto de Java con Gradle o de Spring con Spring Initializr&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/iniciacion-a-la-programacion-concurrente-en-java/">Iniciación a la programación concurrente en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/4-formas-de-hacer-un-bucle-for-en-java/">4 formas de hacer un bucle for en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/ejecutar-varias-tareas-de-forma-concurrente-en-java/">Ejecutar varias tareas de forma concurrente en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/08/el-antipatron-de-inicializacion-de-variables-con-dobles-llaves-en-java/">El antipatrón de inicialización de variables con dobles llaves en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/08/cache-simple-de-datos-y-con-ehcache-en-java/">Cache simple de datos y con Ehcache en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/los-cuantificadores-greedy-reluctant-y-possessive-en-expresiones-regulares/">Los cuantificadores greedy, reluctant y possessive en expresiones regulares&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/los-tipos-de-referencias-debiles-soft-weak-y-phantom-en-java/">Los tipos de referencias débiles soft, weak y phantom en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/la-herramienta-de-documentacion-javadoc-de-java/">La herramienta de documentación Javadoc de Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/como-generar-la-documentacion-javadoc-con-gradle/">Cómo generar la documentación Javadoc con Gradle&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/crear-anotaciones-de-javadoc-personalizadas-con-taglets/">Crear anotaciones de Javadoc personalizadas con taglets&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/cambiar-y-personalizar-los-estilos-de-la-documentacion-javadoc/">Cambiar y personalizar los estilos de la documentación Javadoc&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/novedades-y-nuevas-caracteristicas-de-java-9-los-modulos/">Novedades y nuevas características de Java 9, los módulos&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/novedades-de-java-9-mas-alla-de-la-modularidad/">Novedades de Java 9, más allá de la modularidad&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/jshell-la-herramienta-repl-incorporada-en-java-9/">JShell la herramienta REPL incorporada en Java 9&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/evitar-niveles-de-anidacion-de-sentencias-condicionales-con-guard-clauses/">Evitar niveles de anidación de sentencias condicionales con guard clauses&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/ejemplo-con-el-cliente-http-2-de-java/">Ejemplo con el cliente HTTP/2 de Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/obtener-el-minimo-o-maximo-de-dos-una-lista-o-stream-de-valores-en-java/">Obtener el mínimo o máximo de dos, una lista o stream de valores en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/las-excepciones-del-lenguaje-java/">Las excepciones del lenguaje Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/obtener-informacion-de-la-pila-de-las-excepciones/">Obtener información de la pila de las excepciones&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/implementar-funcionalidades-comunes-en-java-con-la-libreria-lombok/">Implementar funcionalidades comunes en Java con la librería Lombok&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/visualizar-datos-y-generar-graficas-en-java-con-jfreechart/">Visualizar datos y generar gráficas en Java con JFreeChart&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/ordenar-alfabeticamente-cadenas-con-la-clase-collator-en-java/">Ordenar alfabéticamente cadenas con la clase Collator en Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/">Introducción a la programación funcional con Java y la librería Vavr&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Una serie de artículos sobre &lt;a href="https://graphql.org/">GraphQL&lt;/a> como alternativa a una API REST que tiene algunas ventajas. Aún me queda publicar uno de esta serie, en cuanto se acepte un &lt;em>pull request&lt;/em> a raíz de una petición que cree con &lt;a href="https://github.com/graphql-java/graphql-java-tools/issues/93">un problema que me encontré&lt;/a>.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/ejemplo-de-graphql-para-una-interfaz-de-un-servicio-con-spring-boot-y-java/">Ejemplo de GraphQL para una interfaz de un servicio con Spring Boot y Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/usar-un-resolver-para-recuperar-propiedades-en-graphql/">Usar un resolver para recuperar propiedades en GraphQL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/consultas-con-parametros-para-filtrar-datos-en-graphql/">Consultas con parámetros para filtrar datos en GraphQL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/paginacion-usando-cursores-en-graphql-y-java/">Paginación usando cursores en GraphQL y Java&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/definir-nuevos-tipos-de-datos-escalares-en-graphql/">Definir nuevos tipos de datos escalares en GraphQL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/devolver-mensajes-de-error-descriptivos-en-graphql/">Devolver mensajes de error descriptivos en GraphQL&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>De los menos en este semestre están relacionados con el software libre. De &lt;a href="https://about.gitlab.com/">GitLab&lt;/a> tengo otro par de artículos por publicar para realizar integración continua y mostrando más en detalles su gestión de peticiones, wiki y páginas. Si estas navidades tienes algún momento para ver la televisión en uno de los siguientes artículos encontrarás varias ideas relacionadas con la tecnología.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/08/instalar-y-renovar-un-certificado-de-lets-encrypt-en-nginx/">Instalar y renovar un certificado de Let&amp;rsquo;s Encrypt en Nginx&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/el-buscador-que-respeta-tu-privacidad-duckduckgo/">El buscador que respeta tu privacidad, DuckDuckGo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/peliculas-sobre-tecnologia-o-informatica-series-documentales-videos-libros-gnu-linux-y-software-libre/">Películas sobre tecnología o informática, series, documentales, vídeos, libros, GNU/Linux y software libre&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/como-eliminar-metainformacion-de-las-fotos-en-gnu-linux/">Como eliminar metainformación de las fotos en GNU/Linux&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/gitlab-la-completa-herramienta-integrada-para-desarrollo-de-software/">GitLab, la completa herramienta integrada para desarrollo de software&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>O de opinión.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/la-triste-realidad-de-java-versiones-antiguas/">La triste realidad de Java, versiones antiguas&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/10/consejos-para-empresas-y-gente-de-recursos-humanos-que-busquen-talento/">Consejos para empresas y gente de recursos humanos que busquen talento&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/12/microsoft-does-not-care-if-you-use-windows-or-office-without-a-license/">Microsoft does not care if you use Windows or Office without a license&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Algunos artículos de tema alternativos en la temática principal de este blog pero que también me gusta compartir, comentando el cambio que hice de compañía eléctrica a &lt;a href="https://www.holaluz.com/">Holaluz&lt;/a>, de caldera a termo eléctrico y la diferencia en la factura entre tener caldera y tener termo eléctrico. Un par de artículos de los robles que he plantado que espero prosperen, publicaré alguno más. También algún artículo de desempaquetado.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/desempaquetado-maletin-herramientas-mannesmann-y-bandejas-melamina-balvi/">Desempaquetado maletín herramientas Mannesmann y bandejas melamina Balvi&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/07/la-busqueda-de-ejemplares-de-roble-comun/">La búsqueda de ejemplares de roble común&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/09/seleccion-de-semillas-de-roble-comun-y-metodos-de-germinacion/">Selección de semillas de roble común y métodos de germinación&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/08/sustituir-caldera-de-gas-por-un-termo-electrico-fleck-duo-7-50/">Sustituir caldera de gas por un termo eléctrico Fleck Duo 7 50&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/comparando-la-factura-entre-caldera-de-gas-y-termo-electrico/">Comparando la factura entre caldera de gas y termo eléctrico&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/me-cambio-a-la-electrica-holaluz/">Me cambio a la eléctrica Holaluz&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Una buena colección de libros técnicos que he leído durante el último trío de años y me han gustado junto con una selección de productos tecnológicos.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/08/37-buenos-libros-sobre-sobre-java-linux-devops-y-desarrollo-que-he-leido/">37 buenos libros sobre sobre Java, Linux, DevOps y desarrollo que he leído&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://picodotdev.github.io/blog-bitix/2017/11/productos-tecnologicos-para-comprar-o-regalar/">Productos tecnológicos para comprar o regalar&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Espero seguir escribiendo como hasta ahora en el 2018 si el tiempo del que dispongo me lo permite y continuo con motivación. Por lo pronto son unos cuantos artículos que ya tengo escritos a falta de retocar en el momento que los publique. Puedes aprovechar para repasar esta lista y leer alguno si te lo perdiste, por supuesto si aún no lo has hecho, suscríbete con tu lector preferido al &lt;a href="https://picodotdev.github.io/blog-bitix/index.xml">&lt;em>feed&lt;/em> a Blog Bitix&lt;/a>. Finalmente, ya solo me queda desearos con la siguiente imagen linuxera de &lt;a href="http://www.klowner.com/">Klouner&lt;/a>&amp;hellip; ¡Buen &lt;strike>2016&lt;/strike> 2018!&lt;/p>
&lt;div class="media" style="text-align: center;">
&lt;figure>
&lt;a href="https://picodotdev.github.io/blog-bitix/blog-bitix/2017/12/hemeroteca-12/images/christmas-tux-2017.jpg" title="¡Buen 2018!" data-gallery>&lt;img src="https://picodotdev.github.io/blog-bitix/blog-bitix/2017/12/hemeroteca-12/images/christmas-tux-2017-thumb.jpg" width="650"/>&lt;/a>
&lt;figcaption>¡Buen 2018!&lt;/figcaption>
&lt;/figure>
&lt;/div></content><category term="blog"/><category term="hemeroteca"/><category term="java"/><category term="planeta-codigo"/><category term="planeta-linux"/><category term="programacion"/><category term="software"/><category term="software-libre"/><category term="tapestry"/><category term="gnu-linux"/></entry></feed>
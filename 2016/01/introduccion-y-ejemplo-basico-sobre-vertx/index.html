<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=picodotdev><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Tradicionalmente las aplicaciones web y los servidores han manejado con un hilo cada petición. Hasta ahora ha funcionado y en muchos casos sigue siendo suficiente para el número de usuarios y peticiones a los que atienden esas aplicaciones. Pero cuando se necesita escalar a un gran volumen de peticiones y usuarios usar hilos es ineficiente y requiere escalar horizontalmente (con más servidores) que tiene costes adicionales y una mayor complejidad en la infraestructura de la aplicación. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Introducción y ejemplo básico sobre Vert.x</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href="//fonts.googleapis.com/css?family=PT+Serif:400,700italic,700,400italic"><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.0.0/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.30.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js async></script><script type=text/javascript>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript async>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src=assets/libs/require.js></script><script type=text/javascript src=assets/js/main.js></script><script type=text/javascript src=assets/js/theme.js async></script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" async></script><script type=text/javascript src=assets/js/app.js async></script></head><body><div class=container><div class=row><div class=col><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 col-lg-8"><div class=row><div class=col-12><article itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content=es><meta itemprop=keywords content="blog-stack, java, planeta-codigo, programacion"><h1 itemprop=name>Introducción y ejemplo básico sobre Vert.x</h1><p class=information>Escrito por <span itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2016-01-15>15/01/2016</time>, actualizado el <time itemprop=dateModified datetime=2016-01-15>15/01/2016</time>.<br><a href=tags/blog-stack/>blog-stack</a> <a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a><br><a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/#comments>Comentarios</a></p><p class=summary itemprop=about>Las aplicaciones basadas en eventos y con E/S no bloqueante son más eficientes, requieren menos recursos y son capaces de servir más peticiones o usuarios por unidad de tiempo. En JavaScript su mejor representante es Node.js, en la plataforma JVM uno equivalente es Vert.x. Pero también tiene sus contrapartidas. En el artículo incluiré un pequeño ejemplo de Vert.x que muestre las diferencias con las aplicaciones tradicionalmente basadas en hilos y llamadas a métodos bloqueantes.</p><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><div class=content itemprop=articleBody><meta itemprop=wordCount content=1147><div class=logotypes style=float:right><img src=assets/images/logotipos/vertx.png class=right alt=Vert.x title=Vert.x></div><div class=logotypes style=float:right;clear:right><img src=assets/images/logotipos/java.svg class=right width=200 alt=Java title=Java></div><p>Tradicionalmente las aplicaciones web y los servidores han manejado con un hilo cada petición. Hasta ahora ha funcionado y en muchos casos sigue siendo suficiente para el número de usuarios y peticiones a los que atienden esas aplicaciones. Pero cuando se necesita escalar a un gran volumen de peticiones y usuarios usar hilos es ineficiente y requiere escalar horizontalmente (con más servidores) que tiene costes adicionales y una mayor complejidad en la infraestructura de la aplicación. Dedicar en exclusiva un hilo por petición hasta que esta es atendida es ineficiente ya que las operaciones de entrada/salida como disco o red como un servidor de base de datos el hilo se bloquea esperando a obtener respuesta del disco o base de datos, recursos que quedan bloqueados. Por otra parte, un cambio de contexto del procesador para pasar de ejecutar un proceso o hilo a otro es una operación costosa comparada con las velocidades de los procesadores y al mismo tiempo agravada por la necesidad de contención entre los hilos en el acceso concurrente a datos.</p><p>Para aprovechar en mayor medida la capacidad de cálculo y cada vez mayor de los modernos procesadores están surgiendo servidores y <em>frameworks</em> con principios diferentes, basados en eventos y la <a href=https://en.wikipedia.org/wiki/Reactive_programming>programación reactiva</a>. Unos de los más conocidos es el <em>runtime</em> <a href=https://nodejs.org/en/>Node.js</a> y el servidor web <a href=https://nginx.org/>Nginx</a>. La idea de cualquiera de ellas es usar eventos que son procesados por un único hilo (o uno por núcleo del procesador) con ninguna o menor necesidad de contención entre los hilos y usando programación reactiva de modo que las operaciones de E/S no sean bloqueantes. Por otra parte menos hilos necesitarán menos recursos del sistema y también menos cambios de contexto en el procesador. Todo ello hace que usando el mismo sistema las aplicaciones basadas en eventos, programación reactiva y no bloqueantes en la E/S consuman menos memoria y sean capaces de servir más peticiones por una diferencia muy significativa que las aplicaciones basadas en hilos.</p><p>Los hilos y las operaciones bloqueantes a pesar de su ineficiencia hacen fácil la programación usando programación imperativa o al menos más que la programación reactiva en las que se usan una función de rellamada o <em>callback</em> por cada operación bloqueante que realicemos. También señalar que un bloqueo en el hilo que procesa las peticiones por un fallo de programación, por una operación que es bloqueante o que en su proceso acapara un tiempo significativo si no es tenida en cuenta impedirá que la aplicación procese eventos y peticiones lo que se traducirá en un aparente denegación de servicio. Esta es la contrapartida de este nuevo paradigma para las aplicaciones.</p><p>Teniendo en cuenta estos aspectos una de las opciones de la plataforma JVM es <a href=https://vertx.io/>Vert.x</a> que es el equivalente a Node.js en la plataforma JavaScript. Otra de las características de Vert.x es que es políglota de modo que podremos elegir el lenguaje de programación que prefiramos ya sea <a href=http://www.oracle.com/technetwork/java/index.html>Java</a>, <a href=https://es.wikipedia.org/wiki/JavaScript>JavaScript</a>, <a href=http://www.groovy-lang.org/>Groovy</a>, <a href=https://www.ruby-lang.org/es/>Ruby</a> o <a href=https://ceylon-lang.org/>Ceylon</a>. Hay que tener en cuenta que en su mayor parte las librerías Java no han sido diseñadas para la programación reactiva y no bloqueante, para lo cual Vert.x proporciona varios módulos diseñados con esta idea, en la <a href=http://vertx.io/docs/>página de documentación</a> están indicados cuales son, su documentación y ejemplos de uso. También Vert.x prescinde de los servidores de aplicaciones y estas se ejecutan siguiendo la nueva tendencia de un proceso por aplicación más alineado con los microservicios.</p><p>En el código del siguiente ejemplo emplearé Java por <a href=https://picodotdev.github.io/blog-bitix/2015/05/10-razones-para-seguir-usando-java/>mis preferencias y motivos para seguir usándolo</a> pero sería similar empleando cualquiera de los otros si prefirieses uno de ellos. El ejemplo <em>Main.java</em> es una aplicación que devuelve un mensaje en la URL <em>http://localhost:8080</em>, el ejemplo <em>Server.java</em> devuelve una cabecera y usa un <a href=http://vertx.io/docs/vertx-core/java/#_verticles>Verticle</a> y el tercero <em>Web.java</em> acepta un parámetro y usa una plantilla de <a href=https://www.thymeleaf.org/>Thymeleaf</a>, finalmente el archivo <em>build.gradle</em> contiene las dependencias necesarias para los tres ejemplos y la construcción del proyecto con <a href=https://gradle.org/>Gradle</a>.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;java&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;application&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;eclipse&#39;</span>

<span class=n>sourceCompatibility</span> <span class=o>=</span> <span class=s1>&#39;1.8&#39;</span>

<span class=c1>//mainClassName = &#39;io.github.picodotdev.blogbitix.vertx.helloworld.Main&#39;
</span><span class=c1>//mainClassName = &#39;io.github.picodotdev.blogbitix.vertx.helloworld.Server&#39;
</span><span class=c1></span><span class=n>mainClassName</span> <span class=o>=</span> <span class=s1>&#39;io.github.picodotdev.blogbitix.vertx.helloworld.Web&#39;</span>

<span class=kt>def</span> <span class=n>versions</span> <span class=o>=</span> <span class=o>[</span>
    <span class=nl>gradle:</span> <span class=s1>&#39;2.10&#39;</span><span class=o>,</span>
    <span class=nl>vertx:</span> <span class=s1>&#39;3.2.0&#39;</span><span class=o>,</span>
    <span class=nl>slf4j:</span> <span class=s1>&#39;1.7.13&#39;</span><span class=o>,</span>
    <span class=nl>junit:</span> <span class=s1>&#39;4.12&#39;</span>
<span class=o>]</span>

<span class=n>repositories</span> <span class=o>{</span>
    <span class=n>jcenter</span><span class=o>()</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=n>compile</span> <span class=s2>&#34;io.vertx:vertx-core:$versions.vertx&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;io.vertx:vertx-web:$versions.vertx&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;io.vertx:vertx-web-templ-thymeleaf:$versions.vertx&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.slf4j:slf4j-api:$versions.slf4j&#34;</span>

    <span class=n>testCompile</span> <span class=s2>&#34;junit:junit:$versions.junit&#34;</span>
<span class=o>}</span>

<span class=n>task</span> <span class=nf>wrapper</span><span class=o>(</span><span class=nl>type:</span> <span class=n>Wrapper</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>gradleVersion</span> <span class=o>=</span> <span class=n>versions</span><span class=o>.</span><span class=na>gradle</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/build.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/build.gradle target=_blank>build.gradle</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.vertx.helloworld</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>io.vertx.core.Vertx</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Vertx</span><span class=o>.</span><span class=na>vertx</span><span class=o>().</span><span class=na>createHttpServer</span><span class=o>().</span><span class=na>requestHandler</span><span class=o>(</span><span class=n>req</span> <span class=o>-&gt;</span> <span class=n>req</span><span class=o>.</span><span class=na>response</span><span class=o>().</span><span class=na>end</span><span class=o>(</span><span class=s>&#34;Hello World!&#34;</span><span class=o>)).</span><span class=na>listen</span><span class=o>(</span><span class=n>8080</span><span class=o>,</span> <span class=n>handler</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=k>if</span> <span class=o>(</span><span class=n>handler</span><span class=o>.</span><span class=na>succeeded</span><span class=o>())</span> <span class=o>{</span>
                <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Application starter, listening on http://localhost:8080/&#34;</span><span class=o>);</span>
            <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
                <span class=n>System</span><span class=o>.</span><span class=na>err</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Failed to start application&#34;</span><span class=o>);</span>
            <span class=o>}</span>
        <span class=o>});</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/Main.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/Main.java target=_blank>Main.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.vertx.helloworld</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>io.vertx.core.AbstractVerticle</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.core.Verticle</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.core.Vertx</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.ext.web.Router</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Server</span> <span class=kd>extends</span> <span class=n>AbstractVerticle</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Verticle</span> <span class=n>verticle</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Server</span><span class=o>();</span>
        <span class=n>Vertx</span><span class=o>.</span><span class=na>vertx</span><span class=o>().</span><span class=na>deployVerticle</span><span class=o>(</span><span class=n>verticle</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>start</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
        <span class=n>Router</span> <span class=n>router</span> <span class=o>=</span> <span class=n>Router</span><span class=o>.</span><span class=na>router</span><span class=o>(</span><span class=n>vertx</span><span class=o>);</span>

        <span class=n>router</span><span class=o>.</span><span class=na>route</span><span class=o>().</span><span class=na>handler</span><span class=o>(</span><span class=n>routingContext</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=n>routingContext</span><span class=o>.</span><span class=na>response</span><span class=o>().</span><span class=na>putHeader</span><span class=o>(</span><span class=s>&#34;content-type&#34;</span><span class=o>,</span> <span class=s>&#34;text/html&#34;</span><span class=o>).</span><span class=na>end</span><span class=o>(</span><span class=s>&#34;Hello World!&#34;</span><span class=o>);</span>
        <span class=o>});</span>

        <span class=n>vertx</span><span class=o>.</span><span class=na>createHttpServer</span><span class=o>().</span><span class=na>requestHandler</span><span class=o>(</span><span class=nl>router:</span><span class=o>:</span><span class=n>accept</span><span class=o>).</span><span class=na>listen</span><span class=o>(</span><span class=n>8080</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/Server.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/Server.java target=_blank>Server.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.vertx.helloworld</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>io.vertx.core.AbstractVerticle</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.core.Verticle</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.core.Vertx</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.ext.web.Router</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.ext.web.templ.TemplateEngine</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vertx.ext.web.templ.ThymeleafTemplateEngine</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Web</span> <span class=kd>extends</span> <span class=n>AbstractVerticle</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Verticle</span> <span class=n>verticle</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Web</span><span class=o>();</span>
        <span class=n>Vertx</span><span class=o>.</span><span class=na>vertx</span><span class=o>().</span><span class=na>deployVerticle</span><span class=o>(</span><span class=n>verticle</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>start</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
        <span class=n>Router</span> <span class=n>router</span> <span class=o>=</span> <span class=n>Router</span><span class=o>.</span><span class=na>router</span><span class=o>(</span><span class=n>vertx</span><span class=o>);</span>
        <span class=n>TemplateEngine</span> <span class=n>engine</span> <span class=o>=</span> <span class=n>ThymeleafTemplateEngine</span><span class=o>.</span><span class=na>create</span><span class=o>();</span>

        <span class=n>router</span><span class=o>.</span><span class=na>route</span><span class=o>().</span><span class=na>handler</span><span class=o>(</span><span class=n>ctx</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=n>String</span> <span class=n>name</span> <span class=o>=</span> <span class=n>ctx</span><span class=o>.</span><span class=na>request</span><span class=o>().</span><span class=na>getParam</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>);</span>
            <span class=n>ctx</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>,</span> <span class=n>name</span><span class=o>);</span>
            <span class=n>ctx</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=s>&#34;welcome&#34;</span><span class=o>,</span> <span class=o>(</span><span class=n>name</span> <span class=o>==</span> <span class=kc>null</span><span class=o>)</span> <span class=o>?</span> <span class=s>&#34;¡Hola mundo!&#34;</span> <span class=o>:</span> <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;¡Hola %s!&#34;</span><span class=o>,</span> <span class=n>name</span><span class=o>));</span>

            <span class=n>ctx</span><span class=o>.</span><span class=na>next</span><span class=o>();</span>
        <span class=o>});</span>

        <span class=n>router</span><span class=o>.</span><span class=na>route</span><span class=o>().</span><span class=na>handler</span><span class=o>(</span><span class=n>ctx</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=n>engine</span><span class=o>.</span><span class=na>render</span><span class=o>(</span><span class=n>ctx</span><span class=o>,</span> <span class=s>&#34;templates/index.html&#34;</span><span class=o>,</span> <span class=n>res</span> <span class=o>-&gt;</span> <span class=o>{</span>
                <span class=k>if</span> <span class=o>(</span><span class=n>res</span><span class=o>.</span><span class=na>succeeded</span><span class=o>())</span> <span class=o>{</span>
                    <span class=n>ctx</span><span class=o>.</span><span class=na>response</span><span class=o>().</span><span class=na>putHeader</span><span class=o>(</span><span class=s>&#34;Content-Type&#34;</span><span class=o>,</span> <span class=s>&#34;text/html; charset=utf-8&#34;</span><span class=o>);</span>
                    <span class=n>ctx</span><span class=o>.</span><span class=na>response</span><span class=o>().</span><span class=na>end</span><span class=o>(</span><span class=n>res</span><span class=o>.</span><span class=na>result</span><span class=o>());</span>
                <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
                    <span class=n>ctx</span><span class=o>.</span><span class=na>fail</span><span class=o>(</span><span class=n>res</span><span class=o>.</span><span class=na>cause</span><span class=o>());</span>
                <span class=o>}</span>
            <span class=o>});</span>
        <span class=o>});</span>

        <span class=n>vertx</span><span class=o>.</span><span class=na>createHttpServer</span><span class=o>().</span><span class=na>requestHandler</span><span class=o>(</span><span class=nl>router:</span><span class=o>:</span><span class=n>accept</span><span class=o>).</span><span class=na>listen</span><span class=o>(</span><span class=n>8080</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/Web.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/01/introduccion-y-ejemplo-basico-sobre-vertx/code/Web.java target=_blank>Web.java</a></div></div><p>La documentación de cada módulo de Vert.x está bastante bien y explicada en los diferentes lenguajes que soporta. Si la documentación no nos es suficiente en el <a href=https://github.com/vert-x3/vertx-examples>repositorio de ejemplos</a> veremos el código fuente completo de diversas funcionalidades.</p><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/HolaMundoVertx>código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href=https://github.com/>GitHub</a> y probarlo en tu equipo ejecutando el comando <code>./gradlew run</code>.</p><div class=reference>Referencia:<br><ul><li><a href=https://picodotdev.github.io/blog-bitix/2015/05/10-razones-para-seguir-usando-java/>10 razones para seguir usando Java</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/05/alternativa-a-hibernate-u-orm-y-ejemplo-de-jooq/>Alternativa a Hibernate u ORM y ejemplo de jOOQ</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/10/multiples-esquemas-o-bases-de-datos-con-jooq-y-spring-en-java/>Múltiples esquemas o bases de datos con jOOQ y Spring en Java</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/11/obtener-datos-de-multiples-tablas-con-jooq/>Obtener datos de múltiples tablas con jOOQ</a></li><li><a href=http://elblogdepicodev.blogspot.com.es/2012/03/herramienta-de-construccion-gradle.html>Herramienta de construcción Gradle</a></li><li><a href=http://elblogdepicodev.blogspot.com.es/2012/04/usar-gradle-mediante-gradle-wrapper.html>Usar Gradle mediante Gradle wrapper</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/09/ejemplo-de-multiproyecto-con-gradle/>Ejemplo de multiproyecto con Gradle</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2016/01/aplicacion-web-con-spark-framework-y-java/>Aplicación web con Spark <em>framework</em> y Java</a></li></ul></div></div></article></div></div><div class="row related"><div class=col-md-12><h3>Artículos relacionados:</h3><ul><li><a href=/blog-bitix/2016/01/hemeroteca-8/>Hemeroteca #8</a></li><li><a href=/blog-bitix/2015/12/publicado-apache-tapestry-5-4/>Publicado Apache Tapestry 5.4</a></li><li><a href=/blog-bitix/2015/12/informacion-y-metricas-de-la-aplicacion-con-spring-boot-actuator/>Información y métricas de la aplicación con Spring Boot Actuator</a></li><li><a href=/blog-bitix/2015/11/configuracion-de-una-aplicacion-en-diferentes-entornos-con-spring-cloud-config/>Configuración de una aplicación en diferentes entornos con Spring Cloud Config</a></li><li><a href=/blog-bitix/2015/11/validar-objetos-con-spring-validation-ejemplo-registros-de-jooq/>Validar objetos con Spring Validation, ejemplo registros de jOOQ</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class=col-12><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2016\/01\/introduccion-y-ejemplo-basico-sobre-vertx\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2016\/01\/introduccion-y-ejemplo-basico-sobre-vertx\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div><div class="col-12 col-lg-4"><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:300px;height:600px data-ad-client=ca-pub-3533636310991304 data-ad-slot=9559414587 data-type=large-skycraper></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:336px;height:280px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2873752587 data-type=large-rectangle></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class="row text-center banner"><div class=col-12><a href=https://picodotdev.github.io/blog-bitix/2015/12/yo-apoyo-al-software-libre-tu-tambien/><img src=//static.fsf.org/nosvn/images/badges/badges_es/i-support-fs_red-bg-es.png alt="Yo apoyo al software libre"></a></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row><div class=col-md-12><ul class="list-unstyled recents"><li><span class="glyphicon glyphicon-hand-right"></span><a href=archive/>Más artículos recientes en el archivo</a></li></ul></div></div></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property=dct:title><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property=cc:attributionName rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
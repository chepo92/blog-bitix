<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=picodotdev><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Por regla general en Java cada clase se define en su propio archivo de código fuente, pdor ejemplo, una clase de nombre Order se ha de definir en el archivo Order.java. Sin embargo, esta no es la única forma de definir clases, es posible definir clases inner y anónimas que evita tener que crear un nuevo archivo de código fuente.
Las clases inner se definen dentro de otra clase cuando esa clase inner tiene alta cohesión (su lógica está muy relacionada con la clase que la contiene), en algunos casos se emplean para ocultar los tipos que implementan la lógica. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Las clases anidadas inner, anónimas y locales en Java</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href="//fonts.googleapis.com/css?family=PT+Serif:400,400i,700"><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.2.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript defer>var require={baseUrl:'assets',paths:{'jquery':'libs/jquery.slim.min','bootstrap':'libs/bootstrap-4.2.1/js/bootstrap.min','blueimp-helper':'libs/Gallery-2.33.0/js/blueimp-helper','blueimp-gallery':'libs/Gallery-2.33.0/js/blueimp-gallery','blueimp-gallery-indicator':'libs/Gallery-2.33.0/js/blueimp-gallery-indicator','blueimp-gallery-video':'libs/Gallery-2.33.0/js/blueimp-gallery-video','blueimp-gallery-vimeo':'libs/Gallery-2.33.0/js/blueimp-gallery-vimeo','blueimp-gallery-youtube':'libs/Gallery-2.33.0/js/blueimp-gallery-youtube','jquery-blueimp-gallery':'libs/Gallery-2.33.0/js/jquery.blueimp-gallery'},shim:{'jquery':{exports:'jquery'},'blueimp-gallery':{exports:'blueimp'}}};</script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class=col-12><div class="adblock-sidebar adblock-sidebar-right"><div><ins class=adsbygoogle style=display:inline-block;width:300px;height:600px data-ad-client=ca-pub-3533636310991304 data-ad-slot=9559414587 data-type=large-skycraper></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><ins class=adsbygoogle style=display:inline-block;width:336px;height:280px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2873752587 data-type=large-rectangle></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content=es><meta itemprop=keywords content="java, planeta-codigo, programacion"><h1 itemprop=name>Las clases anidadas inner, anónimas y locales en Java</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2019-02-15>15/02/2019</time>.<br><a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a><br><a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/#comments>Comentarios</a></p><div class=ad><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><div class=content itemprop=articleBody><meta itemprop=wordCount content=807><div class=logotypes style=float:right><img src=assets/images/logotipos/java.svg class=right width=200 alt=Java title=Java></div><p>Por regla general en Java cada clase se define en su propio archivo de código fuente, pdor ejemplo, una clase de nombre <em>Order</em> se ha de definir en el archivo <em>Order.java</em>. Sin embargo, esta no es la única forma de definir clases, es posible definir clases <em>inner</em> y anónimas que evita tener que crear un nuevo archivo de código fuente.</p><p>Las clases <em>inner</em> se definen dentro de otra clase cuando esa clase <em>inner</em> tiene alta cohesión (su lógica está muy relacionada con la clase que la contiene), en algunos casos se emplean para ocultar los tipos que implementan la lógica. Dependiendo de si la clase <em>inner</em> debe acceder a los datos de la clase que la contiene o no la clase <em>inner</em> se define como no estática o como estática con la palabra reservada <em>static</em>. Las clases <em>inner</em> estáticas no necesitan una referencia a la clase que la contiene y por ello son algo más eficientes y el método preferido de definirlas, si la clase <em>inner</em> debe acceder a los miembros de la clase contenedora hay que definirla como no estática. Para desambiguar la referencia <em>this</em> y miembros con el mismo nombre de la clase <em>inner</em> con la de la clase contenedora se puede utilizar en el ejemplo <em>Order.this.products</em> quitando los <em>static</em> de las clases.</p><p>Las clases anónimas pueden definirse en la misma línea de código donde se declara su referencia, se denominan anónimas porque no se les asigna un nombre como en el ejemplo es el caso de la clase calculadora de precio para el descuento del más barato gratis.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.javainnerclasses</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.math.BigDecimal</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Product</span> <span class=kd>implements</span> <span class=n>Comparable</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=o>{</span>

    <span class=kd>private</span> <span class=n>BigDecimal</span> <span class=n>price</span><span class=o>;</span>

    <span class=kd>public</span> <span class=nf>Product</span><span class=o>(</span><span class=n>BigDecimal</span> <span class=n>price</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>price</span> <span class=o>=</span> <span class=n>price</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>BigDecimal</span> <span class=nf>getPrice</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>price</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>compareTo</span><span class=o>(</span><span class=n>Product</span> <span class=n>o</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>price</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>o</span><span class=o>.</span><span class=na>getPrice</span><span class=o>());</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/Product.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/Product.java target=_blank>Product.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.javainnerclasses</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Collection</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.math.BigDecimal</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.stream.Collectors</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Order</span> <span class=o>{</span>

    <span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span><span class=o>;</span>

    <span class=c1>// Inner
</span><span class=c1></span>    <span class=kd>public</span> <span class=kd>enum</span> <span class=n>Discount</span> <span class=o>{</span>
        <span class=n>NORMAL</span><span class=o>,</span> <span class=n>DISCOUNT_10</span><span class=o>,</span> <span class=n>CHEAPEST_FREE</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=nf>Order</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>this</span><span class=o>.</span><span class=na>products</span> <span class=o>=</span> <span class=n>products</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=n>BigDecimal</span> <span class=nf>calculatePrice</span><span class=o>(</span><span class=n>Discount</span> <span class=n>discount</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>PriceCalculatorFactory</span><span class=o>().</span><span class=na>getInstance</span><span class=o>(</span><span class=n>discount</span><span class=o>).</span><span class=na>calculate</span><span class=o>(</span><span class=n>products</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=c1>// Inner static
</span><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>class</span> <span class=nc>PriceCalculatorFactory</span> <span class=o>{</span>
        <span class=n>PriceCalculator</span> <span class=nf>getInstance</span><span class=o>(</span><span class=n>Discount</span> <span class=n>discount</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>switch</span> <span class=o>(</span><span class=n>discount</span><span class=o>)</span> <span class=o>{</span>
                <span class=k>case</span> <span class=nl>DISCOUNT_10:</span>
                    <span class=k>return</span> <span class=k>new</span> <span class=n>DiscountCalculator</span><span class=o>(</span><span class=k>new</span> <span class=n>BigDecimal</span><span class=o>(</span><span class=s>&#34;0.90&#34;</span><span class=o>));</span>                    
                <span class=k>case</span> <span class=nl>CHEAPEST_FREE:</span>
                    <span class=c1>// Anonymous
</span><span class=c1></span>                    <span class=k>return</span> <span class=k>new</span> <span class=n>NormalCalculator</span><span class=o>()</span> <span class=o>{</span>
                        <span class=nd>@Override</span>
                        <span class=n>BigDecimal</span> <span class=nf>calculate</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span><span class=o>)</span> <span class=o>{</span>
                            <span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>paid</span> <span class=o>=</span> <span class=n>products</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>sorted</span><span class=o>().</span><span class=na>skip</span><span class=o>(</span><span class=n>1</span><span class=o>).</span><span class=na>collect</span><span class=o>(</span><span class=n>Collectors</span><span class=o>.</span><span class=na>toList</span><span class=o>());</span>
                            <span class=k>return</span> <span class=kd>super</span><span class=o>.</span><span class=na>calculate</span><span class=o>(</span><span class=n>paid</span><span class=o>);</span>
                        <span class=o>}</span>
                    <span class=o>};</span>
                <span class=k>case</span> <span class=nl>NORMAL:
</span><span class=nl>                default:</span>
                  <span class=k>return</span> <span class=k>new</span> <span class=n>NormalCalculator</span><span class=o>();</span>
            <span class=o>}</span>
        <span class=o>}</span>
    <span class=o>}</span>

    <span class=c1>// Inner static
</span><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>PriceCalculator</span> <span class=o>{</span>
        <span class=kd>abstract</span> <span class=n>BigDecimal</span> <span class=nf>calculate</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=c1>// Inner static
</span><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>class</span> <span class=nc>NormalCalculator</span> <span class=kd>extends</span> <span class=n>PriceCalculator</span> <span class=o>{</span>

        <span class=nd>@Override</span>
        <span class=n>BigDecimal</span> <span class=nf>calculate</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>return</span> <span class=n>products</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>map</span><span class=o>(</span><span class=n>i</span> <span class=o>-&gt;</span> <span class=n>i</span><span class=o>.</span><span class=na>getPrice</span><span class=o>()).</span><span class=na>reduce</span><span class=o>(</span><span class=k>new</span> <span class=n>BigDecimal</span><span class=o>(</span><span class=s>&#34;0.00&#34;</span><span class=o>),</span> <span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=o>{</span> <span class=k>return</span> <span class=n>a</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>b</span><span class=o>);</span> <span class=o>});</span>
        <span class=o>}</span>
    <span class=o>}</span>

    <span class=c1>// Inner static
</span><span class=c1></span>    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>class</span> <span class=nc>DiscountCalculator</span> <span class=kd>extends</span> <span class=n>PriceCalculator</span> <span class=o>{</span>

        <span class=kd>private</span> <span class=n>BigDecimal</span> <span class=n>discount</span><span class=o>;</span>

        <span class=kd>public</span> <span class=nf>DiscountCalculator</span><span class=o>(</span><span class=n>BigDecimal</span> <span class=n>discount</span><span class=o>)</span> <span class=o>{</span>
            <span class=k>this</span><span class=o>.</span><span class=na>discount</span> <span class=o>=</span> <span class=n>discount</span><span class=o>;</span>
        <span class=o>}</span>

        <span class=nd>@Override</span>
        <span class=n>BigDecimal</span> <span class=nf>calculate</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>PriceCalculator</span> <span class=n>calculator</span> <span class=o>=</span> <span class=k>new</span> <span class=n>NormalCalculator</span><span class=o>();</span>
            <span class=k>return</span> <span class=n>calculator</span><span class=o>.</span><span class=na>calculate</span><span class=o>(</span><span class=n>products</span><span class=o>).</span><span class=na>multiply</span><span class=o>(</span><span class=n>discount</span><span class=o>);</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/Order.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/Order.java target=_blank>Order.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.javainnerclasses</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.util.Collection</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.math.BigDecimal</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.text.DecimalFormat</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>Collection</span><span class=o>&lt;</span><span class=n>Product</span><span class=o>&gt;</span> <span class=n>products</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
        <span class=n>products</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Product</span><span class=o>(</span><span class=k>new</span> <span class=n>BigDecimal</span><span class=o>(</span><span class=s>&#34;5.0&#34;</span><span class=o>)));</span>
        <span class=n>products</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Product</span><span class=o>(</span><span class=k>new</span> <span class=n>BigDecimal</span><span class=o>(</span><span class=s>&#34;10.0&#34;</span><span class=o>)));</span>
        <span class=n>products</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Product</span><span class=o>(</span><span class=k>new</span> <span class=n>BigDecimal</span><span class=o>(</span><span class=s>&#34;15.0&#34;</span><span class=o>)));</span>
        <span class=n>Order</span> <span class=n>order</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Order</span><span class=o>(</span><span class=n>products</span><span class=o>);</span>

        <span class=n>DecimalFormat</span> <span class=n>df</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DecimalFormat</span><span class=o>(</span><span class=s>&#34;#,###.00&#34;</span><span class=o>);</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Price (normal): %s%n&#34;</span><span class=o>,</span> <span class=n>df</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>order</span><span class=o>.</span><span class=na>calculatePrice</span><span class=o>(</span><span class=n>Order</span><span class=o>.</span><span class=na>Discount</span><span class=o>.</span><span class=na>NORMAL</span><span class=o>)));</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Price (discount 10%%): %s%n&#34;</span><span class=o>,</span> <span class=n>df</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>order</span><span class=o>.</span><span class=na>calculatePrice</span><span class=o>(</span><span class=n>Order</span><span class=o>.</span><span class=na>Discount</span><span class=o>.</span><span class=na>DISCOUNT_10</span><span class=o>)));</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Price (chapest free): %s%n&#34;</span><span class=o>,</span> <span class=n>df</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=n>order</span><span class=o>.</span><span class=na>calculatePrice</span><span class=o>(</span><span class=n>Order</span><span class=o>.</span><span class=na>Discount</span><span class=o>.</span><span class=na>CHEAPEST_FREE</span><span class=o>)));</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/Main.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/Main.java target=_blank>Main.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext>Price (normal): 30,00
Price (discount 10%): 27,00
Price (chapest free): 25,00</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/System.out target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/02/las-clases-anidadas-inner-anonimas-y-locales-en-java/code/System.out target=_blank>System.out</a></div></div><p>Para los programadores en Java seguramente esto de las clases <em>inner</em> y anónimas no es nada nuevo pero ¿conoces las clases locales? Dentro de un método también se puede definir una clase, llamada por ello local. Las clases locales no son habituales y para su uso su funcionalidad ha de estar altamente cohesionado con el método, un posible uso es para realizar validaciones o formateos que sean un poco complejos. El siguiente <a href=https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html>ejemplo de clase local</a> <em>PhoneNumber</em> muestra su uso.</p><p>En la <a href=http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html>sección de clases anidadas</a> o <em>nested classes</em> del <a href=http://docs.oracle.com/javase/tutorial/java/javaOO/index.html>tutorial sobre clases y objetos</a> se explica más detalladamente estas capacidades del lenguaje Java.</p><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/JavaInnerClasses>código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href=https://github.com/>GitHub</a> y probarlo en tu equipo ejecutando el comando <code>./gradlew run</code>.</p></div></article><div class="row related"><div class=col-md-12>Artículos relacionados:<ul><li><a href=/blog-bitix/2019/02/ofuscar-datos-sensibles-en-las-trazas-con-log4j/>Ofuscar datos sensibles en las trazas con Log4j</a></li><li><a href=/blog-bitix/2019/02/servidor-oauth-gateway-y-servicio-rest-utilizando-tokens-jwt-con-spring/>Servidor OAuth, gateway y servicio REST utilizando tokens JWT con Spring</a></li><li><a href=/blog-bitix/2019/02/convertir-un-json-a-objetos-y-objetos-a-json-con-json-b-gson-y-jackson-en-java/>Convertir un JSON a objetos y objetos a JSON con JSON-B, Gson y Jackson en Java</a></li><li><a href=/blog-bitix/2019/01/usar-expresiones-jsonpath-para-extraer-datos-de-un-json-en-java/>Usar expresiones JSONPath para extraer datos de un JSON en Java</a></li><li><a href=/blog-bitix/2019/01/reproducir-audio-y-musica-midi-y-sampled-wav-mp3-ogg-con-java-y-ffmpeg/>Reproducir audio y música MIDI y sampled (wav, mp3, ogg) con Java y FFmpeg</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class="col-12 ad"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2019\/02\/las-clases-anidadas-inner-anonimas-y-locales-en-java\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2019\/02\/las-clases-anidadas-inner-anonimas-y-locales-en-java\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property=dct:title><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property=cc:attributionName rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
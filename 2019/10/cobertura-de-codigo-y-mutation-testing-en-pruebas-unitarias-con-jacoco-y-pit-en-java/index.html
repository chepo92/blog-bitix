<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="picodotdev"><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="En el caso extremo una cobertura de código del cien por cien pero que no tenga ningún assert pasa los teses pero que en realidad no comprueba nada así que por si sola no es garantía de tener teses efectivos. Mutation testing da una medida adicional a la cobertura de los teses más completa y efectiva que simplemente la cobertura de código ejecutado por los teses unitarios. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Cobertura de código y mutation testing en pruebas unitarias con JaCoCo y PIT en Java</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href=assets/css/font.css><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.3.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script type=text/javascript src=assets/js/require-config.js data-main=js/main defer></script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col-12><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><div class=row><div class=col-12><div class="adblock-sidebar adblock-sidebar-right"><div class=adblock-sidebar-container><ins class="adsbygoogle adblock-sidebar-vertical" style=display:block data-ad-client=ca-pub-3533636310991304 data-ad-slot=9933840986 data-ad-format="vertical, rectangle" data-type=auto></ins></div></div><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content="es"><meta itemprop=keywords content="java, planeta-codigo, programacion"><h1 itemprop=name>Cobertura de código y mutation testing en pruebas unitarias con JaCoCo y PIT en Java</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2019-10-25>25/10/2019</time>.<br><a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a><br><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/#comments>Comentarios</a></p><p class=summary itemprop=about>En el caso extremo una cobertura de código del cien por cien pero que no tenga ningún <em>assert</em> pasa los teses pero que en realidad no comprueba nada así que por si sola no es garantía de tener teses efectivos. <em>Mutation testing</em> da una medida adicional a la cobertura de los teses más completa y efectiva que simplemente la cobertura de código ejecutado por los teses unitarios.</p><div><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins></div><div class=content itemprop=articleBody><meta itemprop=wordCount content="1502"><div class=logotypes style=float:right><img src=assets/images/logotipos/java.svg class=right width=200 alt=Java title=Java></div><p>Una medida que se suele emplear para medir la calidad o efectividad de los teses unitarios es su cobertura de código que consiste en la cantidad de código ejercitado del total por las pruebas unitarias con los casos de prueba y <em>fixtures</em> empleados. Sin embargo, la cobertura de código no es una medida fiable para conocer si los casos de prueba empleados son precisos y completos. La cobertura de código puede seguir siendo del cien por cien si se sustituye un un mayor que por un mayor que e igual o faltan casos de prueba que ejerciten los límites de las condiciones, los teses seguirán siendo correctos.</p><p>Para complementar la cobertura de código y obtener una medida de la precisión y completitud de los teses se emplea <em>mutation testing</em>. Esta forma de pruebas analiza el código, realiza operaciones de mutación en el código y posteriormente ejecuta las pruebas contra el código mutado y genera un resultado en el que indica cuáles de las mutaciones realizadas ha sobrevivido pasando todos los teses o cuantas mutaciones han muerto porque los teses han fallado, si alguna mutación sobrevive los teses no son precisos y completos al cien por cien.</p><p><a href=https://pitest.org/>PIT</a> es una librería que permite realizar <em>mutation testing</em> en Java. Las <a href=https://pitest.org/quickstart/mutators/>operaciones de mutación</a> que realiza en el código pueden ser en los condicionales, incrementos, invertir negativos, matemáticas, negar condicionales, cambiar los valores de retorno o eliminar llamadas a métodos sin retorno. Un ejemplo de mutaciones son realizar mutaciones en los límites de comparaciones, cambiando un <em>&lt;</em> por un <em>&lt;=</em> y comprobar si con operador mutado la mutación sobrevive pasando todos los teses.</p><table class=table><thead class=thead-light><tr class=thead-light><th>Original</td><th>Mutación</td></tr></thead><tbody><tr><td><</td><td><=</td></tr><tr><td><=</td><td><</td></tr><tr><td>></td><td>>=</td></tr><tr><td>>=</td><td>></td></tr></tbody></table><p>En siguiente ejemplo, la clase <em>TicketPriceCalculator</em> calcula el precio de los billetes de un grupo de viajeros. La lógica del calculador de precios determina el precio en función de la edad de los pasajeros y de si cumplen la condición de familia se les aplica un descuento.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nf>io</span><span class=p>.</span><span class=na>github</span><span class=p>.</span><span class=na>picodotdev</span><span class=p>.</span><span class=na>blogbitix</span><span class=p>.</span><span class=na>mutationtesting</span><span class=p>;</span>

<span class=kd>public</span> <span class=nf>class</span> <span class=n>Passenger</span> <span class=p>{</span>

    <span class=kd>private</span> <span class=nf>int</span> <span class=n>age</span><span class=p>;</span>

    <span class=kd>public</span> <span class=nf>Passenger</span><span class=p>(</span><span class=kt>int</span> <span class=nf>age</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=na>age</span> <span class=o>=</span> <span class=n>age</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>int</span> <span class=n>getAge</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>age</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/Passenger.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/Passenger.java target=_blank>Passenger.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nf>io</span><span class=p>.</span><span class=na>github</span><span class=p>.</span><span class=na>picodotdev</span><span class=p>.</span><span class=na>blogbitix</span><span class=p>.</span><span class=na>mutationtesting</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>List</span><span class=p>;</span>

<span class=kd>public</span> <span class=nf>class</span> <span class=n>TicketPriceCalculator</span> <span class=p>{</span>

    <span class=kd>public</span> <span class=nf>static</span> <span class=kt>double</span> <span class=nf>FAMILY_DISCOUNT</span> <span class=o>=</span> <span class=n>0</span><span class=p>.</span><span class=na>05</span><span class=p>;</span>

    <span class=kd>private</span> <span class=nf>static</span> <span class=kt>int</span> <span class=nf>ADULT_AGE</span> <span class=o>=</span> <span class=n>18</span><span class=p>;</span>
    <span class=kd>private</span> <span class=nf>static</span> <span class=kt>int</span> <span class=nf>FREE_TICKET_AGE_BELOW</span> <span class=o>=</span> <span class=n>3</span><span class=p>;</span>

    <span class=kd>public</span> <span class=nf>double</span> <span class=n>calculatePrice</span><span class=p>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span><span class=p>,</span> <span class=kt>int</span> <span class=nf>adultTicketPrice</span><span class=p>,</span> <span class=kt>int</span> <span class=nf>childTicketPrice</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>countAdults</span><span class=p>(</span><span class=n>passengers</span><span class=p>)</span> <span class=o>*</span> <span class=n>adultTicketPrice</span> <span class=o>+</span> <span class=n>countChildrens</span><span class=p>(</span><span class=n>passengers</span><span class=p>)</span> <span class=o>*</span> <span class=n>childTicketPrice</span><span class=p>;</span>
        <span class=kt>double</span> <span class=nf>discount</span> <span class=o>=</span> <span class=p>(</span><span class=n>isFamily</span><span class=p>(</span><span class=n>passengers</span><span class=p>))</span> <span class=o>?</span> <span class=n>FAMILY_DISCOUNT</span> <span class=o>:</span> <span class=n>0d</span><span class=p>;</span>
        <span class=k>return</span> <span class=n>price</span> <span class=o>*</span> <span class=p>(</span><span class=n>1</span> <span class=o>-</span> <span class=n>discount</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=kd>private</span> <span class=nf>long</span> <span class=n>countAdults</span><span class=p>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>passengers</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>filter</span><span class=p>(</span><span class=k>this</span><span class=o>::</span><span class=n>isAdult</span><span class=p>).</span><span class=na>count</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=kd>private</span> <span class=nf>long</span> <span class=n>countChildrens</span><span class=p>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>passengers</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>filter</span><span class=p>(</span><span class=k>this</span><span class=o>::</span><span class=n>isChildren</span><span class=p>).</span><span class=na>count</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=kd>private</span> <span class=nf>boolean</span> <span class=n>isAdult</span><span class=p>(</span><span class=n>Passenger</span> <span class=nf>passenger</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>passenger</span><span class=p>.</span><span class=na>getAge</span><span class=p>()</span> <span class=o>&gt;</span> <span class=n>ADULT_AGE</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>private</span> <span class=nf>boolean</span> <span class=n>isChildren</span><span class=p>(</span><span class=n>Passenger</span> <span class=nf>passenger</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>passenger</span><span class=p>.</span><span class=na>getAge</span><span class=p>()</span> <span class=o>&gt;</span> <span class=n>FREE_TICKET_AGE_BELOW</span> <span class=o>&amp;&amp;</span> <span class=n>passenger</span><span class=p>.</span><span class=na>getAge</span><span class=p>()</span> <span class=o>&lt;=</span> <span class=n>ADULT_AGE</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>private</span> <span class=nf>boolean</span> <span class=n>isFamily</span><span class=p>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>countAdults</span><span class=p>(</span><span class=n>passengers</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>2</span> <span class=o>&amp;&amp;</span> <span class=n>countChildrens</span><span class=p>(</span><span class=n>passengers</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>2</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/TicketPriceCalculator.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/TicketPriceCalculator.java target=_blank>TicketPriceCalculator.java</a></div></div><p>La siguiente batería de teses proporciona una cobertura de teses del cien por cien tanto para la cobertura del código como para las mutaciones como se muestran en los informes de <a href=https://www.jacoco.org/jacoco/>JaCoCo</a> para la cobertura de código y de PIT para la cobertura de mutaciones, después de haber realizado cambios tanto en el código como en los teses para obtener estos resultados.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span><span class=lnt>96
</span><span class=lnt>97
</span><span class=lnt>98
</span><span class=lnt>99
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nf>io</span><span class=p>.</span><span class=na>github</span><span class=p>.</span><span class=na>picodotdev</span><span class=p>.</span><span class=na>blogbitix</span><span class=p>.</span><span class=na>mutationtesting</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>org</span><span class=p>.</span><span class=na>junit</span><span class=p>.</span><span class=na>jupiter</span><span class=p>.</span><span class=na>api</span><span class=p>.</span><span class=na>BeforeEach</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>org</span><span class=p>.</span><span class=na>junit</span><span class=p>.</span><span class=na>jupiter</span><span class=p>.</span><span class=na>api</span><span class=p>.</span><span class=na>Test</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>ArrayList</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>List</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>org</span><span class=p>.</span><span class=na>junit</span><span class=p>.</span><span class=na>jupiter</span><span class=p>.</span><span class=na>api</span><span class=p>.</span><span class=na>Assertions</span><span class=p>;</span>

<span class=kd>public</span> <span class=nf>class</span> <span class=n>TicketPriceCalculatorTest</span> <span class=p>{</span>

    <span class=kd>private</span> <span class=nf>static</span> <span class=kt>int</span> <span class=nf>ADULT_TICKET_PRICE</span> <span class=o>=</span> <span class=n>40</span><span class=p>;</span>
    <span class=kd>private</span> <span class=nf>static</span> <span class=kt>int</span> <span class=nf>CHILD_TICKER_PRICE</span> <span class=o>=</span> <span class=n>20</span><span class=p>;</span>

    <span class=kd>private</span> <span class=nf>TicketPriceCalculator</span> <span class=n>calculator</span><span class=p>;</span>

    <span class=nd>@BeforeEach</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>before</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>calculator</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TicketPriceCalculator</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForOneAdult</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>passenger</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>20</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>passenger</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>(</span><span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForChild</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>15</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>(</span><span class=n>CHILD_TICKER_PRICE</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForFamily</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>adultPassenger1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>20</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>adultPassenger2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>20</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>12</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger4</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>4</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>adultPassenger1</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>adultPassenger2</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger3</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger4</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>((</span><span class=n>2</span> <span class=o>*</span> <span class=n>ADULT_TICKET_PRICE</span> <span class=o>+</span> <span class=n>2</span> <span class=o>*</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>1</span> <span class=o>-</span> <span class=n>TicketPriceCalculator</span><span class=p>.</span><span class=na>FAMILY_DISCOUNT</span><span class=p>),</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForNoFamilyByNoAdults</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>adultPassenger1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>20</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>12</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>4</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>adultPassenger1</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger2</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger3</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>(</span><span class=n>1</span> <span class=o>*</span> <span class=n>ADULT_TICKET_PRICE</span> <span class=o>+</span> <span class=n>2</span> <span class=o>*</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForNoFamilyByNoChildren</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>adultPassenger1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>20</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>adultPassenger2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>20</span><span class=p>);</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>12</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>adultPassenger1</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>adultPassenger2</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger3</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>(</span><span class=n>2</span> <span class=o>*</span> <span class=n>ADULT_TICKET_PRICE</span> <span class=o>+</span> <span class=n>1</span> <span class=o>*</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForChildNarrowCase</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>18</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>(</span><span class=n>CHILD_TICKER_PRICE</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=nd>@Test</span>
    <span class=kd>public</span> <span class=nf>void</span> <span class=n>calculatePriceForFreeTicketNarrowCase</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>Passenger</span><span class=o>&gt;</span> <span class=nf>passengers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>Passenger</span> <span class=nf>childPassenger</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Passenger</span><span class=p>(</span><span class=n>3</span><span class=p>);</span>
        <span class=n>passengers</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>childPassenger</span><span class=p>);</span>
        <span class=kt>double</span> <span class=nf>price</span> <span class=o>=</span> <span class=n>calculator</span><span class=p>.</span><span class=na>calculatePrice</span><span class=p>(</span><span class=n>passengers</span><span class=p>,</span> <span class=n>ADULT_TICKET_PRICE</span><span class=p>,</span> <span class=n>CHILD_TICKER_PRICE</span><span class=p>);</span>
        <span class=n>Assertions</span><span class=p>.</span><span class=na>assertEquals</span><span class=p>(</span><span class=n>0</span><span class=p>,</span> <span class=n>price</span><span class=p>,</span> <span class=n>0</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/TicketPriceCalculatorTest.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/TicketPriceCalculatorTest.java target=_blank>TicketPriceCalculatorTest.java</a></div></div><p>Sin los casos de prueba <em>calculatePriceForChildNarrowCase</em> y <em>calculatePriceForFreeTicketNarrowCase</em> los teses son correctos, pero si PIT con una edad de 16 realiza una operación de mutación cambiando los límites de la condición de _passenger.getAge() &gt; FREE_TICKET_AGE_BELOW &amp;&amp; passenger.getAge() &lt;= ADULT<em>AGE</em>, la mutación de <em>&lt;=</em> a &lt;_ sobrevive, esto inidica que los teses y casos de prueba no son totalmente precisos. Para que esta mutación no sobreviva hay que añadir estos dos teses que se encargan de comprobar los límites de las condiciones. El valor del caso de prueba que se debe utilizar es el valor del límite a partir del cual una persona se considera adulta, es un niño si su edad está comprendida a partir de <em>3</em> y menor e igual que 18.</p><div class=media style=text-align:center><figure><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/tests-report-correct_hudfa2824e897c832daa3422dc61ca87ee_72370_2560x1440_fit_box_2.png title="Informe de teses correcto" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/tests-report-correct_hudfa2824e897c832daa3422dc61ca87ee_72370_200x150_fit_box_2.png width=200></a>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-fail-1_huc87b333b8163dd48d413586ff70d46c5_63283_2560x1440_fit_box_2.png title="Informe de PIT incorrecto" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-fail-1_huc87b333b8163dd48d413586ff70d46c5_63283_200x150_fit_box_2.png width=200></a>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-fail-2_hue8106a2384d04ebad9196eeb31e603f2_237003_2560x1440_fit_box_2.png title="Informe de PIT incorrecto" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-fail-2_hue8106a2384d04ebad9196eeb31e603f2_237003_200x150_fit_box_2.png width=132></a><figcaption>Informe de teses correcto y de PIT incorrecto</figcaption></figure></div><p>El caso de prueba <em>calculatePriceForFamily</em> prueba que una familia esté formada por 2 adultos y 2 menores, PIT realiza las mutaciones para considerar una familia en el caso de ser de 3 adultos o 3 menores, la prueba de <em>calculatePriceForFamily</em> mata estas mutaciones haciendo que los teses sean precisos y completos. La cobertura de teses de mutación llega al cien por cien. En el informe de PIT se observa una descripción y número de mutaciones que ha realizado entre ellas divisiones en vez de multiplicaciones, substracciones en vez de sumas, reemplazo de valores de retorno o cambios y negaciones en condicionales. Los teses <em>calculatePriceForNoFamilyByNoAdults</em> y <em>calculatePriceForNoFamilyByNoChildren</em> completan la cobertura de todas las ramas del método <em>isFamily</em>.</p><div class=media style=text-align:center><figure><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/tests-report_hufec17cc4e9dd255f30d3fdc08fdfc383_81444_2560x1440_fit_box_2.png title="Informe de pruebas de JUnit" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/tests-report_hufec17cc4e9dd255f30d3fdc08fdfc383_81444_300x200_fit_box_2.png width=300></a>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/jacoco-report_hu13af5fdf566d7237e195bc887d161ecb_71552_2560x1440_fit_box_2.png title="Informe de cobertura de JaCoCo" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/jacoco-report_hu13af5fdf566d7237e195bc887d161ecb_71552_300x200_fit_box_2.png width=300></a></figure><figure><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-1_huc87b333b8163dd48d413586ff70d46c5_61675_2560x1440_fit_box_2.png title="Informe de mutación de PIT" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-1_huc87b333b8163dd48d413586ff70d46c5_61675_300x200_fit_box_2.png width=300></a>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-2_hue8106a2384d04ebad9196eeb31e603f2_235712_2560x1440_fit_box_2.png title="Informe de mutación de PIT" data-gallery><img src=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/images/pit-report-2_hue8106a2384d04ebad9196eeb31e603f2_235712_300x200_fit_box_2.png width=176></a><figcaption>Informe de pruebas de JUnit, de cobertura de JaCoCo y de mutación de PIT</figcaption></figure></div><p>Para generar los informes de cobertura de código y de mutación en Java y usando <a href=https://gradle.org/>Gradle</a> como herramienta de construcción las herramientas JaCoCo y PIT proporcionan un complemento o <em>plugin</em> que hay que añadir al archivo de construcción además de proporcionar algunas opciones de configuración en la sección <em>pitest</em>, entre estas propiedades está <em>mutators</em> en la que se puede indicar los <em>mutators</em> que PIT emplea para lanzar los teses con mutaciones. Los informes se generan en el directorio <em>build/reports/</em>. Realizar <em>mutation testing</em> solo requiere cierta configuración en el archivo de construcción del proyecto.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=n>buildscript</span> <span class=o>{</span>
   <span class=n>repositories</span> <span class=o>{</span>
        <span class=n>jcenter</span><span class=o>()</span>
   <span class=o>}</span>
   <span class=n>configurations</span><span class=o>.</span><span class=na>maybeCreate</span><span class=o>(</span><span class=s1>&#39;pitest&#39;</span><span class=o>)</span>
   <span class=n>dependencies</span> <span class=o>{</span>
       <span class=n>classpath</span> <span class=s1>&#39;info.solidsoft.gradle.pitest:gradle-pitest-plugin:1.4.5&#39;</span>
       <span class=n>pitest</span> <span class=s1>&#39;org.pitest:pitest-junit5-plugin:0.8&#39;</span>
   <span class=o>}</span>
<span class=o>}</span>

<span class=n>plugins</span> <span class=o>{</span>
    <span class=n>id</span> <span class=s1>&#39;java&#39;</span>
    <span class=n>id</span> <span class=s1>&#39;jacoco&#39;</span>
    <span class=n>id</span> <span class=s1>&#39;info.solidsoft.pitest&#39;</span> <span class=n>version</span> <span class=s1>&#39;1.4.5&#39;</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=n>testImplementation</span> <span class=s1>&#39;org.junit.jupiter:junit-jupiter-api:5.4.2&#39;</span>
    <span class=n>testRuntimeOnly</span> <span class=s1>&#39;org.junit.jupiter:junit-jupiter-engine:5.4.2&#39;</span>
<span class=o>}</span>

<span class=n>repositories</span> <span class=o>{</span>
    <span class=n>jcenter</span><span class=o>()</span>
<span class=o>}</span>

<span class=n>compileJava</span> <span class=o>{</span>
    <span class=n>sourceCompatibility</span> <span class=o>=</span> <span class=mi>11</span>
    <span class=n>targetCompatibility</span> <span class=o>=</span> <span class=mi>11</span>
<span class=o>}</span>

<span class=n>test</span> <span class=o>{</span>
    <span class=n>useJUnitPlatform</span><span class=o>()</span>
<span class=o>}</span>

<span class=n>pitest</span> <span class=o>{</span>
    <span class=n>testPlugin</span> <span class=o>=</span> <span class=s1>&#39;junit5&#39;</span>
    <span class=n>targetClasses</span> <span class=o>=</span> <span class=o>[</span><span class=s1>&#39;io.github.picodotdev.blogbitix.*&#39;</span><span class=o>]</span>
    <span class=n>threads</span> <span class=o>=</span> <span class=mi>4</span>
    <span class=n>outputFormats</span> <span class=o>=</span> <span class=o>[</span><span class=s1>&#39;HTML&#39;</span><span class=o>]</span>
    <span class=n>timestampedReports</span> <span class=o>=</span> <span class=kc>false</span>
    <span class=n>mutators</span> <span class=o>=</span> <span class=o>[</span><span class=s1>&#39;DEFAULTS&#39;</span><span class=o>]</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/build.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/build.gradle target=_blank>build.gradle</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash>$ ./gradlew <span class=nb>test</span> jacocoTestReport pitest
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/gradlew-run.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/10/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java/code/gradlew-run.sh target=_blank>gradlew-run.sh</a></div></div><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/JavaMutationTesting>código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href=https://github.com/>GitHub</a> y probarlo en tu equipo ejecutando el comando <code>./gradlew test jacocoTestReport pitest</code>.</p><div class=reference>Referencia:<br><ul><li><a href=http://qajungle.com/mutation-testing-pit-nuestro-gran-amigo/>Mutation testing – PIT nuestro gran amigo</a></li><li><a href=https://beyondscheme.com/2016/pitest-with-java>Pitest - mutation testing in Java</a></li><li><a href=https://www.baeldung.com/java-mutation-testing-with-pitest>Mutation Testing with PITest</a></li><li><a href=https://www.adictosaltrabajo.com/2015/11/10/mutation-testing-con-pit/>Mutation Testing con PIT</a></li></ul></div></div></article><div class="row related"><div class=col-md-12>Artículos relacionados:<ul><li><a href=/blog-bitix/2019/10/ventajas-de-usar-un-tipo-especifico-para-los-identificadores-de-las-entidades-en-vez-de-un-tipo-basico/>Ventajas de usar un tipo específico para los identificadores de las entidades en vez de un tipo básico</a></li><li><a href=/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/>Microservicios con Spring Cloud, Consul, Nomad y Traefik</a></li><li><a href=/blog-bitix/2019/09/novedades-de-java-13/>Novedades de Java 13</a></li><li><a href=/blog-bitix/2019/09/libreria-editor-de-markdown-javascript-y-procesador-de-markdown-para-generar-html-con-java/>Librería editor de markdown JavaScript y procesador de markdown para generar HTML con Java</a></li><li><a href=/blog-bitix/2019/08/ejemplo-sencillo-de-como-crear-un-documento-pdf-con-java-y-pdfbox/>Ejemplo sencillo de como crear un documento PDF con Java y PDFBox</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2019\/10\/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2019\/10\/cobertura-de-codigo-y-mutation-testing-en-pruebas-unitarias-con-jacoco-y-pit-en-java\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property="dct:title"><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property="cc:attributionName" rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
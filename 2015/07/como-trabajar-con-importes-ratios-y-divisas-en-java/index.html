




<!DOCTYPE html>
<html lang="es">
<head>
  <meta name="base" href="/blog-bitix/">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="picodotdev">
  <meta name="keywords" content="java, programacion, software, hardware, tapestry, software libre, gnu, linux, gnu/linux, unix, arch, arch linux, html, css, javascript">
  <meta name="description" content="Aún en Java 8 no tenemos una API incluida en el JDK dedicada al manejo de importes, divisas y conversiones. Si la especificación JSR-354 se incluye en alguna versión podremos hacer uso de ella sin necesidad de ninguna dependencia adicional, pero si tenemos necesidad ahora podemos usar la librería que ha producido la especificación. Usando las clases y métodos de la API evitaremos hacer y mantener una implementación nosotros mismos que además seguro no llega al nivel de esta. &hellip;">

  <title>Cómo trabajar con importes, ratios y divisas en Java</title>

  <link rel="shortcut icon" href="/blog-bitix/assets/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog-bitix/assets/apple-touch-icon-144-precomposed.png">
  <link rel="canonical" type="text/html" href="https://picodotdev.github.io/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/">
  <link rel="alternate" type="application/rss&#43;xml" href="https://picodotdev.github.io/blog-bitix/index.xml" title="Blog Bitix">
  <link rel="amphtml" type="text/html" href="https://picodotdev.github.io/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/index-amp.html" title="Cómo trabajar con importes, ratios y divisas en Java">
  
  <link rel="humans" type="text/plain" href="/blog-bitix/humans.txt">
  <link href="https://fonts.googleapis.com/css?family=PT+Serif:400,400i,700,700i&display=swap" rel="stylesheet"> 

  

  <!-- Social -->
<meta property="og:title" content="Cómo trabajar con importes, ratios y divisas en Java">
<meta property="og:url" content="https://picodotdev.github.io/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/">
<meta property="og:image" content="https://picodotdev.github.io/blog-bitix/https://picodotdev.github.io/blog-bitix/assets/images/structured-data/blogbitix-1200.png">

<meta property="og:site_name" content="Blog Bitix">
<meta property="og:description" content="Aún en Java 8 no tenemos una API incluida en el JDK dedicada al manejo de importes, divisas y conversiones. Si la especificación JSR-354 se incluye en alguna versión podremos hacer uso de ella sin necesidad de ninguna dependencia adicional, pero si tenemos necesidad ahora podemos usar la librería que ha producido la especificación. Usando las clases y métodos de la API evitaremos hacer y mantener una implementación nosotros mismos que además seguro no llega al nivel de esta. &hellip;">
<meta property="og:type" content="article">

<meta name="twitter:card" content="summary_large_image">
<meta property="og:image" content="https://picodotdev.github.io/blog-bitix/https://picodotdev.github.io/blog-bitix/assets/images/structured-data/blogbitix-1200.png">

<meta name="twitter:site" content="@picodotdev">
<meta name="twitter:title" content="Cómo trabajar con importes, ratios y divisas en Java">
<meta name="twitter:description" content="Aún en Java 8 no tenemos una API incluida en el JDK dedicada al manejo de importes, divisas y conversiones. Si la especificación JSR-354 se incluye en alguna versión podremos hacer uso de ella sin necesidad de ninguna dependencia adicional, pero si tenemos necesidad ahora podemos usar la librería que ha producido la especificación. Usando las clases y métodos de la API evitaremos hacer y mantener una implementación nosotros mismos que además seguro no llega al nivel de esta. &hellip;">
<meta name="twitter:creator" content="@picodotdev">

  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://picodotdev.github.io/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/"
    },
    "headline": "Cómo trabajar con importes, ratios y divisas en Java",
    "image": {
        "@type": "ImageObject",
          "url": "https://picodotdev.github.io/blog-bitix/assets/images/structured-data/blogbitix-1200.png"
        
      },
    "datePublished": "2015-07-21T20:00:00+02:00",
    "dateModified": "2015-07-21T20:30:00+02:00",
    "inLanguage": "es",
    
    "wordCount": "1151",
    "license": "https://creativecommons.org/licenses/by-sa/4.0/",
    "author": {
        "@type": "Person",
        "name": "picodotdev",
        "url": "https://twitter.com/picodotdev/"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Blog Bitix",
        "logo": {
        "@type": "ImageObject",
        "url": "https://picodotdev.github.io/blog-bitix/assets/images/structured-data/blogbitix-1200.png"
        }
    },
    "description": "Aún en Java 8 no tenemos una API incluida en el JDK dedicada al manejo de importes, divisas y conversiones. Si la especificación JSR-354 se incluye en alguna versión podremos hacer uso de ella sin necesidad de ninguna dependencia adicional, pero si tenemos necesidad ahora podemos usar la librería que ha producido la especificación. Usando las clases y métodos de la API evitaremos hacer y mantener una implementación nosotros mismos que además seguro no llega al nivel de esta."
}
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Blog Bitix",
    "url": "https://picodotdev.github.io/blog-bitix/",
    "logo": {
        "@type": "ImageObject",
        "url": "https://picodotdev.github.io/blog-bitix/assets/images/structured-data/blogbitix-1200.png"
    }
}
  </script>

  <!-- css -->
  <link rel="stylesheet" type="text/css" href="/blog-bitix/assets/libs/bootstrap-4.4.1-dist/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/blog-bitix/assets/libs/Gallery-2.36.0/css/blueimp-gallery.min.css">
  <!-- theme -->
  <link rel="stylesheet" type="text/css" href="/blog-bitix/assets/css/syntax.css">
  <link rel="stylesheet" type="text/css" href="/blog-bitix/assets/css/main.css">
  <link rel="stylesheet" type="text/css" href="/blog-bitix/assets/css/main-cookieconsent.css">

  <!-- javascript -->
  <script type="text/javascript" src="/blog-bitix/assets/js/require-config.js" defer></script>
  <script type="text/javascript" src="/blog-bitix/assets/libs/require.js" data-main="/blog-bitix/assets/js/main" defer></script>

  <script type="text/javascript" defer>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-12874075-4', 'picodotdev.github.io');
    ga('send', 'pageview');
</script>
  <script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" defer></script>
<script type="text/javascript" defer>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: 'ca-pub-3533636310991304',
    enable_page_level_ads: true
  });
</script>

  
  <script type="text/javascript" src="/blog-bitix/assets/js/app.js" defer></script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-12">
        





<header>
  <div class="row">
    <div class="col-12 col-lg-4"></div>
    <div class="col-12 col-lg-4">
      <h2 class="title"><a href="https://picodotdev.github.io/blog-bitix/">Blog Bitix</a></h2>
      <div class="links">
        
          <a href="https://picodotdev.github.io/blog-bitix/index.xml" title="¡Suscríbete a Blog Bitix!"><img src="/blog-bitix/assets/images/rss.png" width="50" height="50" class="icon"></a>
        
        
          <a href="https://twitter.com/picodotdev/" title="¡Sígueme en twitter!"><img src="/blog-bitix/assets/images/twitter.svg" width="50" height="50" class="icon"></a>
        
        
          <a href="https://github.com/picodotdev/blog-ejemplos/" title="¡Obtén el código fuente de los ejemplos!"><img src="/blog-bitix/assets/images/github.svg" width="50" height="50" class="icon"></a>
        
        
        
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      
<nav class="nav nav-pills nav-fill">
  <a href="/blog-bitix/tags/java/" class="nav-item nav-link">Java</a>
  <a href="/blog-bitix/tags/gnu-linux/" class="nav-item nav-link">GNU/Linux</a>
  <a href="/blog-bitix/tags/javascript/" class="nav-item nav-link">JavaScript</a>
  <a href="/blog-bitix/tags/tapestry/" class="nav-item nav-link">Tapestry</a>
  <a href="/blog-bitix/archive/" class="nav-item nav-link">Archivo y hemeroteca</a>
  <a href="/blog-bitix/pages/links/" class="nav-item nav-link">Enlaces</a>
  <a href="/blog-bitix/pages/about/" class="nav-item nav-link">Acerca de...</a>
  
</nav>

    </div>
  </div>
</header>
      </div>
    </div>
    <div class="row">
      <div class="col-12 adblock-container-billboard">
        <div class="adsense adsense-billboard">
    <ins class="adsbygoogle"
        data-ad-client="ca-pub-3533636310991304"
        data-ad-slot="4052324337"
        data-full-width-responsive="true"></ins>
</div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-12">
        <div class="adblock-sidebar-container">
          <div class="adblock-sidebar-container-left"></div>
          <div class="adblock-sidebar-container-right">
            <div class="adsense adsense-vertical">
    <ins class="adsbygoogle"
        data-ad-client="ca-pub-3533636310991304"
        data-ad-slot="7450235768"
        data-full-width-responsive="true"></ins>
</div>
          </div>
        </div>
        
<article>
    <h1>Cómo trabajar con importes, ratios y divisas en Java</h1>
    <p class="information">
      
        Escrito por
       
      <span>picodotdev</span> el <time>21/07/2015</time>, actualizado el <time>21/07/2015</time>.
      
        <br>
        
          <a href="/blog-bitix/tags/java/">java</a>
        
          <a href="/blog-bitix/tags/planeta-codigo/">planeta-codigo</a>
        
          <a href="/blog-bitix/tags/programacion/">programacion</a>
        
      
      <br>
      <a href="/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/">Enlace permanente</a>
      
        <a href="/blog-bitix/2015/07/como-trabajar-con-importes-ratios-y-divisas-en-java/#comments">Comentarios</a>
      
      
    </p>

    
      <p class="summary">Aún en Java 8 no tenemos una API incluida en el JDK dedicada al manejo de importes, divisas y conversiones. Si la especificación JSR-354 se incluye en alguna versión podremos hacer uso de ella sin necesidad de ninguna dependencia adicional, pero si tenemos necesidad ahora podemos usar la librería que ha producido la especificación. Usando las clases y métodos de la API evitaremos hacer y mantener una implementación nosotros mismos que además seguro no llega al nivel de esta.</p>
    
    

    
      <div class="adblock-container-leaderboard">
      <div class="adsense adsense-leaderboard">
    <ins class="adsbygoogle"
        data-ad-client="ca-pub-3533636310991304"
        data-ad-slot="8238629013"
        data-full-width-responsive="true"></ins>
</div>
      </div>
    

    <div class="content">
      


      <div class="logotypes"> 
<p><img data-src="/blog-bitix/assets/images/logotypes/java.svg" width="200" alt="Java" title="Java"  class="lozad"></p>
</div>
<p>Las aplicaciones de comercio electrónico o que realizan operaciones financieras con importes seguro que necesitan una forma de representar un importe junto con una divisa. También si necesitan convertir importes en diferentes divisas necesitarán obtener los ratios de conversión de alguna fuente, en el artículo <a href="https://picodotdev.github.io/blog-bitix/2015/06/servicio-para-obtener-ratios-de-conversion-entre-divisas/">Servicio para obtener ratios de conversión entre divisas</a> comentaba uno que podemos usar, <a href="https://openexchangerates.org/">Open Exchange Rates</a>. Java incluye clases para datos numéricos y con ellos se pueden representar importes como por ejemplo <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html">BigDecimal</a>. Para importes no debemos usar en ningún caso un tipo de dato <em>float</em> o <em>double</em> ya que estos son incapaces de representar ciertos valores de forma exacta, usando <a href="https://elblogdepicodev.blogspot.com.es/2012/01/errores-de-precision-redondeo-y.html"><em>float</em> y <em>double</em> tendremos errores de precisión, redondeo y representación</a>. En vez de crear un nuevo tipo de datos (una clase) que tenga como propiedades un BigDecimal para el importe y un String o similar para representar la divisa además de implementar las varias operaciones aritméticas y de comparación entre otras muchas cosas que necesitaremos podemos usar la librería que la <a href="https://github.com/JavaMoney/jsr354-api/blob/master/src/main/asciidoc/JavaMoneySpecification.adoc">especificación JSR-354</a> proporciona una API dedicada a importes y divisas en Java. En Java 8 no se incluyó pero en una futura versión quizá si se incluya en el propio JDK. En este artículo comentaré como usando Java 8 podemos hacer uso de esta API desde ya y que ofrece.</p>
<p>Aunque la especificación no es parte de Java aún el grupo de trabajo encargado ha generado una dependencia que podemos usar. En el <a href="https://github.com/JavaMoney/">repositorio de GitHub</a> podemos encontrar el código de la librería. Incluyéndola como dependencia de un proyecto podemos usarla, usando <a href="https://gradle.org/">Gradle</a> con:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-groovy" data-lang="groovy"><span class="o">.</span><span class="o">.</span><span class="o">.</span>&#10;<span class="n">dependencies</span> <span class="o">{</span>&#10;	<span class="n">compile</span> <span class="s1">&#39;org.javamoney:moneta:1.0&#39;</span>&#10;	<span class="o">.</span><span class="o">.</span><span class="o">.</span>&#10;<span class="o">}</span>&#10;<span class="o">.</span><span class="o">.</span><span class="o">.</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>build.gradle</span>
    </div>
</div>
<p>La librería hace uso de lambdas, una de las <a href="https://picodotdev.github.io/blog-bitix/2014/03/novedades-y-nuevas-caracteristicas-de-java-8/">novedades que introdujo de Java 8 en el lenguaje</a>, y nos facilita varias funcionalidades. También permite usar <em>streams</em>. Veamos algunas de las posibilidades.</p>
<h3 id="representación-de-divisas-e-importes">Representación de divisas e importes</h3>
<p>Las divisas se representan con <a href="https://github.com/JavaMoney/jsr354-api/blob/master/src/main/java/javax/money/CurrencyUnit.java">CurrencyUnit</a> y los  importes se representan usando la clase <a href="https://github.com/JavaMoney/jsr354-api/blob/master/src/main/java/javax/money/MonetaryAmount.java">MoneyAmount</a>, tenemos varias formas de crear instancias de estas clases.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// getting CurrencyUnit by currency code and locale&#10;</span><span class="c1"></span><span class="n">CurrencyUnit</span> <span class="n">euro</span> <span class="o">=</span> <span class="n">Monetary</span><span class="o">.</span><span class="na">getCurrency</span><span class="o">(</span><span class="s">&#34;EUR&#34;</span><span class="o">)</span><span class="o">;</span>		&#10;<span class="n">CurrencyUnit</span> <span class="n">dollar</span> <span class="o">=</span> <span class="n">Monetary</span><span class="o">.</span><span class="na">getCurrency</span><span class="o">(</span><span class="n">Locale</span><span class="o">.</span><span class="na">US</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// getting MonetaryAmount by currency code and CurrencyUnit, without using Money (implementation class)&#10;</span><span class="c1"></span><span class="n">MonetaryAmount</span> <span class="n">fiveEuro</span> <span class="o">=</span> <span class="n">Money</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">5</span><span class="o">,</span> <span class="n">euro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">twelveEuro</span> <span class="o">=</span> <span class="n">Money</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">&#34;12&#34;</span><span class="o">)</span><span class="o">,</span> <span class="n">euro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">tenDollar</span> <span class="o">=</span> <span class="n">Money</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">10</span><span class="o">,</span> <span class="s">&#34;USD&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">tenPound</span> <span class="o">=</span> <span class="n">Monetary</span><span class="o">.</span><span class="na">getDefaultAmountFactory</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">setNumber</span><span class="o">(</span><span class="n">10</span><span class="o">)</span><span class="o">.</span><span class="na">setCurrency</span><span class="o">(</span><span class="s">&#34;GBP&#34;</span><span class="o">)</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;getting MonetaryAmount by currency code and CurrencyUnit, without using Money (implementation class)&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;5 EUR: %s\n&#34;</span><span class="o">,</span> <span class="n">fiveEuro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;12 EUR: %s\n&#34;</span><span class="o">,</span> <span class="n">twelveEuro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;10 USD: %s\n&#34;</span><span class="o">,</span> <span class="n">tenDollar</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;10 GBP: %s\n&#34;</span><span class="o">,</span> <span class="n">tenPound</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// 5 EUR: EUR 5&#10;</span><span class="c1"></span><span class="c1">// 12 EUR: EUR 12&#10;</span><span class="c1"></span><span class="c1">// 10 USD: USD 10&#10;</span><span class="c1"></span><span class="o">/</span><span class="o">/</span> <span class="n">10</span> <span class="n">GBP</span><span class="o">:</span> <span class="n">GBP</span> <span class="n">10</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-1.java</span>
    </div>
</div>
<p>La API ofrece varios métodos para extraer los valores numéricos, la parte entera y decimal, que una instancia de MoneyAmount contiene así como obtener los valores en un tipo de datos más básico como BigDecimal.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// getting currency, the numeric amount and precision&#10;</span><span class="c1"></span><span class="n">MonetaryAmount</span> <span class="n">amount</span> <span class="o">=</span> <span class="n">Money</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">123</span><span class="o">.</span><span class="na">45</span><span class="o">,</span> <span class="n">euro</span><span class="o">)</span><span class="o">;</span>		&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;123.45 EUR (currency): %s\n&#34;</span><span class="o">,</span> <span class="n">amount</span><span class="o">.</span><span class="na">getCurrency</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;123.45 EUR (long): %s\n&#34;</span><span class="o">,</span> <span class="n">amount</span><span class="o">.</span><span class="na">getNumber</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">longValue</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;123.45 EUR (number): %s\n&#34;</span><span class="o">,</span> <span class="n">amount</span><span class="o">.</span><span class="na">getNumber</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;123.45 EUR (fractionNumerator): %s\n&#34;</span><span class="o">,</span> <span class="n">amount</span><span class="o">.</span><span class="na">getNumber</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">getAmountFractionNumerator</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;123.45 EUR (fractionDenominator): %s\n&#34;</span><span class="o">,</span> <span class="n">amount</span><span class="o">.</span><span class="na">getNumber</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">getAmountFractionDenominator</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;123.45 EUR (amount, BigDecimal): %s\n&#34;</span><span class="o">,</span> <span class="n">amount</span><span class="o">.</span><span class="na">getNumber</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">numberValue</span><span class="o">(</span><span class="n">BigDecimal</span><span class="o">.</span><span class="na">class</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// 123.45 EUR (currency): EUR&#10;</span><span class="c1"></span><span class="c1">// 123.45 EUR (long): 123&#10;</span><span class="c1"></span><span class="c1">// 123.45 EUR (number): 123.45&#10;</span><span class="c1"></span><span class="c1">// 123.45 EUR (fractionNumerator): 45&#10;</span><span class="c1"></span><span class="c1">// 123.45 EUR (fractionDenominator): 100&#10;</span><span class="c1"></span><span class="o">/</span><span class="o">/</span> <span class="n">123</span><span class="o">.</span><span class="na">45</span> <span class="nf">EUR</span> <span class="o">(</span><span class="n">amount</span><span class="o">,</span> <span class="n">BigDecimal</span><span class="o">)</span><span class="o">:</span> <span class="n">123</span><span class="o">.</span><span class="na">45</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-2.java</span>
    </div>
</div>
<h3 id="operaciones-aritméticas-de-comparación-y-operaciones-personalizadas">Operaciones aritméticas, de comparación y operaciones personalizadas</h3>
<p>Podemos hacer operaciones aritméticas (suma, resta, multiplicación y división) entre dos importes.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span><span class="lnt">20&#10;</span><span class="lnt">21&#10;</span><span class="lnt">22&#10;</span><span class="lnt">23&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// aritmetic&#10;</span><span class="c1"></span><span class="n">MonetaryAmount</span> <span class="n">seventeenEuros</span> <span class="o">=</span> <span class="n">fiveEuro</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">twelveEuro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">sevenEuros</span> <span class="o">=</span> <span class="n">twelveEuro</span><span class="o">.</span><span class="na">subtract</span><span class="o">(</span><span class="n">fiveEuro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">tenEuro</span> <span class="o">=</span> <span class="n">fiveEuro</span><span class="o">.</span><span class="na">multiply</span><span class="o">(</span><span class="n">2</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">twoPointFiveEuro</span> <span class="o">=</span> <span class="n">fiveEuro</span><span class="o">.</span><span class="na">divide</span><span class="o">(</span><span class="n">2</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;5 EUR + 12 EUR: %s\n&#34;</span><span class="o">,</span> <span class="n">seventeenEuros</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;12 EUR - 5 EUR: %s\n&#34;</span><span class="o">,</span> <span class="n">sevenEuros</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;5 EUR * 2: %s\n&#34;</span><span class="o">,</span> <span class="n">tenEuro</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;5 EUR / 2: %s\n&#34;</span><span class="o">,</span> <span class="n">twoPointFiveEuro</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// 5 EUR + 12 EUR: EUR 17&#10;</span><span class="c1"></span><span class="c1">// 12 EUR - 5 EUR: EUR 7&#10;</span><span class="c1"></span><span class="c1">// 5 EUR * 2: EUR 10&#10;</span><span class="c1"></span><span class="c1">// 5 EUR / 2: EUR 2.5&#10;</span><span class="c1"></span>		 &#10;<span class="c1">// negative&#10;</span><span class="c1"></span><span class="n">MonetaryAmount</span> <span class="n">minusSevenEuro</span> <span class="o">=</span> <span class="n">fiveEuro</span><span class="o">.</span><span class="na">subtract</span><span class="o">(</span><span class="n">twelveEuro</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;negative&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;5 EUR - 12 EUR: %s\n&#34;</span><span class="o">,</span> <span class="n">minusSevenEuro</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="o">/</span><span class="o">/</span> <span class="n">5</span> <span class="n">EUR</span> <span class="o">-</span> <span class="n">12</span> <span class="n">EUR</span><span class="o">:</span> <span class="n">EUR</span> <span class="o">-</span><span class="n">7</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-3.java</span>
    </div>
</div>
<p>También podremos hacer comparaciones:</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span><span class="lnt">7&#10;</span><span class="lnt">8&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// comparing&#10;</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;7€ &lt; 10€: %s\n&#34;</span><span class="o">,</span> <span class="n">sevenEuros</span><span class="o">.</span><span class="na">isLessThan</span><span class="o">(</span><span class="n">tenEuro</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;7€ &gt; 10€: %s\n&#34;</span><span class="o">,</span> <span class="n">sevenEuros</span><span class="o">.</span><span class="na">isGreaterThan</span><span class="o">(</span><span class="n">tenEuro</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;10 &gt; 7€: %s\n&#34;</span><span class="o">,</span> <span class="n">tenEuro</span><span class="o">.</span><span class="na">isGreaterThan</span><span class="o">(</span><span class="n">sevenEuros</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// 7€ &lt; 10€: true&#10;</span><span class="c1"></span><span class="c1">// 7€ &gt; 10€: false&#10;</span><span class="c1"></span><span class="o">/</span><span class="o">/</span> <span class="n">10</span> <span class="o">&gt;</span> <span class="n">7</span><span class="err">€</span><span class="o">:</span> <span class="kc">true</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-4.java</span>
    </div>
</div>
<h3 id="redondear-importes">Redondear importes</h3>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span><span class="lnt">7&#10;</span><span class="lnt">8&#10;</span><span class="lnt">9&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// rounding&#10;</span><span class="c1"></span><span class="n">MonetaryAmount</span> <span class="n">euros</span> <span class="o">=</span> <span class="n">Money</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">12</span><span class="o">.</span><span class="na">34567</span><span class="o">,</span> <span class="s">&#34;EUR&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">roundedEuros</span> <span class="o">=</span> <span class="n">euros</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">Monetary</span><span class="o">.</span><span class="na">getDefaultRounding</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;rounding&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;12.34567 EUR redondeados: %s\n&#34;</span><span class="o">,</span> <span class="n">roundedEuros</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="o">/</span><span class="o">/</span> <span class="n">12</span><span class="o">.</span><span class="na">34567</span> <span class="n">EUR</span> <span class="n">redondeados</span><span class="o">:</span> <span class="n">EUR</span> <span class="n">12</span><span class="o">.</span><span class="na">35</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-9.java</span>
    </div>
</div>
<p>E incluso implementar operaciones más complejas y habituales personalizadas con la clase <a href="https://github.com/JavaMoney/jsr354-api/blob/master/src/main/java/javax/money/MonetaryOperator.java">MonetaryOperator</a> que se puede aplicar usando el método <em>with</em> de MonerayAmount.</p>
<h3 id="formateado-y-analizado">Formateado y analizado</h3>
<p>Dependiendo de país o la moneda los importes se representan de forma diferente, por ejemplo, en Estados Unidos se usa «,» como separador de millares y «.» como separador de los decimales, en España es diferente, se usa «.» para los millares y «,» para los decimales. También hay monedas que no tienen decimales como el Yen japonés. Disponemos de métodos y clases para formatear correctamente el importe.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// formating&#10;</span><span class="c1"></span><span class="n">MonetaryAmountFormat</span> <span class="n">spainFormat</span> <span class="o">=</span> <span class="n">MonetaryFormats</span><span class="o">.</span><span class="na">getAmountFormat</span><span class="o">(</span><span class="k">new</span> <span class="n">Locale</span><span class="o">(</span><span class="s">&#34;es&#34;</span><span class="o">,</span> <span class="s">&#34;ES&#34;</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmountFormat</span> <span class="n">usFormat</span> <span class="o">=</span> <span class="n">MonetaryFormats</span><span class="o">.</span><span class="na">getAmountFormat</span><span class="o">(</span><span class="k">new</span> <span class="n">Locale</span><span class="o">(</span><span class="s">&#34;en&#34;</span><span class="o">,</span> <span class="s">&#34;US&#34;</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">MonetaryAmount</span> <span class="n">fiveThousandEuro</span> <span class="o">=</span> <span class="n">Money</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">5000</span><span class="o">,</span> <span class="n">euro</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;formating&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;Formato de 5000 EUR localizado en España: %s\n&#34;</span><span class="o">,</span> <span class="n">spainFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">fiveThousandEuro</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;Formato de 5000 EUR localizado en Estados Unidos: %s\n&#34;</span><span class="o">,</span> <span class="n">usFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">fiveThousandEuro</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// Formato de 5000 EUR localizado en España: 5.000,00 EUR&#10;</span><span class="c1"></span><span class="o">/</span><span class="o">/</span> <span class="n">Formato</span> <span class="n">de</span> <span class="n">5000</span> <span class="n">EUR</span> <span class="n">localizado</span> <span class="n">en</span> <span class="n">Estados</span> <span class="n">Unidos</span><span class="o">:</span> <span class="n">EUR5</span><span class="o">,</span><span class="n">000</span><span class="o">.</span><span class="na">00</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-5.java</span>
    </div>
</div>
<p>Podemos hacer la operación contraria <em>parseando</em> o analizando la cadena, obtener un objeto MoneyAmount desde su representación en String.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt">1&#10;</span><span class="lnt">2&#10;</span><span class="lnt">3&#10;</span><span class="lnt">4&#10;</span><span class="lnt">5&#10;</span><span class="lnt">6&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// parsing&#10;</span><span class="c1"></span><span class="n">MonetaryAmount</span> <span class="n">twelvePointFiveEuro</span> <span class="o">=</span> <span class="n">spanishFormat</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&#34;12,50 EUR&#34;</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;Analizando «12,50 EUR» es %s\n&#34;</span><span class="o">,</span> <span class="n">spainFormat</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">twelvePointFiveEuro</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="o">/</span><span class="o">/</span> <span class="n">Analizando</span> <span class="err">«</span><span class="n">12</span><span class="o">,</span><span class="n">50</span> <span class="n">EUR</span><span class="err">»</span> <span class="n">es</span> <span class="n">12</span><span class="o">,</span><span class="n">50</span> <span class="n">EUR</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-6.java</span>
    </div>
</div>
<h3 id="ratios-de-conversión-conversiones-entre-divisas">Ratios de conversión, conversiones entre divisas</h3>
<p>Si necesitamos convertir el importe de una moneda a otra necesitaremos el ratio de conversión entre las monedas, es decir, por cada dólar estadounidense cuántos euros son si queremos hacer una conversión de USD a euro. Se puede obtener el ratio de conversión o hacer la conversión directamente entre las dos monedas. En el siguiente código se muestra cuántos euros son 10 USD con la cotización entre las divisas en el momento de escribir el artículo.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// exchange rates		&#10;</span><span class="c1"></span><span class="n">ExchangeRateProvider</span> <span class="n">exchangeRateProvider</span> <span class="o">=</span> <span class="n">MonetaryConversions</span><span class="o">.</span><span class="na">getExchangeRateProvider</span><span class="o">(</span><span class="s">&#34;ECB&#34;</span><span class="o">)</span><span class="o">;</span>&#10;<span class="n">ExchangeRate</span> <span class="n">exchangeRate</span> <span class="o">=</span> <span class="n">exchangeRateProvider</span><span class="o">.</span><span class="na">getExchangeRate</span><span class="o">(</span><span class="s">&#34;USD&#34;</span><span class="o">,</span> <span class="s">&#34;EUR&#34;</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;Ratio de conversión de USD a EUR: %f\n&#34;</span><span class="o">,</span> <span class="n">exchangeRate</span><span class="o">.</span><span class="na">getFactor</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">doubleValue</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// Ratio de conversión de USD a EUR: 0,921489&#10;</span><span class="c1"></span>		&#10;<span class="c1">// conversion&#10;</span><span class="c1"></span><span class="n">CurrencyConversion</span> <span class="n">toEuro</span> <span class="o">=</span> <span class="n">MonetaryConversions</span><span class="o">.</span><span class="na">getConversion</span><span class="o">(</span><span class="s">&#34;EUR&#34;</span><span class="o">)</span><span class="o">;</span>		&#10;<span class="n">MonetaryAmount</span> <span class="n">tenDollarToEuro</span> <span class="o">=</span> <span class="n">tenDollar</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">toEuro</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;10 USD son %s EUR\n&#34;</span><span class="o">,</span> <span class="n">tenDollarToEuro</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="o">/</span><span class="o">/</span> <span class="n">10</span> <span class="n">USD</span> <span class="n">son</span> <span class="n">EUR</span> <span class="n">9</span><span class="o">.</span><span class="na">214891264283081</span> <span class="n">EUR</span></code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-7.java</span>
    </div>
</div>
<p>La librería incluye varias fuentes para las cotizaciones de cada moneda, una de ellas es el Banco Central Europeo pero también podemos crear la implementación de una nueva fuente que por ejemplo use Open Exchange Rates.</p>
<h3 id="streams-y-filtros">Streams y filtros</h3>
<p>Por si todo esto fuera poco podemos usar las características de programación funcional de Java 8 ya que la librería ofrece soporte para streams para ejemplo filtrar o para agrupar.</p>
<div class="code">
    <div class="highlight"><div class="chroma">&#10;<table class="lntable"><tr><td class="lntd">&#10;<pre class="chroma"><code><span class="lnt"> 1&#10;</span><span class="lnt"> 2&#10;</span><span class="lnt"> 3&#10;</span><span class="lnt"> 4&#10;</span><span class="lnt"> 5&#10;</span><span class="lnt"> 6&#10;</span><span class="lnt"> 7&#10;</span><span class="lnt"> 8&#10;</span><span class="lnt"> 9&#10;</span><span class="lnt">10&#10;</span><span class="lnt">11&#10;</span><span class="lnt">12&#10;</span><span class="lnt">13&#10;</span><span class="lnt">14&#10;</span><span class="lnt">15&#10;</span><span class="lnt">16&#10;</span><span class="lnt">17&#10;</span><span class="lnt">18&#10;</span><span class="lnt">19&#10;</span></code></pre></td>&#10;<td class="lntd">&#10;<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">// filter&#10;</span><span class="c1"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">MonetaryAmount</span><span class="o">&gt;</span> <span class="n">onlyDollars</span> <span class="o">=</span> <span class="n">amounts</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>&#10;	<span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">MonetaryFunctions</span><span class="o">.</span><span class="na">isCurrency</span><span class="o">(</span><span class="n">dollar</span><span class="o">)</span><span class="o">)</span>&#10;	<span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;Solo USD: %s\n&#34;</span><span class="o">,</span> <span class="n">onlyDollars</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">List</span><span class="o">&lt;</span><span class="n">MonetaryAmount</span><span class="o">&gt;</span> <span class="n">euroAndDollar</span> <span class="o">=</span> <span class="n">amounts</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>&#10;	<span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">MonetaryFunctions</span><span class="o">.</span><span class="na">isCurrency</span><span class="o">(</span><span class="n">euro</span><span class="o">,</span> <span class="n">dollar</span><span class="o">)</span><span class="o">)</span>&#10;	<span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// grouping&#10;</span><span class="c1"></span><span class="n">Map</span><span class="o">&lt;</span><span class="n">CurrencyUnit</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">MonetaryAmount</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="n">groupedByCurrency</span> <span class="o">=</span> <span class="n">amounts</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>&#10;				<span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">MonetaryFunctions</span><span class="o">.</span><span class="na">groupByCurrencyUnit</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>&#10;		&#10;<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&#34;Agrupación por divisa: %s\n&#34;</span><span class="o">,</span> <span class="n">groupedByCurrency</span><span class="o">)</span><span class="o">;</span>&#10;&#10;<span class="c1">// Agrupación por divisa: {EUR=[EUR 2], GBP=[GBP 13.37], USD=[USD 7, USD 18, USD 42]}&#10;</span><span class="c1"></span>&#10;</code></pre></td></tr></table>&#10;</div>&#10;</div>
    <div class="highlight-meta">
        <span>Main-8.java</span>
    </div>
</div>
<p>El <a href="https://github.com/picodotdev/blog-ejemplos/tree/master/JavaMoney">código fuente completo del ejemplo</a> está en uno de mis repositorios de GitHub.</p>
<div class="reference">
    Referencia:<br>
<ul>
<li><a href="https://github.com/JavaMoney/jsr354-api">JSR 354 API</a></li>
<li><a href="https://github.com/JavaMoney/jsr354-ri">JSR 354 RI</a></li>
<li><a href="https://java.net/projects/javamoney/pages/Home">JSR 354 - Currency and Money</a></li>
<li><a href="https://github.com/JavaMoney/jsr354-api/blob/master/src/main/asciidoc/JavaMoneySpecification.adoc">﻿JSR 354 Money and Currency — Specification</a></li>
<li><a href="https://java.dzone.com/articles/looking-java-9-money-and">Looking into the Java 9 Money and Currency API (JSR 354)</a></li>
<li><a href="https://weblogs.java.net/blog/otaviojava/archive/2014/08/25/java-9-coming-money-api">Java 9 is coming with money api</a></li>
<li><a href="http://www.joda.org/joda-money/">Joda Money</a></li>
<li><a href="http://es.slideshare.net/AnatoleTresch/adopt-jsr-354">Adopt JSR 354</a></li>
</ul>
</div>

    </div>
  </article>
        

        
    
    
    <div class="row related"><div class="col-12"><p>Artículos relacionados:</p></div></div>
    <div class="row related">
        <div class="col-12 col-sm-4">
            <div class="related-article">
                
                <a href="/blog-bitix/2015/06/hemeroteca-7/">
                <img data-src="/blog-bitix/assets/images/logotypes/hugo.svg" height="125" layout="fixed-height"  class="lozad">
                <h3>Hemeroteca #7</h3>
                </a>
                
            </div>
        </div>
    
    
    
    
        <div class="col-12 col-sm-4">
            <div class="related-article">
                
                <a href="/blog-bitix/2015/06/servicio-para-obtener-ratios-de-conversion-entre-divisas/">
                <img data-src="/blog-bitix/assets/images/logotypes/java.svg" height="125" layout="fixed-height"  class="lozad">
                <h3>Servicio para obtener ratios de conversión entre divisas</h3>
                </a>
                
            </div>
        </div>
    
    
    
    
        <div class="col-12 col-sm-4">
            <div class="related-article">
                
                <a href="/blog-bitix/2015/06/nueva-visita-a-herramientas-para-un-proyecto-java/">
                <img data-src="/blog-bitix/assets/images/logotypes/java.svg" height="125" layout="fixed-height"  class="lozad">
                <h3>Nueva visita a Herramientas para un proyecto Java</h3>
                </a>
                
            </div>
        </div>
    </div>
    
    
    <div class="row related">
        <div class="col-12 col-sm-4">
            <div class="related-article">
                
                <a href="/blog-bitix/2015/05/patron-multiples-vistas-de-un-mismo-dato-en-tapestry/">
                <img data-src="/blog-bitix/assets/images/logotypes/apache-tapestry-5.svg" height="125" layout="fixed-height"  class="lozad">
                <h3>Patrón múltiples vistas de un mismo dato en Tapestry</h3>
                </a>
                
            </div>
        </div>
    
    
    
    
        <div class="col-12 col-sm-4">
            <div class="related-article">
                
                <a href="/blog-bitix/2015/05/alternativa-a-hibernate-u-orm-y-ejemplo-de-jooq/">
                <img data-src="/blog-bitix/assets/images/logotypes/jooq.png" height="125" layout="fixed-height"  class="lozad">
                <h3>Alternativa a Hibernate u ORM y ejemplo de jOOQ</h3>
                </a>
                
            </div>
        </div>
    
    
    
    
        <div class="col-12 col-sm-4">
            <div class="related-article">
                
                <a href="/blog-bitix/2015/05/10-razones-para-seguir-usando-java/">
                <img data-src="/blog-bitix/assets/images/logotypes/java.svg" height="125" layout="fixed-height"  class="lozad">
                <h3>10 razones para seguir usando Java</h3>
                </a>
                
            </div>
        </div>
    </div>
    

        
<div class="row">
  <div class="col-md-12">
    <div class="sharethis-inline-share-buttons"></div>
  </div>
</div>


        <div class="row">
          <div class="col-12 adblock-container-billboard">
            <a id="pageBottom"></a>
            <div class="adsense adsense-billboard">
    <ins class="adsbygoogle"
        data-ad-client="ca-pub-3533636310991304"
        data-ad-slot="4052324337"
        data-full-width-responsive="true"></ins>
</div>
          </div>
        </div>
        
  <div class="row">
    <div class="col-md-12">
      <a id="comments"></a>
      <div id="disqus_thread"></div>
    </div>
  </div>

  <script type="text/javascript" async>
    var disqus_shortname = 'blog-bitix';
    var disqus_identifier = 'blog-bitix-90';
    var disqus_url = 'https:\/\/picodotdev.github.io\/blog-bitix\/2015\/07\/como-trabajar-con-importes-ratios-y-divisas-en-java\/';
    var disqus_script = 'embed.js';
  </script>

      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <hr>
      </div>
    </div>
    





<footer>
  <div class="row">
    <div class="col-12 col-sm-4">
      <p><strong>Blog Bitix</strong></p>
      <p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p>
      <p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p>
    </div>
    <div class="col-12 col-sm-4 text-center menu">
      <ul class="list-unstyled">
        <li><a href="/blog-bitix/tags/java/">Java</a></li>
        <li><a href="/blog-bitix/tags/gnu-linux/">GNU/Linux</a></li>
        <li><a href="/blog-bitix/tags/javascript/">JavaScript</a></li>
        <li><a href="/blog-bitix/tags/tapestry/">Tapestry</a></li>
        <li><a href="/blog-bitix/archive/">Archivo y hemeroteca</a></li>
        <li><a href="/blog-bitix/pages/links/">Enlaces</a></li>
        <li><a href="/blog-bitix/pages/advertising/">Publicidad</a></li>
        <li><a href="/blog-bitix/pages/donate/">Donaciones</a></li>
        <li><a href="/blog-bitix/pages/about/">Acerca de...</a></li>
        
      </ul>
    </div>
    <div class="col-12 col-sm-4 text-center links">
      
        <a href="https://picodotdev.github.io/blog-bitix/index.xml" title="¡Suscríbete a Blog Bitix!"><img src="/blog-bitix/assets/images/rss.png" width="50" height="50" class="icon"></a>
      
      
        <a href="https://twitter.com/picodotdev/" title="¡Sígueme en twitter!"><img src="/blog-bitix/assets/images/twitter.svg" width="50" height="50" class="icon"></a>
      
      
      
        <a href="https://github.com/picodotdev/blog-ejemplos/" title="¡Obtén el código fuente de los ejemplos!"><img src="/blog-bitix/assets/images/github.svg" width="50" height="50" class="icon"></a>
      
      
      
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      Copyleft <span class="copyleft">&copy;</span> 2020 - <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="nofollow"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" width="80" height="15" alt="Creative Commons License" title="Creative Commons License"></a><br />
      <a href="https://www.planetacodigo.com/" rel="nofollow"><img src="/blog-bitix/assets/images/planeta-codigo.png" width="80" height="15" alt="Planeta código" title="Planeta código"></a>
      <br/>
      <a href="https://picodotdev.github.io/blog-bitix/" rel="nofollow">Blog Bitix</a> by <a href="https://picodotdev.github.io/blog-bitix/">pico.dev</a> is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.
      <br/>
      <span class="credit">Powered by <a href="https://gohugo.io/" rel="nofollow" title="A fast and modern static website engine">Hugo</a> and <a href="https://pages.github.com/" title="Websites for you and your projects">GitHub Pages</a>.</span>
      <span class="credit">Background patterns from <a href="https://www.toptal.com/designers/subtlepatterns/" rel="nofollow">Subtle Patterns</a>.</span>
    </div>
  </div>
</footer>

  </div>
  
<div class="blueimp-gallery-container">
  <div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal="false">
    
    <div class="slides"></div>
    
    <h3 class="title"></h3>
    <a class="prev">‹</a>
    <a class="next">›</a>
    <a class="close">×</a>
    <a class="play-pause"></a>
    <ol class="indicator"></ol>
    
    <div class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" aria-hidden="true">&times;</button>
            <h4 class="modal-title"></h4>
          </div>
          <div class="modal-body next"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default pull-left prev">
              <i class="glyphicon glyphicon-chevron-left"></i>
              Anterior
            </button>
            <button type="button" class="btn btn-primary next">
              Siguiente
              <i class="glyphicon glyphicon-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

  
  <!-- Cookie Consent plugin by Silktide - http://silktide.com/cookieconsent -->
<script type="text/javascript">
    window.cookieconsent_options = {
        "message": "Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.",
        "dismiss": "Aceptar",
        "learnMore": "Más información",
        "link": null,
        "theme": "dark-bottom"
    };
</script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js" async></script>
</body>
</html>
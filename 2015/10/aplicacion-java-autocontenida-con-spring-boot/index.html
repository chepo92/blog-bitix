<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=picodotdev><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Tradicionalmente las aplicaciones Java web han sido instaladas en un contenedor de servlets como Tomcat o Jetty y Wildfly, JBoss o Weblogic si necesita más servicios que son ofrecidos por la plataforma Java EE completa como JMS, JPA, JTA o EJB. Aunque las aplicaciones se ejecutan independientemente unas de otras comparten el entorno de ejecución del servidor de aplicaciones, algunas aplicaciones no necesitarán todos los servicios que ofrecen los servidores de aplicaciones en su implementación del perfil completo Java EE y algunas nuevas aplicaciones pueden necesitar hacer uso de una nueva versión de un servicio como JMS con funcionalidades mejoradas. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Aplicación Java autocontenida con Spring Boot</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href="//fonts.googleapis.com/css?family=PT+Serif:400,700italic,700,400italic"><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.0.0/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.30.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js async></script><script type=text/javascript>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript async>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src=assets/libs/require.js></script><script type=text/javascript src=assets/js/main.js></script><script type=text/javascript src=assets/js/theme.js async></script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" async></script><script type=text/javascript src=assets/js/app.js async></script></head><body><div class=container><div class=row><div class=col><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 col-lg-8"><div class=row><div class=col-12><article itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content=es><meta itemprop=keywords content="blog-stack, java, planeta-codigo, programacion, spring"><h1 itemprop=name>Aplicación Java autocontenida con Spring Boot</h1><p class=information>Escrito por
<span itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2015-10-13>13/10/2015</time>, actualizado el <time itemprop=dateModified datetime=2015-12-06>06/12/2015</time>.<br><a href=tags/blog-stack/>blog-stack</a> <a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a> <a href=tags/spring/>spring</a><br><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/#comments>Comentarios</a></p><p class=summary itemprop=about>Si queremos una aplicación Java autocontenida ya sea una aplicación de linea de comandos, de escritorio o aplicación web que use el contenedor de dependencias de Spring podemos usar Spring Boot. Además de inicializar el contenedor IoC de Spring, Spring Boot proporciona en una aplicación web elegir el servidor de aplicaciones de entre el por defecto Tomcat y los seleccionables Jetty y Undertow junto con algunas funcionalidades más.</p><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><div class=content itemprop=articleBody><meta itemprop=wordCount content=2149><div class=logotypes style=float:right><img src=assets/images/logotipos/spring.svg class=right width=200 alt=Spring title=Spring></div><div class=logotypes style=float:right;clear:right><img src=assets/images/logotipos/java.svg class=right width=200 alt=Java title=Java></div><p>Tradicionalmente las aplicaciones Java web han sido instaladas en un contenedor de <em>servlets</em> como <a href=https://tomcat.apache.org/>Tomcat</a> o <a href=https://eclipse.org/jetty/>Jetty</a> y <a href=http://wildfly.org/>Wildfly</a>, <a href=https://www.jboss.org/>JBoss</a> o <a href=https://www.oracle.com/middleware/weblogic/>Weblogic</a> si necesita más servicios que son ofrecidos por la plataforma <abbr title="Java Enterprise Edition">Java EE</abbr> completa como <abbr title="Java Message Service">JMS</abbr>, <abbr title="Java Persistence API">JPA</abbr>, <abbr title="Java Transaction API">JTA</abbr> o <abbr title="Enterprise JavaBeans">EJB</abbr>. Aunque las aplicaciones se ejecutan independientemente unas de otras comparten el entorno de ejecución del servidor de aplicaciones, algunas aplicaciones no necesitarán todos los servicios que ofrecen los servidores de aplicaciones en su implementación del perfil completo Java EE y algunas nuevas aplicaciones pueden necesitar hacer uso de una nueva versión de un servicio como JMS con funcionalidades mejoradas. En el primer caso algunos servicios son innecesarios y en el segundo la actualización del servidor de aplicaciones se ha de producir para todas las aplicaciones que en él se ejecuten o tener varias versiones del mismo servidor de aplicaciones e ir instalando las aplicaciones en la versión del servidor según las versiones de los servicios para las que se desarrolló la aplicación.</p><p>Los microservicios proponen una aproximación diferente al despliegue de las aplicaciones prefiriendo entre otros aspectos que sean autocontenidos de tal forma que puedan evolucionar independieintemente unas de otras. Se puede <a href=https://picodotdev.github.io/blog-bitix/2015/03/aplicacion-web-java-autocontenida-con-tomcat-embedded/>ejecutar una aplicación web Java de forma autocontenida con la versión embebida de Tomcat</a>, Jetty también ofrece una versión embebible que puede usarse de forma similar de tal modo que ya no necesitemos instalar previamente además del <abbr title="Java Development Kit">JDK</abbr> la versión del servidor de aplicaciones que necesite.</p><p>Otra forma de poder hacer la aplicación autocontenida es con <a href=https://projects.spring.io/spring-boot/>Spring Boot</a>, internamente usa una versión embebible del servidor de aplicaciones de la misma forma que lo podemos usar directamente, la ventaja al usar Spring Boot es que soporta Tomcat, Jetty o <a href=http://undertow.io/>Undertow</a> y pasar de usar uno a otro es muy sencillo y prácticamente transparente para la aplicación, además proporciona algunas características adicionales como inicializar el contenedor <abbr title="Inversion of Control">IoC</abbr> de <a href=https://spring.io/>Spring</a>, configuración, perfiles para diferentes entornos (desarrollo, pruebas, producción), monitorización y métricas del servidor de aplicaciones y soporte para <a href=https://elblogdepicodev.blogspot.com.es/2012/03/herramienta-de-construccion-gradle.html>la herramienta de automaticación Gradle</a> entre algunas más. En el siguiente ejemplo mostraré como ejecutar una aplicación Java y una aplicación web Java con Spring Boot que usa <a href=https://picodotdev.github.io/blog-bitix/2015/05/alternativa-a-hibernate-u-orm-y-ejemplo-de-jooq/>jOOQ como alternativa a Hibernate</a>, <a href=https://picodotdev.github.io/blog-bitix/2014/02/libro-sobre-desarrollo-de-aplicaciones-con-apache-tapestry/>Apache Tapestry como <em>framework</em> web</a>, <a href=https://elblogdepicodev.blogspot.com.es/2013/05/modificar-la-base-de-datos-con-liquibase.html>Liquibase para crear el esquema y tablas de la base de datos</a> y por simplicidad <a href=http://www.h2database.com/html/main.html>H2</a> como base de datos.</p><p>Los mostrado en este artículo es solo una pequeña parte de lo que ofrece Sring Boot, en el libro <a rel=nofollow href="https://www.amazon.es/gp/product/1617292540/ref=as_li_ss_tl?ie=UTF8&camp=3626&creative=24822&creativeASIN=1617292540&linkCode=as2&tag=blobit-21">Spring Boot in Action</a><img src="https://ir-es.amazon-adsystem.com/e/ir?t=blobit-21&l=as2&o=30&a=1617292540" width=1 height=1 border=0 alt style=border:none!important;margin:0!important> se comenta en mucho más detalle y de forma didáctica, un libro muy recomendable para adentrarse rápidamente en ste nuevo mundo de posibilidades.</p><div class=media-amazon style=text-align:center><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=blobit-21&o=30&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=1617292540&internal=1" style=width:120px;height:240px scrolling=no marginwidth=0 marginheight=0 frameborder=0></iframe></div><p>Spring Boot proporciona un <em>plugin</em>, <em>spring-boot</em>, para <a href=https://gradle.org/>Gradle</a> que deberemos añadir al archivo <em>build.gradle</em>, a partir de este momento dispondremos algunas tareas adicionales en el proyecto como <em>bootRun</em> para ejecutar la aplicación desde Gradle (similar a la opción <em>run</em> y el parámetro <em>mainClassName</em> que añade el <em>plugin application</em>) y <em>bootRepackage</em> para poder ejecutar la aplicación con el comando <code>java -jar</code>.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=kn>import</span> <span class=nn>org.jooq.util.GenerationTool</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.Configuration</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.CustomType</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.Database</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.ForcedType</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.Generate</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.Generator</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.Jdbc</span>
<span class=kn>import</span> <span class=nn>org.jooq.util.jaxb.Target</span>

<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;eclipse&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;java&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;application&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;spring-boot&#39;</span>

<span class=n>mainClassName</span> <span class=o>=</span> <span class=s1>&#39;io.github.picodotdev.blogbitix.springboot.Main&#39;</span>

<span class=kt>def</span> <span class=n>versions</span> <span class=o>=</span> <span class=o>[</span>
    <span class=s1>&#39;gradle&#39;</span><span class=o>:</span>              <span class=s1>&#39;2.9&#39;</span><span class=o>,</span>
    <span class=s1>&#39;tapestry&#39;</span><span class=o>:</span>            <span class=s1>&#39;5.4-rc-1&#39;</span><span class=o>,</span>
    <span class=s1>&#39;spring&#39;</span><span class=o>:</span>              <span class=s1>&#39;4.2.3.RELEASE&#39;</span><span class=o>,</span>
    <span class=s1>&#39;spring_boot&#39;</span><span class=o>:</span>         <span class=s1>&#39;1.3.0.RELEASE&#39;</span><span class=o>,</span>
    <span class=s1>&#39;hibernate_validator&#39;</span><span class=o>:</span> <span class=s1>&#39;5.2.2.Final&#39;</span><span class=o>,</span>
    <span class=s1>&#39;jooq&#39;</span><span class=o>:</span>                <span class=s1>&#39;3.7.1&#39;</span><span class=o>,</span>
    <span class=s1>&#39;guava&#39;</span><span class=o>:</span>               <span class=s1>&#39;18.0&#39;</span><span class=o>,</span>
    <span class=s1>&#39;h2&#39;</span><span class=o>:</span>                  <span class=s1>&#39;1.4.190&#39;</span><span class=o>,</span>
    <span class=s1>&#39;slf4j&#39;</span><span class=o>:</span>               <span class=s1>&#39;1.7.13&#39;</span><span class=o>,</span>
    <span class=s1>&#39;log4j2&#39;</span><span class=o>:</span>              <span class=s1>&#39;2.4.1&#39;</span><span class=o>,</span>
    <span class=s1>&#39;servlet_api&#39;</span><span class=o>:</span>         <span class=s1>&#39;3.1.0&#39;</span>
<span class=o>]</span>

<span class=o>...</span>

<span class=n>repositories</span> <span class=o>{</span>
    <span class=n>mavenCentral</span><span class=o>()</span>
    
    <span class=c1>// For access to Apache Staging (Preview) packages
</span><span class=c1></span>    <span class=n>maven</span> <span class=o>{</span>
        <span class=n>name</span> <span class=s1>&#39;Apache Staging&#39;</span>
        <span class=n>url</span> <span class=s1>&#39;https://repository.apache.org/content/groups/staging&#39;</span>
    <span class=o>}</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=c1>// Spring
</span><span class=c1></span>    <span class=n>compile</span> <span class=s2>&#34;org.springframework:spring-context:$versions.spring&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.springframework:spring-jdbc:$versions.spring&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.springframework:spring-tx:$versions.spring&#34;</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter:$versions.spring_boot&#34;</span><span class=o>)</span> <span class=o>{</span> <span class=n>exclude</span><span class=o>(</span><span class=nl>group:</span> <span class=s1>&#39;ch.qos.logback&#39;</span><span class=o>)</span> <span class=o>}</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter-web:$versions.spring_boot&#34;</span><span class=o>)</span> <span class=o>{</span> <span class=n>exclude</span><span class=o>(</span><span class=nl>group:</span> <span class=s1>&#39;ch.qos.logback&#39;</span><span class=o>)</span> <span class=o>}</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter-actuator:$versions.spring_boot&#34;</span><span class=o>)</span> <span class=o>{</span> <span class=n>exclude</span><span class=o>(</span><span class=nl>group:</span> <span class=s1>&#39;ch.qos.logback&#39;</span><span class=o>)</span> <span class=o>}</span>
    <span class=n>compile</span> <span class=s2>&#34;org.hibernate:hibernate-validator:$versions.hibernate_validator&#34;</span>
    
    <span class=c1>// Tapestry
</span><span class=c1></span>    <span class=n>compile</span> <span class=s2>&#34;org.apache.tapestry:tapestry-core:$versions.tapestry&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.apache.tapestry:tapestry-webresources:$versions.tapestry&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.apache.tapestry:tapestry-javadoc:$versions.tapestry&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.apache.tapestry:tapestry-beanvalidator:$versions.tapestry&#34;</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.apache.tapestry:tapestry-spring:$versions.tapestry&#34;</span><span class=o>)</span> <span class=o>{</span> <span class=n>exclude</span><span class=o>(</span><span class=nl>group:</span> <span class=s1>&#39;org.springframework&#39;</span><span class=o>)</span> <span class=o>}</span>
    
    <span class=c1>// Database    
</span><span class=c1></span>    <span class=n>compile</span> <span class=s2>&#34;org.jooq:jooq:$versions.jooq&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.jooq:jooq-meta:$versions.jooq&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;commons-dbcp:commons-dbcp:1.4&#34;</span>
    <span class=n>runtime</span> <span class=s2>&#34;com.h2database:h2:$versions.h2&#34;</span>
    
    <span class=c1>// Logging
</span><span class=c1></span>    <span class=n>compile</span> <span class=s2>&#34;org.slf4j:slf4j-api:$versions.slf4j&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.apache.logging.log4j:log4j-slf4j-impl:$versions.log4j2&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.apache.logging.log4j:log4j-api:$versions.log4j2&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;org.apache.logging.log4j:log4j-core:$versions.log4j2&#34;</span>
    
    <span class=c1>// Misc
</span><span class=c1></span>    <span class=n>compile</span> <span class=s2>&#34;org.apache.commons:commons-lang3:3.4&#34;</span>
    <span class=n>compile</span> <span class=s2>&#34;javax.servlet:javax.servlet-api:$versions.servlet_api&#34;</span>
<span class=o>}</span>

<span class=o>...</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/build.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/build.gradle target=_blank>build.gradle</a></div></div><p>El punto de inicio de una aplicación de Spring Boot es una clase Java con su tradicional método <em>main</em>, en el ejemplo la clase <em>Main</em>. Bastan tres lineas para iniciar la aplicación y una anotación. Anotando con <a href=https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html><code>@SpringBootApplication</code></a> la clase que contiene el método <em>main</em> activaremos Spring Boot y el procesado de las anotaciones de Spring. En el método <em>main</em> estableciendo la clase contexto de la aplicación variaremos el tipo de aplicación <a href=https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/AnnotationConfigApplicationContext.html>AnnotationConfigApplicationContext</a> para una aplicación de linea de comandos o de escritorio y <a href=https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/AnnotationConfigWebApplicationContext.html>AnnotationConfigWebApplicationContext</a> para las aplicaciones web que inicializará el servidor de aplicaciones embebido. Implementando la interfaz <a href=https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/CommandLineRunner.html>CommandLineRunner</a> en la clase que contiene la anotación <em>SpringBootApplication</em> y su método <em>run</em> será el punto de entrada de la aplicación, en el método recibiremos los parámetros de la linea de comandos. Implementar esta interfaz es opcional en las aplicaciones web.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.springboot</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.time.LocalDateTime</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>org.jooq.DSLContext</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.beans.factory.annotation.Autowired</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.CommandLineRunner</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.SpringApplication</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.autoconfigure.SpringBootApplication</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.validation.Errors</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.web.context.support.AnnotationConfigWebApplicationContext</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.jooq.Keys</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.jooq.Tables</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.jooq.tables.records.DepartmentRecord</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.jooq.tables.records.EmployeeDepartmentRecord</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.jooq.tables.records.EmployeeRecord</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.misc.RecordContainer</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.service.AppService</span><span class=o>;</span>

<span class=nd>@SpringBootApplication</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main</span> <span class=kd>implements</span> <span class=n>CommandLineRunner</span> <span class=o>{</span>

    <span class=nd>@Autowired</span>
    <span class=kd>private</span> <span class=n>DSLContext</span> <span class=n>context</span><span class=o>;</span>
    
    <span class=nd>@Autowired</span>
    <span class=kd>private</span> <span class=n>AppService</span> <span class=n>service</span><span class=o>;</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>run</span><span class=o>(</span><span class=n>String</span><span class=o>...</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Number employees: %d%n&#34;</span><span class=o>,</span> <span class=n>service</span><span class=o>.</span><span class=na>countEmployees</span><span class=o>());</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Number departments: %d%n&#34;</span><span class=o>,</span> <span class=n>service</span><span class=o>.</span><span class=na>countDepartments</span><span class=o>());</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>();</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Relations (with 1+N problem)&#34;</span><span class=o>);</span>
        <span class=n>DepartmentRecord</span> <span class=n>department</span> <span class=o>=</span> <span class=n>service</span><span class=o>.</span><span class=na>findDepartment</span><span class=o>(</span><span class=n>1l</span><span class=o>);</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>EmployeeDepartmentRecord</span><span class=o>&gt;</span> <span class=n>eds</span> <span class=o>=</span> <span class=n>department</span><span class=o>.</span><span class=na>fetchChildren</span><span class=o>(</span><span class=n>Keys</span><span class=o>.</span><span class=na>DEPARTMENT_ID</span><span class=o>);</span>
        <span class=k>for</span> <span class=o>(</span><span class=n>EmployeeDepartmentRecord</span> <span class=n>ed</span> <span class=o>:</span> <span class=n>eds</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>EmployeeRecord</span> <span class=n>employee</span> <span class=o>=</span> <span class=n>ed</span><span class=o>.</span><span class=na>fetchParent</span><span class=o>(</span><span class=n>Keys</span><span class=o>.</span><span class=na>EMPLOYEE_ID</span><span class=o>);</span>    
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;%s %s%n&#34;</span><span class=o>,</span> <span class=n>employee</span><span class=o>.</span><span class=na>getName</span><span class=o>(),</span> <span class=n>department</span><span class=o>.</span><span class=na>getName</span><span class=o>());</span>
        <span class=o>}</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>();</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Multipletables (no 1+N)&#34;</span><span class=o>);</span>
        <span class=n>List</span><span class=o>&lt;</span><span class=n>RecordContainer</span><span class=o>&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>service</span><span class=o>.</span><span class=na>findDepartmentEmployees</span><span class=o>(</span><span class=n>1l</span><span class=o>);</span>
        <span class=n>data</span><span class=o>.</span><span class=na>stream</span><span class=o>().</span><span class=na>forEach</span><span class=o>((</span><span class=n>RecordContainer</span> <span class=n>c</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;%s %s%n&#34;</span><span class=o>,</span> <span class=n>c</span><span class=o>.</span><span class=na>getEmployee</span><span class=o>().</span><span class=na>getName</span><span class=o>(),</span> <span class=n>c</span><span class=o>.</span><span class=na>getDepartment</span><span class=o>().</span><span class=na>getName</span><span class=o>());</span>
        <span class=o>});</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>();</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Validation&#34;</span><span class=o>);</span>
        <span class=n>EmployeeRecord</span> <span class=n>employee</span> <span class=o>=</span> <span class=n>context</span><span class=o>.</span><span class=na>newRecord</span><span class=o>(</span><span class=n>Tables</span><span class=o>.</span><span class=na>EMPLOYEE</span><span class=o>);</span>
        <span class=n>employee</span><span class=o>.</span><span class=na>setBirthday</span><span class=o>(</span><span class=n>LocalDateTime</span><span class=o>.</span><span class=na>now</span><span class=o>().</span><span class=na>plusDays</span><span class=o>(</span><span class=n>1</span><span class=o>));</span>
        <span class=n>Errors</span> <span class=n>errors</span> <span class=o>=</span> <span class=n>service</span><span class=o>.</span><span class=na>validate</span><span class=o>(</span><span class=n>employee</span><span class=o>);</span>
        <span class=n>errors</span><span class=o>.</span><span class=na>getFieldErrors</span><span class=o>().</span><span class=na>stream</span><span class=o>().</span><span class=na>forEach</span><span class=o>(</span><span class=n>error</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;%s, %s, %s%n&#34;</span><span class=o>,</span> <span class=n>error</span><span class=o>.</span><span class=na>getField</span><span class=o>(),</span> <span class=n>error</span><span class=o>.</span><span class=na>getCode</span><span class=o>(),</span> <span class=n>error</span><span class=o>.</span><span class=na>getArguments</span><span class=o>(),</span> <span class=n>error</span><span class=o>.</span><span class=na>getRejectedValue</span><span class=o>());</span>
        <span class=o>});</span>
        <span class=n>errors</span><span class=o>.</span><span class=na>getGlobalErrors</span><span class=o>().</span><span class=na>stream</span><span class=o>().</span><span class=na>forEach</span><span class=o>(</span><span class=n>error</span> <span class=o>-&gt;</span> <span class=o>{</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;%s, %s, %s%n&#34;</span><span class=o>,</span> <span class=n>error</span><span class=o>.</span><span class=na>getObjectName</span><span class=o>(),</span> <span class=n>error</span><span class=o>.</span><span class=na>getCode</span><span class=o>(),</span> <span class=n>error</span><span class=o>.</span><span class=na>getArguments</span><span class=o>());</span>
        <span class=o>});</span>
    <span class=o>}</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
        <span class=n>SpringApplication</span> <span class=n>application</span> <span class=o>=</span> <span class=k>new</span> <span class=n>SpringApplication</span><span class=o>(</span><span class=n>Main</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
        <span class=c1>//application.setApplicationContextClass(AnnotationConfigApplicationContext.class);
</span><span class=c1></span>     <span class=n>application</span><span class=o>.</span><span class=na>setApplicationContextClass</span><span class=o>(</span><span class=n>AnnotationConfigWebApplicationContext</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>
        <span class=n>SpringApplication</span><span class=o>.</span><span class=na>run</span><span class=o>(</span><span class=n>Main</span><span class=o>.</span><span class=na>class</span><span class=o>,</span> <span class=n>args</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/Main.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/Main.java target=_blank>Main.java</a></div></div><p>La clase <em>AppConfiguration</em> contiene la definición de <em>beans</em> propios del contenedor de inversión de control de las aplicaciones que serán inyectados en las clases donde se indiquen. Pero además definiendo algunos <em>beans</em> podremos configurar el servidor de aplicaciones embebido y la aplicación. Con el <em>bean</em> <a href=https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/SpringServletContainerInitializer.html>ServletContextInitializer</a> podemos definir parámetros de inicialización, filtros, <em>servlets</em>, listeners, propiedades de <em>cookies</em> y obtener información del entorno. Con el <em>bean</em> <a href=https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/embedded/EmbeddedServletContainerCustomizer.html>EmbeddedServletContainerCustomizer</a> podemos añadir páginas de error para estados como 404 o 500, configurar el puerto de servicio, establecer la dirección IP, el contexto de la aplicación, directorio raíz de archivos del servidor web, SSL/TLS y tiempo de vida de las sesiones. Con el <em>bean</em> <a href=https://docs.spring.io/autorepo/docs/spring-boot/current/api/org/springframework/boot/context/embedded/tomcat/TomcatConnectorCustomizer.html>TomcatConnectorCustomizer</a> se pueden personalizar diferentes parámetros del conector y con el <em>bean</em> <a href=https://docs.spring.io/autorepo/docs/spring-boot/current/api/org/springframework/boot/context/embedded/tomcat/TomcatContextCustomizer.html>TomcatContextCustomizer</a> varios parámetros del contexto que en un Tomcat instalado como paquete de software configuraríamos mediante el archivo de configuración <em>server.xml</em> o <em>context.xml</em>. Para que las peticiones se procesen por el <em>framework</em> web Tapestry se define su filtro en el ejemplo o si fuese el caso un <em>servlet</em>. Toda esta configuración es similar a lo que definimos en el archivo <em>web.xml</em>, pero en código Java al ser validado por el compilador es menos propenso a errores que los archivos de texto xml.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.spring</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.io.IOException</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.EnumSet</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>javax.servlet.DispatcherType</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.servlet.ServletContext</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.servlet.ServletException</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.servlet.SessionTrackingMode</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.sql.DataSource</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>javax.validation.Validator</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>org.apache.catalina.Context</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.apache.catalina.connector.Connector</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.apache.catalina.connector.Request</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.apache.catalina.connector.Response</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.apache.catalina.valves.ValveBase</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.apache.commons.dbcp.BasicDataSource</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.apache.tapestry5.spring.TapestrySpringFilter</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.jooq.ConnectionProvider</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.jooq.DSLContext</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.jooq.SQLDialect</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.jooq.impl.DSL</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.jooq.impl.DataSourceConnectionProvider</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.jooq.impl.DefaultConfiguration</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.ConfigurableEmbeddedServletContainer</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.EmbeddedServletContainerCustomizer</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.ErrorPage</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.ServletContextInitializer</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.tomcat.TomcatConnectorCustomizer</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.tomcat.TomcatContextCustomizer</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.context.annotation.Bean</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.context.annotation.ComponentScan</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.context.annotation.Configuration</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.http.HttpStatus</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.jdbc.datasource.DataSourceTransactionManager</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.transaction.annotation.EnableTransactionManagement</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.transaction.support.ResourceTransactionManager</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>org.springframework.validation.beanvalidation.LocalValidatorFactoryBean</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.service.AppService</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.service.DefaultAppService</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.springboot.validator.EmployeeValidator</span><span class=o>;</span>

<span class=nd>@Configuration</span>
<span class=nd>@ComponentScan</span><span class=o>({</span> <span class=s>&#34;io.github.picodotdev.blogbitix.springboot&#34;</span> <span class=o>})</span>
<span class=nd>@EnableTransactionManagement</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>AppConfiguration</span> <span class=o>{</span>

    <span class=nd>@Bean</span><span class=o>(</span><span class=n>destroyMethod</span> <span class=o>=</span> <span class=s>&#34;close&#34;</span><span class=o>)</span>
    <span class=kd>public</span> <span class=n>DataSource</span> <span class=nf>dataSource</span><span class=o>()</span> <span class=o>{</span>
        <span class=n>BasicDataSource</span> <span class=n>ds</span> <span class=o>=</span> <span class=k>new</span> <span class=n>BasicDataSource</span><span class=o>();</span>
        <span class=n>ds</span><span class=o>.</span><span class=na>setDriverClassName</span><span class=o>(</span><span class=s>&#34;org.h2.Driver&#34;</span><span class=o>);</span>
        <span class=n>ds</span><span class=o>.</span><span class=na>setUrl</span><span class=o>(</span><span class=s>&#34;jdbc:h2:./misc/database/app&#34;</span><span class=o>);</span>
        <span class=n>ds</span><span class=o>.</span><span class=na>setUsername</span><span class=o>(</span><span class=s>&#34;sa&#34;</span><span class=o>);</span>
        <span class=n>ds</span><span class=o>.</span><span class=na>setPassword</span><span class=o>(</span><span class=s>&#34;sa&#34;</span><span class=o>);</span>
        <span class=k>return</span> <span class=n>ds</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>ResourceTransactionManager</span> <span class=nf>transactionManager</span><span class=o>(</span><span class=n>DataSource</span> <span class=n>dataSource</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>DataSourceTransactionManager</span><span class=o>(</span><span class=n>dataSource</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>ConnectionProvider</span> <span class=nf>connectionProvider</span><span class=o>(</span><span class=n>DataSource</span> <span class=n>dataSource</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>DataSourceConnectionProvider</span><span class=o>(</span><span class=n>dataSource</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>org</span><span class=o>.</span><span class=na>jooq</span><span class=o>.</span><span class=na>Configuration</span> <span class=nf>config</span><span class=o>(</span><span class=n>ConnectionProvider</span> <span class=n>connectionProvider</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>DefaultConfiguration</span> <span class=n>config</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DefaultConfiguration</span><span class=o>();</span>
        <span class=n>config</span><span class=o>.</span><span class=na>set</span><span class=o>(</span><span class=n>connectionProvider</span><span class=o>);</span>
        <span class=n>config</span><span class=o>.</span><span class=na>set</span><span class=o>(</span><span class=n>SQLDialect</span><span class=o>.</span><span class=na>H2</span><span class=o>);</span>
        <span class=k>return</span> <span class=n>config</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>Validator</span> <span class=nf>validator</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>LocalValidatorFactoryBean</span><span class=o>();</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>DSLContext</span> <span class=nf>dsl</span><span class=o>(</span><span class=n>org</span><span class=o>.</span><span class=na>jooq</span><span class=o>.</span><span class=na>Configuration</span> <span class=n>config</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=n>DSL</span><span class=o>.</span><span class=na>using</span><span class=o>(</span><span class=n>config</span><span class=o>);</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>ServletContextInitializer</span> <span class=nf>initializer</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>ServletContextInitializer</span><span class=o>()</span> <span class=o>{</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>onStartup</span><span class=o>(</span><span class=n>ServletContext</span> <span class=n>servletContext</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>ServletException</span> <span class=o>{</span>
                <span class=n>servletContext</span><span class=o>.</span><span class=na>setInitParameter</span><span class=o>(</span><span class=s>&#34;tapestry.app-package&#34;</span><span class=o>,</span> <span class=s>&#34;io.github.picodotdev.blogbitix.springboot.tapestry&#34;</span><span class=o>);</span>
                <span class=n>servletContext</span><span class=o>.</span><span class=na>setInitParameter</span><span class=o>(</span><span class=s>&#34;tapestry.use-external-spring-context&#34;</span><span class=o>,</span> <span class=s>&#34;true&#34;</span><span class=o>);</span>
                <span class=n>servletContext</span><span class=o>.</span><span class=na>addFilter</span><span class=o>(</span><span class=s>&#34;app&#34;</span><span class=o>,</span> <span class=n>TapestrySpringFilter</span><span class=o>.</span><span class=na>class</span><span class=o>).</span><span class=na>addMappingForUrlPatterns</span><span class=o>(</span><span class=n>EnumSet</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>DispatcherType</span><span class=o>.</span><span class=na>REQUEST</span><span class=o>,</span> <span class=n>DispatcherType</span><span class=o>.</span><span class=na>ERROR</span><span class=o>),</span> <span class=kc>false</span><span class=o>,</span> <span class=s>&#34;/*&#34;</span><span class=o>);</span>
                <span class=n>servletContext</span><span class=o>.</span><span class=na>setSessionTrackingModes</span><span class=o>(</span><span class=n>EnumSet</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>SessionTrackingMode</span><span class=o>.</span><span class=na>COOKIE</span><span class=o>));</span>
            <span class=o>}</span>
        <span class=o>};</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>EmbeddedServletContainerCustomizer</span> <span class=nf>containerCustomizer</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>EmbeddedServletContainerCustomizer</span><span class=o>()</span> <span class=o>{</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>customize</span><span class=o>(</span><span class=n>ConfigurableEmbeddedServletContainer</span> <span class=n>container</span><span class=o>)</span> <span class=o>{</span>
                <span class=n>ErrorPage</span> <span class=n>error404Page</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ErrorPage</span><span class=o>(</span><span class=n>HttpStatus</span><span class=o>.</span><span class=na>NOT_FOUND</span><span class=o>,</span> <span class=s>&#34;/error404&#34;</span><span class=o>);</span>
                <span class=n>ErrorPage</span> <span class=n>error500Page</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ErrorPage</span><span class=o>(</span><span class=n>HttpStatus</span><span class=o>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=o>,</span> <span class=s>&#34;/error500&#34;</span><span class=o>);</span>
                <span class=n>container</span><span class=o>.</span><span class=na>addErrorPages</span><span class=o>(</span><span class=n>error404Page</span><span class=o>,</span> <span class=n>error500Page</span><span class=o>);</span>
            <span class=o>}</span>
        <span class=o>};</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>TomcatConnectorCustomizer</span> <span class=nf>connectorCustomizer</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>TomcatConnectorCustomizer</span><span class=o>()</span> <span class=o>{</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>customize</span><span class=o>(</span><span class=n>Connector</span> <span class=n>connector</span><span class=o>)</span> <span class=o>{</span>
            <span class=o>}</span>
        <span class=o>};</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>TomcatContextCustomizer</span> <span class=nf>contextCustomizer</span><span class=o>()</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>TomcatContextCustomizer</span><span class=o>()</span> <span class=o>{</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>customize</span><span class=o>(</span><span class=n>Context</span> <span class=n>context</span><span class=o>)</span> <span class=o>{</span>
            <span class=o>}</span>
        <span class=o>};</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>TomcatEmbeddedServletContainerFactory</span> <span class=nf>containerFactory</span><span class=o>()</span> <span class=o>{</span>
        <span class=n>TomcatEmbeddedServletContainerFactory</span> <span class=n>factory</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TomcatEmbeddedServletContainerFactory</span><span class=o>();</span>
        <span class=n>factory</span><span class=o>.</span><span class=na>addContextValves</span><span class=o>(</span><span class=k>new</span> <span class=n>ValveBase</span><span class=o>()</span> <span class=o>{</span>
            <span class=nd>@Override</span>
            <span class=kd>public</span> <span class=kt>void</span> <span class=nf>invoke</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>,</span> <span class=n>Response</span> <span class=n>response</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>IOException</span><span class=o>,</span> <span class=n>ServletException</span> <span class=o>{</span>
                <span class=n>getNext</span><span class=o>().</span><span class=na>invoke</span><span class=o>(</span><span class=n>request</span><span class=o>,</span> <span class=n>response</span><span class=o>);</span>
            <span class=o>}</span>
        <span class=o>});</span>
        <span class=k>return</span> <span class=n>factory</span><span class=o>;</span>
    <span class=o>}</span>

    <span class=nd>@Bean</span>
    <span class=kd>public</span> <span class=n>AppService</span> <span class=nf>appService</span><span class=o>(</span><span class=n>DSLContext</span> <span class=n>context</span><span class=o>,</span> <span class=n>Validator</span> <span class=n>validator</span><span class=o>,</span> <span class=n>EmployeeValidator</span> <span class=n>employeeValidator</span><span class=o>)</span> <span class=o>{</span>
        <span class=k>return</span> <span class=k>new</span> <span class=n>DefaultAppService</span><span class=o>(</span><span class=n>context</span><span class=o>,</span> <span class=n>validator</span><span class=o>,</span> <span class=n>employeeValidator</span><span class=o>);</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/AppConfiguration.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/AppConfiguration.java target=_blank>AppConfiguration.java</a></div></div><p>No será muy común pero si queremos configurar algunas propiedades internas como las <a href=https://tomcat.apache.org/tomcat-8.0-doc/config/valve.html>válvulas de Tomcat</a> que funcionalmente es similar a un filtro de una aplicación web Java podemos definir un <em>bean</em> del tipo <a href=https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.html>TomcatEmbeddedServletContainerFactory</a>, con esta factoría además podremos configurar muchas de las propiedades que podemos configurar con ServletContextInitializer y EmbeddedServletContainerCustomizer pero salvo por las válvulas que es específico de Tomcat la forma preferida hacer la configuración es con estas últimas clases.</p><p>Si en vez de usar Tomcat queremos usar Jetty o Undertow debemos cambiar las dependencias de la aplicación, excluimos la dependencia transitiva Tomcat y por defecto de <em>spring-boot-starter-web</em> e incluimos la propia del servidor que deseemos.
<a href=httpd://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-use-jetty-instead-of-tomcat>spring-boot-starter-jetty</a> para Jetty y <a href=httpd://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-use-undertow-instead-of-tomcat>spring-boot-starter-undertow</a> para Undertow. En el siguiente código la configuración a modificar en el archivo <em>build.gradle</em> para ambas.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=n>configurations</span> <span class=o>{</span>
    <span class=n>compile</span><span class=o>.</span><span class=na>exclude</span> <span class=nl>module:</span> <span class=s2>&#34;spring-boot-starter-tomcat&#34;</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter-web:$versions.spring_boot&#34;</span><span class=o>)</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter-jetty:$versions.spring_boot&#34;</span><span class=o>)</span>
    <span class=c1>// ...
</span><span class=c1></span><span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/build-jetty.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/build-jetty.gradle target=_blank>build-jetty.gradle</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=n>configurations</span> <span class=o>{</span>
    <span class=n>compile</span><span class=o>.</span><span class=na>exclude</span> <span class=nl>module:</span> <span class=s2>&#34;spring-boot-starter-tomcat&#34;</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter-web:$versions.spring_boot&#34;</span><span class=o>)</span>
    <span class=n>compile</span><span class=o>(</span><span class=s2>&#34;org.springframework.boot:spring-boot-starter-undertow:$versions.spring_boot&#34;</span><span class=o>)</span>
    <span class=c1>// ...
</span><span class=c1></span><span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/build-undertow.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/build-undertow.gradle target=_blank>build-undertow.gradle</a></div></div><p>El resto de esta aplicación de ejemplo es propio de <a href=https://www.jooq.org/>jOOQ</a> y de <a href=https://tapestry.apache.org/>Apache Tapestry</a>. Para inicializar la base de datos H2 antes de ejecutar la aplicación debemos ejecutar la tarea de Gradle <em>updataDatabase</em> que creará las base de datos, esquema y tablas con la herramienta <a href=http://www.liquibase.org/>Liquibase</a>.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash>$ ./gradlew updateDatabase
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/update-database.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/update-database.sh target=_blank>update-database.sh</a></div></div><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/SpringBoot>código fuente del ejemplo completo</a> puedes encontrarlo en el repositorio de ejemplos de Blog Bitix, arrancarlo y acceder con el navegador a la dirección <a href=http://127.0.0.1:8080/>http://127.0.0.1:8080/</a>.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Bash data-lang=Bash>$ ./gradlew run
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/run.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/code/run.sh target=_blank>run.sh</a></div></div><p>En el siguiente vídeo puede verse como es la salida en la terminal cuando la aplicación se arranca con Gradle y con el comando <code>java -jar</code>.</p><div class=media style=text-align:center><figure><script type=text/javascript src=https://asciinema.org/a/27694.js id=asciicast-27694 async></script><noscript><a href=https://asciinema.org/a/27694 target=_blank><img src=https://asciinema.org/a/27694.png width=734></a></noscript><figcaption>Uso de Spring Boot con Gradle y Java</figcaption></figure></div><p>Añadiendo la dependencia <a href=https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready>Spring Boot Actuator</a> podemos <a href=https://picodotdev.github.io/blog-bitix/2015/12/informacion-y-metricas-de-la-aplicacion-con-spring-boot-actuator/>obtener información de estado y métricas en las aplicaciones Spring Boot</a>.</p><p>En un repositorio de GitHub de Spring hay muchos más <a href=https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples>ejemplos sobre Spring Boot</a>.</p><div class=reference>Referencia:<br><ul><li><a href=https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/>Documentación de Spring Boot</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/12/informacion-y-metricas-de-la-aplicacion-con-spring-boot-actuator/>Información y métricas de aplicación con Spring Boot Actuator</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/11/configuracion-de-una-aplicacion-en-diferentes-entornos-con-spring-cloud-config/>Configuración de una aplicación en diferentes entornos con Spring Cloud Config</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/03/aplicacion-web-java-autocontenida-con-tomcat-embedded/>Aplicación web Java de forma autontenida con la versión embebida de Tomcat</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2012/03/herramienta-de-construccion-gradle.html>La herramienta de automaticación Gradle</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/05/alternativa-a-hibernate-u-orm-y-ejemplo-de-jooq/>Alternativa a Hibernate u ORM y ejemplo de jOOQ</a></li></ul></div></div></article></div></div><div class="row serie"><div class=col-md-12><h3>Este artículo forma parte de la serie <strong>spring-cloud</strong>:</h3><ol class=serie-articles><li><a href=https://picodotdev.github.io/blog-bitix/2015/03/datos-de-sesion-externalizados-con-spring-session/>Datos de sesión externalizados con Spring Session</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/10/aplicacion-java-autocontenida-con-spring-boot/>Aplicación Java autocontenida con Spring Boot</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/11/configuracion-de-una-aplicacion-en-diferentes-entornos-con-spring-cloud-config/>Configuración de una aplicación en diferentes entornos con Spring Cloud Config</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/12/informacion-y-metricas-de-la-aplicacion-con-spring-boot-actuator/>Información y métricas de la aplicación con Spring Boot Actuator</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2017/01/registro-y-descubrimiento-de-servicios-con-spring-cloud-y-consul/>Registro y descubrimiento de servicios con Spring Cloud y Consul</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/08/aplicaciones-basadas-en-microservicios/>Aplicaciones basadas en microservicios</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/09/registro-y-descubrimiento-de-servicios-con-spring-cloud-netflix/>Registro y descubrimiento de servicios con Spring Cloud Netflix</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/09/servicio-de-configuracion-para-microservicios-con-spring-cloud-config/>Servicio de configuración para microservicios con Spring Cloud Config</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/09/recargar-sin-reiniciar-la-configuracion-de-una-aplicacion-spring-boot-con-spring-cloud-config/>Recargar sin reiniciar la configuración de una aplicación Spring Boot con Spring Cloud Config</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/09/almacenar-cifrados-los-valores-de-configuracion-sensibles-en-spring-cloud-config/>Almacenar cifrados los valores de configuración sensibles en Spring Cloud Config</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/10/tolerancia-a-fallos-en-un-cliente-de-microservicio-con-spring-cloud-netflix-y-hystrix/>Tolerancia a fallos en un cliente de microservicio con Spring Cloud Netflix y Hystrix</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/10/balanceo-de-carga-y-resilencia-en-un-microservicio-con-spring-cloud-netflix-y-ribbon/>Balanceo de carga y resilencia en un microservicio con Spring Cloud Netflix y Ribbon</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/10/proxy-para-microservicios-con-spring-cloud-netflix-y-zuul/>Proxy para microservicios con Spring Cloud Netflix y Zuul</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/12/monitorizar-una-aplicacion-java-de-spring-boot-con-micrometer-prometheus-y-grafana/>Monitorizar una aplicación Java de Spring Boot con Micrometer, Prometheus y Grafana</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2018/12/exponer-las-metricas-de-hystrix-en-grafana-con-prometheus-de-una-aplicaci%C3%B3n-spring-boot/>Exponer las métricas de Hystrix en Grafana con Prometheus de una aplicación Spring Boot</a></li></ol></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class=col-12><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2015\/10\/aplicacion-java-autocontenida-con-spring-boot\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2015\/10\/aplicacion-java-autocontenida-con-spring-boot\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div><div class="col-12 col-lg-4"><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:300px;height:600px data-ad-client=ca-pub-3533636310991304 data-ad-slot=9559414587 data-type=large-skycraper></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:336px;height:280px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2873752587 data-type=large-rectangle></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class="row text-center banner"><div class=col-12><a href=https://picodotdev.github.io/blog-bitix/2015/12/yo-apoyo-al-software-libre-tu-tambien/><img src=//static.fsf.org/nosvn/images/badges/badges_es/i-support-fs_red-bg-es.png alt="Yo apoyo al software libre"></a></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row><div class=col-md-12><ul class="list-unstyled recents"><li><span class="glyphicon glyphicon-hand-right"></span><a href=archive/>Más artículos recientes en el archivo</a></li></ul></div></div></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property=dct:title><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property=cc:attributionName rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=picodotdev><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Varv se define a si misma como una librería funcional para Java 8&#43;. Ayuda a reducir la cantidad de código y a incrementar la robustez. Un primer paso hacia la programación funcional es empezar a pensar en valores inmutables. Vavr proporciona colecciones inmutables, las necesarias funciones y estructuras de control para operar estos valores. El resultado es bello y simplemente funciona.
Dicho esto un código no se evalúa únicamente por la cantidad de lineas de código que contiene menos lineas no siempre es mejor si otra variable a tener en cuenta es la legibilidad que facilite la compresión del código a otra persona y a uno mismo en un futuro. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Introducción a la programación funcional con Java y la librería Vavr</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href="//fonts.googleapis.com/css?family=PT+Serif:400,400i,700"><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.2.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript defer>var require={baseUrl:'assets',paths:{'jquery':'libs/jquery.slim.min','bootstrap':'libs/bootstrap-4.2.1/js/bootstrap.min','blueimp-helper':'libs/Gallery-2.33.0/js/blueimp-helper','blueimp-gallery':'libs/Gallery-2.33.0/js/blueimp-gallery','blueimp-gallery-indicator':'libs/Gallery-2.33.0/js/blueimp-gallery-indicator','blueimp-gallery-video':'libs/Gallery-2.33.0/js/blueimp-gallery-video','blueimp-gallery-vimeo':'libs/Gallery-2.33.0/js/blueimp-gallery-vimeo','blueimp-gallery-youtube':'libs/Gallery-2.33.0/js/blueimp-gallery-youtube','jquery-blueimp-gallery':'libs/Gallery-2.33.0/js/jquery.blueimp-gallery'},shim:{'jquery':{exports:'jquery'},'blueimp-gallery':{exports:'blueimp'}}};</script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 col-lg-8"><div class=row><div class=col-12><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content=es><meta itemprop=keywords content="blog-stack, java, planeta-codigo, programacion"><h1 itemprop=name>Introducción a la programación funcional con Java y la librería Vavr</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2017-12-15>15/12/2017</time>.<br><a href=tags/blog-stack/>blog-stack</a> <a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a><br><a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/#comments>Comentarios</a></p><p class=summary itemprop=about>Ciertas propiedades de la programación funcional fueron una de las características más destacadas añadidas a Java 8. La librería Javaslang y más tarde renombrada a Vavr basándose en estas nueva características añade algunas otras que no están incluidas en el propio JDK y están presentes en otros lenguajes más recientes y con programación funcional desde sus inicios. En esta breve introducción a la librería Vavr comentaré cuales son las propiedades que proporciona para simplificar algunas aspectos de la tarea de programación.</p><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script><div class=content itemprop=articleBody><meta itemprop=wordCount content=1458><div class=logotypes style=float:right><img src=assets/images/logotipos/vavr.png class=right width=300 alt=Vavr title=Vavr></div><p>Varv se define a si misma como una librería funcional para Java 8+. Ayuda a reducir la cantidad de código y a incrementar la robustez. Un primer paso hacia la programación funcional es empezar a pensar en valores inmutables. Vavr proporciona colecciones inmutables, las necesarias funciones y estructuras de control para operar estos valores. El resultado es bello y simplemente funciona.</p><p>Dicho esto un código no se evalúa únicamente por la cantidad de lineas de código que contiene menos lineas no siempre es mejor si otra variable a tener en cuenta es la legibilidad que facilite la compresión del código a otra persona y a uno mismo en un futuro.</p><p>Me parece que ha sido hace mucho menos pero Java 8 fue publicado ya nada más y nada menos que hace casi cuatro años, una de las mayores modificaciones al lenguaje Java desde Java 5. Una de la nuevas características añadidas más destacadas fue la incorporación de las funciones <em>lambda</em> que posibilitan la programación funcional. Las <em>lambdas</em> combinado con los <em>streams</em>, otra de las nuevas características, en las colecciones hacen posible escribir con muchas menos líneas de código y de una forma mucho más natural y legible para la misma funcionalidad que en versiones anteriores. Las <a href=https://picodotdev.github.io/blog-bitix/2014/03/novedades-y-nuevas-caracteristicas-de-java-8/>nuevas características añadidas al lenguaje en Java 8</a> ya por si solas son una gran mejora sin embargo a algunos no les parecen suficientes, una de las librerías Java del momento es <a href=https://www.vavr.io/>Vavr</a> que mejora y añade nuevas funcionalidades basándose en las novedades básicas añadidas al lenguaje en la versión 8.</p><p>Java 8 no las incorpora todo lo que podría en el JDK por decisión de los desarrolladores, ya que una de los principios que guían el desarrollo de Java es la compatibilidad hacia atrás e incorporar cosas en el lenguaje o JDK que en un momento determinado hasta que no demuestran que son realmente útiles y beneficiosas. Conservar la compatibilidad hacia atrás es una fortaleza pero que puede dar la sensación que Java siempre va un paso por detrás en incorporar novedades, aún así complementado con librerías como Vavr en el caso de las programación funcional se echa de menos menos otros lenguajes como <a href=https://kotlinlang.org/>Kotlin</a> o <a href=https://clojure.org/>Clojure</a>.</p><div class=media style=text-align:center><figure><a href=assets/images/posts/2017/288/vavr-overview.png title="Jerarquía de clases de Vavr" data-gallery><img src=assets/images/posts/2017/288/vavr-overview-thumb.png></a><figcaption>Jerarquía de clases de Vavr</figcaption></figure></div><p>Los principios que sigue la librería Vavr y que forman la tendencia en la programación y la programación funcional son:</p><ul><li>Efectos colaterales: los cambios de estado son considerados dañinos si afectan al programa de una forma no deseada.</li><li>Transparencia referencial: una función o expresión tiene esta propiedad si puede ser reemplazada por su valor sin afectar al comportamiento del programa. Dicho de otra forma, dados los mismos datos de entrada el resultado de la función o expresión es el mismo. Una función es <em>pura</em> si todas las expresiones que contiene tienen la propiedad de <em>transparencia referencial</em>.</li><li>Pensar en valores: los valores más interesantes son aquellos que son inmutables ya que son <em>thread-safe</em> no necesitando mecanismos de sincronización en su acceso o modificación, son estables para las funciones <em>equals</em> y <em>hashCode</em> siendo confiables como claves <em>hash</em> y no necesitan ser clonados.</li><li>Estructuras de datos: proporciona una colección rica de estructuras de datos funcionales apoyándose en la funciones <em>lambda</em>. Son un reemplazo para las colecciones estándar de Java, la única interfaz que comparten es <a href=https://docs.oracle.com/javase/9/docs/api/java/lang/Iterable.html>Iterable</a>. Las colecciones de Java ocultan los detalles de implementación y las estructuras de datos internas pero son <em>colecciones mutables</em>. Las <em>colecciones inmutables</em> en Java se proporcionan como envoltorios que lanzan una excepción al intentarlas modificar. La <em>colecciones persistentes</em> son efectivamente inmutables realizando pequeñas modificaciones y conservando las estructuras anteriores y nuevas y permitiendo consultar y modificar cualquiera de sus versiones.</li><li>Estructuras de datos funcionales: son aquellas estructuras de datos inmutables, persistentes y los métodos tienen la propiedad de transparencia referencial.</li><li>Colecciones: los <em>stream</em> de Java para las colecciones son una forma de recorrerlas, realizar una computación y obtener una nueva colección. Los <em>stream</em> de Vavr no están tan relacionados con las colecciones.</li></ul><p>Vavr proporciona una representación bien diseñada de algunos de los tipos más básicos que aparentemente están ausentes o son rudimentarios en Java: <em>Tuple</em>, <em>Value</em> y <em>λ</em> (función <em>lambda</em>). Entre las funcionalidades proporcionadas por Vavr están:</p><ul><li>Tuplas: son una caja para contener varios objetos evitando la necesidad de crear una clase especifica si esta no tiene ningún comportamiento asociado. Vavr proporciona tuplas hasta de 8 elementos, de <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/Tuple0.html>Tuple0</a> a <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/Tuple8.html>Tuple8</a>.</li><li>Funciones: la programación funcional se basa en los valores y la transformación de esos valores usando funciones. Java 8 proporciona la clase <a href=https://docs.oracle.com/javase/9/docs/api/java/util/function/package-summary.html>Function</a> que acepta solo un parámetro y la clase <a href=https://docs.oracle.com/javase/9/docs/api/java/util/function/package-summary.html>BiFunction</a> que acepta dos. En Vavr las interfaces funcionales van de <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/Function0.html>Function0</a> hasta <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/Function8.html>Function8</a>. Es posible aplicar conceptos como <em>composition</em>, <em>lifting</em>, <em>partial application</em>, <em>currying</em> o <em>memoization</em>.</li><li>Valores: los valores en Vavr son inmutables. Algunos objetos <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/Value.html>Value</a> proporcionados son: <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/control/Option.html>Option</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/control/Try.html>Try</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/Lazy.html>Lazy</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/control/Either.html>Either</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/concurrent/Future.html>Future</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/control/Validation.html>Validation</a>.</li><li>Colecciones: se ha diseñado una nueva librería de colecciones para Java que cumple con los requerimientos de la programación funcional e inmutabilidad. <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/List.html>List</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/Queue.html>Queue</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/SortedSet.html>SortedSet</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/Seq.html>Seq</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/Set.html>Set</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/Map.html>Map</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/Stream.html>Stream</a>, <a href=http://static.javadoc.io/io.vavr/vavr/0.9.2/io/vavr/collection/Traversable.html>Traversable</a>, &hellip;</li></ul><div class=media style=text-align:center><figure><a href=assets/images/posts/2017/288/collections-seq.png title="Jerarquía de clases de Seq" data-gallery><img src=assets/images/posts/2017/288/collections-seq-thumb.png></a>
<a href=assets/images/posts/2017/288/collections-set-map.png title="Jerarquía de clases de Set y Map" data-gallery><img src=assets/images/posts/2017/288/collections-set-map-thumb.png></a><figcaption>Jerarquía de clases de Seq, Set y Map</figcaption></figure></div><ul><li><em>Pattern matching</em>: son una especie de sentencia <em>switch</em> que son evaluadas como una expresión y que retornan un valor.</li></ul><p>Entre la <a href=http://www.vavr.io/vavr-docs>documentación de Varv</a> hay numerosos ejemplos de código de todo lo anterior que recomiendo leer. En el siguiente ejemplo de código incluyo algunos posibles casos de uso de varias de las funcionalidades anteriores. En definitiva la librería Vavr complementa y añade a Java algunas de las características presentes en la programación funcional de otros lenguajes.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Java data-lang=Java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.vavr</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>io.vavr.*</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vavr.Lazy</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vavr.collection.List</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vavr.collection.Stream</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vavr.control.Either</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vavr.control.Option</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>io.vavr.control.Try</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.math.BigDecimal</span><span class=o>;</span>

<span class=kn>import static</span> <span class=nn>io.vavr.API.*</span><span class=o>;</span>
<span class=kn>import static</span> <span class=nn>io.vavr.Predicates.instanceOf</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main</span> <span class=o>{</span>
    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Throwable</span> <span class=o>{</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Side-Effects&#34;</span><span class=o>);</span>
        <span class=o>{</span>
            <span class=n>CheckedFunction2</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>divide</span> <span class=o>=</span> <span class=o>(</span><span class=n>Integer</span> <span class=n>dividend</span><span class=o>,</span> <span class=n>Integer</span> <span class=n>divisor</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>dividend</span> <span class=o>/</span> <span class=n>divisor</span><span class=o>;</span>
            <span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=n>4</span><span class=o>,</span> <span class=n>2</span><span class=o>)).</span><span class=na>onSuccess</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>::</span><span class=n>println</span><span class=o>).</span><span class=na>onFailure</span><span class=o>(</span><span class=n>e</span> <span class=o>-&gt;</span> <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>());</span>
            <span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=n>4</span><span class=o>,</span> <span class=n>0</span><span class=o>)).</span><span class=na>onSuccess</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>::</span><span class=n>println</span><span class=o>).</span><span class=na>onFailure</span><span class=o>(</span><span class=n>e</span> <span class=o>-&gt;</span> <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>());</span>
        <span class=o>}</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>);</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Functional Data Structures&#34;</span><span class=o>);</span>
        <span class=o>{</span>
            <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>2</span><span class=o>,</span> <span class=n>3</span><span class=o>).</span><span class=na>tail</span><span class=o>().</span><span class=na>prepend</span><span class=o>(</span><span class=n>1</span><span class=o>).</span><span class=na>map</span><span class=o>(</span><span class=n>o</span> <span class=o>-&gt;</span> <span class=n>o</span> <span class=o>*</span> <span class=n>2</span><span class=o>).</span><span class=na>forEach</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>::</span><span class=n>println</span><span class=o>);</span>
        <span class=o>}</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>);</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Collections&#34;</span><span class=o>);</span>
        <span class=o>{</span>
            <span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>list</span> <span class=o>=</span> <span class=n>List</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>2</span><span class=o>,</span> <span class=n>3</span><span class=o>).</span><span class=na>tail</span><span class=o>().</span><span class=na>prepend</span><span class=o>(</span><span class=n>1</span><span class=o>).</span><span class=na>toStream</span><span class=o>();</span>
            <span class=k>for</span> <span class=o>(</span><span class=n>Integer</span> <span class=n>i</span> <span class=o>:</span> <span class=n>list</span><span class=o>)</span> <span class=o>{</span>
                <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
            <span class=o>}</span>
        <span class=o>}</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>);</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Tuples&#34;</span><span class=o>);</span>
        <span class=o>{</span>
            <span class=n>Tuple3</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>BigDecimal</span><span class=o>&gt;</span> <span class=n>tuple</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Tuple3</span><span class=o>&lt;&gt;(</span><span class=s>&#34;El señor de los anillos&#34;</span><span class=o>,</span> <span class=n>1272</span><span class=o>,</span> <span class=k>new</span> <span class=n>BigDecimal</span><span class=o>(</span><span class=s>&#34;10.40&#34;</span><span class=o>));</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Titulo: %s, Páginas: %d, Precio: %.2f%n&#34;</span><span class=o>,</span> <span class=n>tuple</span><span class=o>.</span><span class=na>_1</span><span class=o>,</span> <span class=n>tuple</span><span class=o>.</span><span class=na>_2</span><span class=o>,</span> <span class=n>tuple</span><span class=o>.</span><span class=na>_3</span><span class=o>);</span>
        <span class=o>}</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>);</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;# Values&#34;</span><span class=o>);</span>
        <span class=o>{</span>
            <span class=n>Option</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=s>&#34;foo&#34;</span><span class=o>);</span>

            <span class=n>Lazy</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span> <span class=n>lazy</span> <span class=o>=</span> <span class=n>Lazy</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=nl>Math:</span><span class=o>:</span><span class=n>random</span><span class=o>);</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>lazy</span><span class=o>.</span><span class=na>get</span><span class=o>());</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>lazy</span><span class=o>.</span><span class=na>get</span><span class=o>());</span>

            <span class=n>CheckedFunction2</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>divide</span> <span class=o>=</span> <span class=o>(</span><span class=n>Integer</span> <span class=n>dividend</span><span class=o>,</span> <span class=n>Integer</span> <span class=n>divisor</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>dividend</span> <span class=o>/</span> <span class=n>divisor</span><span class=o>;</span>
            <span class=n>Either</span><span class=o>&lt;</span><span class=n>Throwable</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>value1</span> <span class=o>=</span> <span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=n>4</span><span class=o>,</span> <span class=n>2</span><span class=o>)).</span><span class=na>toEither</span><span class=o>();</span>
            <span class=n>Either</span><span class=o>&lt;</span><span class=n>Throwable</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>value2</span> <span class=o>=</span> <span class=n>Try</span><span class=o>.</span><span class=na>of</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=n>divide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=n>4</span><span class=o>,</span> <span class=n>0</span><span class=o>)).</span><span class=na>toEither</span><span class=o>();</span>

            <span class=n>value1</span><span class=o>.</span><span class=na>right</span><span class=o>().</span><span class=na>peek</span><span class=o>(</span><span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>::</span><span class=n>println</span><span class=o>);</span>
            <span class=n>value2</span><span class=o>.</span><span class=na>left</span><span class=o>().</span><span class=na>peek</span><span class=o>(</span><span class=n>e</span> <span class=o>-&gt;</span> <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>());</span>

            <span class=n>CheckedFunction1</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>,</span> <span class=n>Integer</span><span class=o>&gt;</span> <span class=n>curriedDivide</span> <span class=o>=</span> <span class=n>divide</span><span class=o>.</span><span class=na>curried</span><span class=o>().</span><span class=na>apply</span><span class=o>(</span><span class=n>10</span><span class=o>);</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>curriedDivide</span><span class=o>.</span><span class=na>apply</span><span class=o>(</span><span class=n>2</span><span class=o>));</span>

            <span class=n>Function0</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span> <span class=n>hashCache</span> <span class=o>=</span> <span class=n>Function0</span><span class=o>.</span><span class=na>of</span><span class=o>(</span><span class=nl>Math:</span><span class=o>:</span><span class=n>random</span><span class=o>).</span><span class=na>memoized</span><span class=o>();</span>

            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>hashCache</span><span class=o>.</span><span class=na>apply</span><span class=o>());</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>hashCache</span><span class=o>.</span><span class=na>apply</span><span class=o>());</span>

            <span class=n>Number</span> <span class=n>number</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Double</span><span class=o>(</span><span class=n>4</span><span class=o>.</span><span class=na>34</span><span class=o>);</span>
            <span class=n>Option</span><span class=o>&lt;</span><span class=n>Number</span><span class=o>&gt;</span> <span class=n>plusOne</span> <span class=o>=</span> <span class=n>Match</span><span class=o>(</span><span class=n>number</span><span class=o>).</span><span class=na>option</span><span class=o>(</span>
                <span class=n>Case</span><span class=o>(</span><span class=n>$</span><span class=o>(</span><span class=n>instanceOf</span><span class=o>(</span><span class=n>Integer</span><span class=o>.</span><span class=na>class</span><span class=o>)),</span> <span class=n>i</span> <span class=o>-&gt;</span> <span class=n>i</span> <span class=o>+</span> <span class=n>1</span><span class=o>),</span>
                <span class=n>Case</span><span class=o>(</span><span class=n>$</span><span class=o>(</span><span class=n>instanceOf</span><span class=o>(</span><span class=n>Double</span><span class=o>.</span><span class=na>class</span><span class=o>)),</span> <span class=n>d</span> <span class=o>-&gt;</span> <span class=n>d</span> <span class=o>+</span> <span class=n>2</span><span class=o>)</span>
            <span class=o>);</span>
            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>plusOne</span><span class=o>.</span><span class=na>get</span><span class=o>());</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/code/Main.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/code/Main.java target=_blank>Main.java</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Plaintext data-lang=Plaintext># Side-Effects
2
java.lang.ArithmeticException: / by zero
    at io.github.picodotdev.blogbitix.vavr.Main.lambda$main$8fab2fe6$1(Main.java:20)

    at io.github.picodotdev.blogbitix.vavr.Main.lambda$main$a54cc6af$2(Main.java:22)
# Functional Data Structures
    at io.vavr.control.Try.of(Try.java:75)
    at io.github.picodotdev.blogbitix.vavr.Main.main(Main.java:22)
2
4
6

# Collections
1
2
3

# Tuples
Titulo: El señor de los anillos, Páginas: 1272, Precio: 10,40

# Values
0.9017284202792532
0.9017284202792532
2
java.lang.ArithmeticException: / by zero
    at io.github.picodotdev.blogbitix.vavr.Main.lambda$main$8fab2fe6$2(Main.java:56)
    at io.github.picodotdev.blogbitix.vavr.Main.lambda$main$d82d4ab3$1(Main.java:58)
    at io.vavr.control.Try.of(Try.java:75)
    at io.github.picodotdev.blogbitix.vavr.Main.main(Main.java:58)
5
0.5015851774222647
0.5015851774222647
6.34</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/code/System.out target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/code/System.out target=_blank>System.out</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;java&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;application&#39;</span>

<span class=n>repositories</span> <span class=o>{</span>
    <span class=n>jcenter</span><span class=o>()</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=n>compile</span> <span class=s2>&#34;io.vavr:vavr:0.9.2&#34;</span>
<span class=o>}</span>

<span class=n>mainClassName</span> <span class=o>=</span> <span class=s1>&#39;io.github.picodotdev.blogbitix.vavr.Main&#39;</span>
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/code/build.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2017/12/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr/code/build.gradle target=_blank>build.gradle</a></div></div><p>La librería Varv es una de las que pongo como ejemplo en el artículo <a href=https://picodotdev.github.io/blog-bitix/2017/10/la-triste-realidad-de-java-versiones-antiguas/>La triste realidad de Java, versiones antiguas</a>, si es útil no usarla puede hacer que programar en Java no sea todo lo placentero que podría ser. Algunas de las críticas que recibe Java no tienen validez usando las herramientas o librerías adecuadas porque en cierta medida las herramientas importan aunque por ahí circule la idea de que las herramientas no importan, para una persona de negocio quizá no sin embargo para un desarrollador sí.</p><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/Vavr>código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href=https://github.com/>GitHub</a> y probarlo en tu equipo ejecutando el comando <code>./gradlew run</code>.</p><div class=reference>Referencia:<br><ul><li><a href=http://docs.vavr.io/>Documentación de Vavr</a></li><li><a href=http://www.javadoc.io/doc/io.vavr/vavr>Javadoc de Vavr</a></li></ul></div></div></article></div></div><div class="row related"><div class=col-md-12><h3>Artículos relacionados:</h3><ul><li><a href=/blog-bitix/2017/12/definir-nuevos-tipos-de-datos-escalares-en-graphql/>Definir nuevos tipos de datos escalares en GraphQL</a></li><li><a href=/blog-bitix/2017/11/paginacion-usando-cursores-en-graphql-y-java/>Paginación usando cursores en GraphQL y Java</a></li><li><a href=/blog-bitix/2017/11/consultas-con-parametros-para-filtrar-datos-en-graphql/>Consultas con parámetros para filtrar datos en GraphQL</a></li><li><a href=/blog-bitix/2017/11/usar-un-resolver-para-recuperar-propiedades-en-graphql/>Usar un resolver para recuperar propiedades en GraphQL</a></li><li><a href=/blog-bitix/2017/11/devolver-mensajes-de-error-descriptivos-en-graphql/>Devolver mensajes de error descriptivos en GraphQL</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class=col-12><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2017\/12\/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2017\/12\/introduccion-a-la-programacion-funcional-con-java-y-la-libreria-vavr\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div><div class="col-12 col-lg-4"><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:300px;height:600px data-ad-client=ca-pub-3533636310991304 data-ad-slot=9559414587 data-type=large-skycraper></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class=row><div class="col-md-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:336px;height:280px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2873752587 data-type=large-rectangle></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div></div><div class="row text-center banner"><div class=col-12><a href=https://picodotdev.github.io/blog-bitix/2015/12/yo-apoyo-al-software-libre-tu-tambien/><img src=assets/images/i-support-fs_red-bg-es.png alt="Yo apoyo al software libre"></a></div></div><div class=row><div class=col-md-12><hr></div></div><div class=row><div class=col-md-12><ul class="list-unstyled recents"><li><span class="glyphicon glyphicon-hand-right"></span><a href=archive/>Más artículos recientes en el archivo</a></li></ul></div></div></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property=dct:title><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property=cc:attributionName rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="picodotdev"><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Los servicios que necesitan almacenar datos como las bases de datos o un sistema de archivos tienen más restricciones que los servicios sin estado por la necesidad de tener acceso a esos datos. Esto hace que los contenedores puedan no tener tantan libertad para iniciarse en cualquier nodo. En Nomad una estategia es imponer ciertas restricciones a los servicios que almacenen estado para que solo se puedan iniciar en el nodo que donde estén almacenados. &hellip;"><base href=https://picodotdev.github.io/blog-bitix/><title>Servicios con persistencia en el orquestador de microservicos Nomad</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href=assets/css/font.css><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.3.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script type=text/javascript src=assets/js/require-config.js data-main=js/main defer></script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col-12><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><div class=row><div class=col-12><div class="adblock-sidebar adblock-sidebar-right"><div class=adblock-sidebar-container><ins class="adsbygoogle adblock-sidebar-vertical" style=display:block data-ad-client=ca-pub-3533636310991304 data-ad-slot=9933840986 data-ad-format="vertical, rectangle" data-type=auto></ins></div></div><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content="es"><meta itemprop=keywords content="planeta-codigo, programacion, software"><h1 itemprop=name>Servicios con persistencia en el orquestador de microservicos Nomad</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2019-04-26>26/04/2019</time>, actualizado el <time itemprop=dateModified datetime=2019-04-26>26/04/2019</time>.<br><a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a> <a href=tags/software/>software</a><br><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/#comments>Comentarios</a></p><p class=summary itemprop=about>Los servicios que necesitan almacenar datos como las bases de datos o un sistema de archivos tienen más restricciones que los servicios sin estado por la necesidad de tener acceso a esos datos. Esto hace que los contenedores puedan no tener tantan libertad para iniciarse en cualquier nodo. En Nomad una estategia es imponer ciertas restricciones a los servicios que almacenen estado para que solo se puedan iniciar en el nodo que donde estén almacenados.</p><div><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins></div><div class=content itemprop=articleBody><meta itemprop=wordCount content="1962"><div class=logotypes style=float:right><img src=assets/images/logotipos/nomad.svg class=right width=200 alt=Nomad title=Nomad></div><div class=logotypes style=float:right;clear:right><img src=assets/images/logotipos/hashicorp.svg class=right width=200 alt=HashiCorp title=HashiCorp></div><p>Algunos servicios no necesitan almacenar ningún estado porque no lo necesitan o porque el estado se mantiene en otro servicio. Que un servicio no necesite mantener estado es bueno porque de esta manera el servicio se puede escalar al número de instancias adecuadas para prestar el servicio, también porque si falla una instancia la petición puede ser reenviada a otra instancia, una instancia que falla puede ser reemplazada sin problema en otro <em>host</em>. Sin embargo, hay otro tipo de instancias que si almacenan estado como las bases de datos ya sea <a href=https://www.postgresql.org/>PostgreSQL</a>, <a href=https://www.mysql.com/>MySQL</a>, <a href=https://redis.io/>Redis</a>, <a href=https://www.mongodb.com/>MongoDB</a>, otra o simplemente archivos en el sistema de archivos.</p><p>Las instancias que tienen estado no son tan fáciles de reemplazar dado que los datos son necesarios para su funcionamiento, una instancia de un servicio con estado como no puede iniciarse en otro nodo libremente solo se puede iniciar en el nodo que contenga los datos. Eso o cuando el servicio se inicia en otro nodo los datos son trasladados o por algún mechanismo transparente a los servicios están disponibles en el nuevo nodo.</p><p>En <a href=https://docs.docker.com/swarm/>Docker Swarm</a> ciertos <em>drivers</em> de volúmenes pueden proporcionar volúmenes accesibles desde cualquier <em>host</em> del <em>cluster</em> pero por defecto <em>Swarm</em> no lo ofrece. En <a href=https://kubernetes.io/>Kubernetes</a> los volúmenes pueden ser dispositivos de almacenamiento provenientes de <a href=https://aws.amazon.com/es/ebs/>EBS</a> de modo que si un <em>pod</em> es movido a otro <em>host</em> basta con que el <em>pod</em> sea conectado de nuevo al EBS anterior y los datos están accesibles en el nuevo nodo.</p><p><a href=https://www.nomadproject.io/>Nomad</a> no proporciona soporte para que el almacenamiento persistente sea migrado a un nuevo nodo de Nomad si el servicio cambiado de ubicación. Para solventar esta limitación en el caso de los servicios con estado estos pueden ser tratados en cierta forma como animales de compañía o <em>pets</em> haciendo que siempre se ubiquen en el mismo nodo, una vez tiene siempre la misma ubicación basta con proporcionar el almacenamiento en el <em>host</em> ya sea en su sistema de archivos o para externalizarlo montando un almacenamiento <em>EBS</em>.</p><p>Para conseguir que un <em>job</em> de Nomad se ubique siempre en un mismo nodo hay que usar <a href=https://www.nomadproject.io/docs/job-specification/constraint.html>restricciones o <em>costraints</em> en la especificación del <em>job</em></a>. Las restricciones son las reglas que utiliza Nomad para elegir como candidatos los posibles nodos en los que ubicar el <em>job</em>, <em>task group</em> o <em>task</em>. Se pueden utilizar varios operadores entre los que está el de igualdad utilizado en el ejemplo. Una de las variables utilizables es el identificativo del nodo de Nomad, con él es posible conseguir que el <em>job</em> se ubique siempre en el mismo nodo. Los identificativos de los nodos son asignados por Nomad cuando se unen al <em>cluster</em>.</p><p>Con los siguientes comandos se inspecciona los nodos que forman parte del cluster de Nomad, entre sus datos está el identificativo de cada nodo formado por una cadena de 36 caracteres. En el modo verboso se emite el identificativo completo y una lista de propiedades del nodo entre los que están detalles de Consul, la CPU, <em>driver</em> que soporta, kernel, sistema operativo, &hellip; En documentación sobre <a href=https://www.nomadproject.io/docs/runtime/interpolation.html>interpolación de variables</a> hay una lista de variables disponibles.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ nomad node status
ID        DC         Name       Class   Drain  Eligibility  Status
44511e01  localhost  archlinux  &lt;none&gt;  <span class=nb>false</span>  eligible     ready

$ nomad node status 44511e01
<span class=nv>ID</span>            <span class=o>=</span> 44511e01
<span class=nv>Name</span>          <span class=o>=</span> archlinux
<span class=nv>Class</span>         <span class=o>=</span> &lt;none&gt;
<span class=nv>DC</span>            <span class=o>=</span> localhost
<span class=nv>Drain</span>         <span class=o>=</span> <span class=nb>false</span>
<span class=nv>Eligibility</span>   <span class=o>=</span> eligible
<span class=nv>Status</span>        <span class=o>=</span> ready
<span class=nv>Uptime</span>        <span class=o>=</span> 1h40m31s
Driver <span class=nv>Status</span> <span class=o>=</span> docker,exec,java,qemu,raw_exec

Node Events
Time                       Subsystem  Message
2019-04-26T17:57:41+02:00  Cluster    Node registered

Allocated Resources
CPU          Memory      Disk
0/30400 MHz  <span class=m>0</span> B/31 GiB  <span class=m>0</span> B/16 GiB

Allocation Resource Utilization
CPU          Memory
0/30400 MHz  <span class=m>0</span> B/31 GiB

Host Resource Utilization
CPU             Memory          Disk
3288/30400 MHz  5.2 GiB/31 GiB  <span class=o>(</span>tmpfs<span class=o>)</span>

Allocations
No allocations placed

$ nomad node status -verbose 44511e01
<span class=nv>ID</span>          <span class=o>=</span> 44511e01-34b8-c1e6-7fe5-60be0ff35d0e
<span class=nv>Name</span>        <span class=o>=</span> archlinux
<span class=nv>Class</span>       <span class=o>=</span> &lt;none&gt;
<span class=nv>DC</span>          <span class=o>=</span> localhost
<span class=nv>Drain</span>       <span class=o>=</span> <span class=nb>false</span>
<span class=nv>Eligibility</span> <span class=o>=</span> eligible
<span class=nv>Status</span>      <span class=o>=</span> ready
<span class=nv>Uptime</span>      <span class=o>=</span> 1h44m39s

Drivers
Driver    Detected  Healthy  Message                                                                         Time
docker    <span class=nb>true</span>      <span class=nb>true</span>     Healthy                                                                         2019-04-26T17:57:41+02:00
<span class=nb>exec</span>      <span class=nb>true</span>      <span class=nb>true</span>     Healthy                                                                         2019-04-26T17:57:41+02:00
java      <span class=nb>true</span>      <span class=nb>true</span>     Healthy                                                                         2019-04-26T17:57:41+02:00
qemu      <span class=nb>true</span>      <span class=nb>true</span>     Healthy                                                                         2019-04-26T17:57:41+02:00
raw_exec  <span class=nb>true</span>      <span class=nb>true</span>     Healthy                                                                         2019-04-26T17:57:41+02:00
rkt       <span class=nb>false</span>     <span class=nb>false</span>    Failed to execute rkt version: exec: <span class=s2>&#34;rkt&#34;</span>: executable file not found in <span class=nv>$PATH</span>  2019-04-26T17:57:41+02:00

Node Events
Time                       Subsystem  Message          Details
2019-04-26T17:57:41+02:00  Cluster    Node registered  &lt;none&gt;

Allocated Resources
CPU            Memory          Disk
100/30400 MHz  1.0 GiB/31 GiB  <span class=m>300</span> MiB/16 GiB

Allocation Resource Utilization
CPU           Memory
19/30400 MHz  <span class=m>38</span> MiB/31 GiB

Host Resource Utilization
CPU             Memory          Disk
4564/30400 MHz  5.5 GiB/31 GiB  <span class=o>(</span>tmpfs<span class=o>)</span>

Allocations
ID                                    Eval ID                               Node ID                               Task Group  Version  Desired  Status   Created                    Modified
cd45371d-501a-1373-dfde-bb16c4ff20d3  ab9f5675-b5cb-9e5f-8e20-cb308dbfba32  44511e01-34b8-c1e6-7fe5-60be0ff35d0e  services    <span class=m>3</span>        run      running  2019-04-26T18:14:28+02:00  2019-04-26T18:16:32+02:00

Attributes
consul.datacenter             <span class=o>=</span> localhost
consul.revision               <span class=o>=</span> ea5210a30
consul.server                 <span class=o>=</span> <span class=nb>true</span>
consul.version                <span class=o>=</span> 1.4.4
cpu.arch                      <span class=o>=</span> amd64
cpu.frequency                 <span class=o>=</span> <span class=m>3800</span>
cpu.modelname                 <span class=o>=</span> Intel<span class=o>(</span>R<span class=o>)</span> Core<span class=o>(</span>TM<span class=o>)</span> i5-8259U CPU @ 2.30GHz
cpu.numcores                  <span class=o>=</span> <span class=m>8</span>
cpu.totalcompute              <span class=o>=</span> <span class=m>30400</span>
driver.docker                 <span class=o>=</span> <span class=m>1</span>
driver.docker.bridge_ip       <span class=o>=</span> 172.17.0.1
driver.docker.os_type         <span class=o>=</span> linux
driver.docker.runtimes        <span class=o>=</span> runc
driver.docker.version         <span class=o>=</span> 18.09.4-ce
driver.docker.volumes.enabled <span class=o>=</span> <span class=nb>true</span>
driver.exec                   <span class=o>=</span> <span class=m>1</span>
driver.java                   <span class=o>=</span> <span class=m>1</span>
driver.java.runtime           <span class=o>=</span> OpenJDK Runtime Environment <span class=o>(</span>build 1.8.0_212-b01<span class=o>)</span>
driver.java.version           <span class=o>=</span> 1.8.0_212
driver.java.vm                <span class=o>=</span> OpenJDK 64-Bit Server VM <span class=o>(</span>build 25.212-b01, mixed mode<span class=o>)</span>
driver.qemu                   <span class=o>=</span> <span class=m>1</span>
driver.qemu.version           <span class=o>=</span> 3.1.0
driver.raw_exec               <span class=o>=</span> <span class=m>1</span>
kernel.name                   <span class=o>=</span> linux
kernel.version                <span class=o>=</span> 5.0.7-arch1-1-ARCH
memory.totalbytes             <span class=o>=</span> <span class=m>33592107008</span>
nomad.advertise.address       <span class=o>=</span> 127.0.0.1:4646
nomad.revision                <span class=o>=</span> 18dd59056ee1d7b2df51256fe900a98460d3d6b9
nomad.version                 <span class=o>=</span> 0.9.0
os.name                       <span class=o>=</span> arch
os.signals                    <span class=o>=</span> SIGQUIT,SIGTTOU,SIGFPE,SIGTRAP,SIGTSTP,SIGINT,SIGURG,SIGTTIN,SIGUSR1,SIGIO,SIGIOT,SIGKILL,SIGSTOP,SIGCONT,SIGILL,SIGPROF,SIGSEGV,SIGSYS,SIGTERM,SIGXFSZ,SIGHUP,SIGWINCH,SIGABRT,SIGBUS,SIGCHLD,SIGPIPE,SIGUSR2,SIGXCPU,SIGALRM
unique.cgroup.mountpoint      <span class=o>=</span> /sys/fs/cgroup
unique.consul.name            <span class=o>=</span> archlinux
unique.hostname               <span class=o>=</span> archlinux
unique.network.ip-address     <span class=o>=</span> 127.0.0.1
unique.storage.bytesfree      <span class=o>=</span> <span class=m>16795955200</span>
unique.storage.bytestotal     <span class=o>=</span> <span class=m>16796053504</span>
unique.storage.volume         <span class=o>=</span> tmpfs

Meta</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/nomad-status.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/nomad-status.sh target=_blank>nomad-status.sh</a></div></div><p>En este caso solo hay un nodo registrado en Nomad, la siguiente definición de <em>job</em> en el fragmento <em>constraint</em> hace que Nomad lo ubique siempre en él.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-plaintext data-lang=plaintext>job &#34;mongodb&#34; {
  datacenters = [&#34;localhost&#34;]

  type = &#34;service&#34;

  constraint {
    attribute = &#34;${node.unique.id}&#34;
    value     = &#34;44511e01-34b8-c1e6-7fe5-60be0ff35d0e&#34;
  }

  group &#34;services&#34; {
    count = 1

    task &#34;mongodb&#34; {
      driver = &#34;docker&#34;

      config {
        image = &#34;mongo:latest&#34;

        port_map {
          port = 27017
        }
        volumes = [
          &#34;/home/picodotdev/Software/nomad/mongodb:/data/db/&#34;
        ]
      }

      resources {
        memory = 1024 # MB

        network {
          port &#34;port&#34; {}
        }
      }
    }
  }
}
</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/mongodb.nomad target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/mongodb.nomad target=_blank>mongodb.nomad</a></div></div><p>Como el <em>job</em> se ubica en el mismo nodo siempre montando un directorio del nodo como un volumen de datos en el <em>job</em> y contenedor de <a href=https://www.docker.com/>Docker</a>, los datos se persisten en el sistema de archivos y transcienden al tiempo de vida del <em>job</em>, se puede iniciar el <em>job</em>, insertar datos en la base de datos en este caso de MongoDB, eliminar el <em>job</em>, volverlo a iniciar y los mismos datos están presentes en MongoDB.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ nomad job run mongodb.nomad

</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/nomad-job-run.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/nomad-job-run.sh target=_blank>nomad-job-run.sh</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                                    NAMES
b0d3f42c92fc        mongo:latest        <span class=s2>&#34;docker-entrypoint.s…&#34;</span>   <span class=m>3</span> minutes ago       Up <span class=m>3</span> minutes        127.0.0.1:20180-&gt;27017/tcp, 127.0.0.1:20180-&gt;27017/udp   mongodb-ea10d440-1176-3bfb-5301-7ccd17af0281
$ docker <span class=nb>exec</span> -it b0d3f42c92fc bash
root@b0d3f42c92fc:/# mongo
MongoDB shell version v4.0.9
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName<span class=o>=</span>mongodb
Implicit session: session <span class=o>{</span> <span class=s2>&#34;id&#34;</span> : UUID<span class=o>(</span><span class=s2>&#34;ba120679-b965-49d0-a774-dff39d6b630a&#34;</span><span class=o>)</span> <span class=o>}</span>
MongoDB server version: 4.0.9
Server has startup warnings: 
2019-04-26T16:47:49.308+0000 I STORAGE  <span class=o>[</span>initandlisten<span class=o>]</span> 
2019-04-26T16:47:49.308+0000 I STORAGE  <span class=o>[</span>initandlisten<span class=o>]</span> ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine
2019-04-26T16:47:49.308+0000 I STORAGE  <span class=o>[</span>initandlisten<span class=o>]</span> **          See http://dochub.mongodb.org/core/prodnotes-filesystem
2019-04-26T16:47:50.133+0000 I CONTROL  <span class=o>[</span>initandlisten<span class=o>]</span> 
2019-04-26T16:47:50.133+0000 I CONTROL  <span class=o>[</span>initandlisten<span class=o>]</span> ** WARNING: Access control is not enabled <span class=k>for</span> the database.
2019-04-26T16:47:50.133+0000 I CONTROL  <span class=o>[</span>initandlisten<span class=o>]</span> **          Read and write access to data and configuration is unrestricted.
2019-04-26T16:47:50.133+0000 I CONTROL  <span class=o>[</span>initandlisten<span class=o>]</span> 
---
Enable MongoDB<span class=s1>&#39;s free cloud-based monitoring service, which will then receive and display
</span><span class=s1>metrics about your deployment (disk utilization, CPU, operation statistics, etc).
</span><span class=s1>
</span><span class=s1>The monitoring data will be available on a MongoDB website with a unique URL accessible to you
</span><span class=s1>and anyone you share the URL with. MongoDB may use this information to make product
</span><span class=s1>improvements and to suggest MongoDB products and deployment options to you.
</span><span class=s1>
</span><span class=s1>To enable free monitoring, run the following command: db.enableFreeMonitoring()
</span><span class=s1>To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
</span><span class=s1>---
</span><span class=s1>
</span><span class=s1>&gt; db.articles.insert({title: &#34;Introducción a la base de datos NoSQL MongoDB&#34;, author: &#34;picodotdev&#34;, date: new Date(2017,05,18,12,30), tags: [&#39;</span>mongodb<span class=s1>&#39;, &#39;</span>database<span class=s1>&#39;, &#39;</span>NoSQL<span class=s1>&#39;], comments: [{user: &#34;jones&#34;, message: &#34;MongoDB is great!&#34;}, {user: &#34;lina&#34;, message: &#34;MongoDB is great!&#34;}]})
</span><span class=s1>WriteResult({ &#34;nInserted&#34; : 1 })
</span><span class=s1>&gt; db.articles.insert({title: &#34;Introducción a la base de datos relacional PostgreSQL&#34;, author: &#34;picodotdev&#34;, date: new Date(2017,05,17,12,00), likes: 100, tags: [&#39;</span>postgresql<span class=s1>&#39;, &#39;</span>database<span class=s1>&#39;, &#39;</span>SQL<span class=err>&#39;</span><span class=o>]</span>, comments: <span class=o>[</span><span class=o>{</span>user: <span class=s2>&#34;katy&#34;</span>, message: <span class=s2>&#34;PostgreSQL rocks!&#34;</span><span class=o>}</span>, <span class=o>{</span>user: <span class=s2>&#34;smith&#34;</span>, message: <span class=s2>&#34;SQL language is powerful!&#34;</span><span class=o>}</span><span class=o>]</span><span class=o>}</span><span class=o>)</span>
WriteResult<span class=o>(</span><span class=o>{</span> <span class=s2>&#34;nInserted&#34;</span> : <span class=m>1</span> <span class=o>}</span><span class=o>)</span>
&gt; db.articles.find<span class=o>(</span><span class=o>)</span>
<span class=o>{</span> <span class=s2>&#34;_id&#34;</span> : ObjectId<span class=o>(</span><span class=s2>&#34;5cc335873b17081f2ca1d4d5&#34;</span><span class=o>)</span>, <span class=s2>&#34;title&#34;</span> : <span class=s2>&#34;Introducción a la base de datos NoSQL MongoDB&#34;</span>, <span class=s2>&#34;author&#34;</span> : <span class=s2>&#34;picodotdev&#34;</span>, <span class=s2>&#34;date&#34;</span> : ISODate<span class=o>(</span><span class=s2>&#34;2017-06-18T12:30:00Z&#34;</span><span class=o>)</span>, <span class=s2>&#34;tags&#34;</span> : <span class=o>[</span> <span class=s2>&#34;mongodb&#34;</span>, <span class=s2>&#34;database&#34;</span>, <span class=s2>&#34;NoSQL&#34;</span> <span class=o>]</span>, <span class=s2>&#34;comments&#34;</span> : <span class=o>[</span> <span class=o>{</span> <span class=s2>&#34;user&#34;</span> : <span class=s2>&#34;jones&#34;</span>, <span class=s2>&#34;message&#34;</span> : <span class=s2>&#34;MongoDB is great!&#34;</span> <span class=o>}</span>, <span class=o>{</span> <span class=s2>&#34;user&#34;</span> : <span class=s2>&#34;lina&#34;</span>, <span class=s2>&#34;message&#34;</span> : <span class=s2>&#34;MongoDB is great!&#34;</span> <span class=o>}</span> <span class=o>]</span> <span class=o>}</span>
<span class=o>{</span> <span class=s2>&#34;_id&#34;</span> : ObjectId<span class=o>(</span><span class=s2>&#34;5cc335993b17081f2ca1d4d6&#34;</span><span class=o>)</span>, <span class=s2>&#34;title&#34;</span> : <span class=s2>&#34;Introducción a la base de datos relacional PostgreSQL&#34;</span>, <span class=s2>&#34;author&#34;</span> : <span class=s2>&#34;picodotdev&#34;</span>, <span class=s2>&#34;date&#34;</span> : ISODate<span class=o>(</span><span class=s2>&#34;2017-06-17T12:00:00Z&#34;</span><span class=o>)</span>, <span class=s2>&#34;likes&#34;</span> : 100, <span class=s2>&#34;tags&#34;</span> : <span class=o>[</span> <span class=s2>&#34;postgresql&#34;</span>, <span class=s2>&#34;database&#34;</span>, <span class=s2>&#34;SQL&#34;</span> <span class=o>]</span>, <span class=s2>&#34;comments&#34;</span> : <span class=o>[</span> <span class=o>{</span> <span class=s2>&#34;user&#34;</span> : <span class=s2>&#34;katy&#34;</span>, <span class=s2>&#34;message&#34;</span> : <span class=s2>&#34;PostgreSQL rocks!&#34;</span> <span class=o>}</span>, <span class=o>{</span> <span class=s2>&#34;user&#34;</span> : <span class=s2>&#34;smith&#34;</span>, <span class=s2>&#34;message&#34;</span> : <span class=s2>&#34;SQL language is powerful!&#34;</span> <span class=o>}</span> <span class=o>]</span> <span class=o>}</span>
&gt; db.articles.count<span class=o>(</span><span class=o>)</span>
<span class=m>2</span>
&gt; <span class=nb>exit</span>
bye
root@b0d3f42c92fc:/# <span class=nb>exit</span>
<span class=nb>exit</span>
$ nomad job stop --purge <span class=nv>mongodb</span>
<span class=o>=</span><span class=o>=</span>&gt; Monitoring evaluation <span class=s2>&#34;f10589c6&#34;</span>
    Evaluation triggered by job <span class=s2>&#34;mongodb&#34;</span>
    Evaluation status changed: <span class=s2>&#34;pending&#34;</span> -&gt; <span class=s2>&#34;complete&#34;</span>
<span class=o>=</span><span class=o>=</span>&gt; Evaluation <span class=s2>&#34;f10589c6&#34;</span> finished with status <span class=s2>&#34;complete&#34;</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/mongodb.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/mongodb.sh target=_blank>mongodb.sh</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ nomad job stop --prune mongodb

</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/nomad-job-stop.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/nomad-job-stop.sh target=_blank>nomad-job-stop.sh</a></div></div><p>Para iniciar <a href=https://www.consul.io/>Consul</a> y Nomad hay que utilizar los siguientes comandos y para el ejecutar <em>job</em> es requisito haber instalado Docker dado que en este ejemplo lo utiliza.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ consul agent -dev -datacenter <span class=nv>localhost</span>
<span class=o>=</span><span class=o>=</span>&gt; Starting Consul agent...
<span class=o>=</span><span class=o>=</span>&gt; Consul agent running!
           Version: <span class=s1>&#39;v1.4.4&#39;</span>
           Node ID: <span class=s1>&#39;34294bf0-5802-0d94-4acd-cf8c9d090205&#39;</span>
         Node name: <span class=s1>&#39;archlinux&#39;</span>
        Datacenter: <span class=s1>&#39;localhost&#39;</span> <span class=o>(</span>Segment: <span class=s1>&#39;&lt;all&gt;&#39;</span><span class=o>)</span>
            Server: <span class=nb>true</span> <span class=o>(</span>Bootstrap: <span class=nb>false</span><span class=o>)</span>
       Client Addr: <span class=o>[</span>127.0.0.1<span class=o>]</span> <span class=o>(</span>HTTP: 8500, HTTPS: -1, gRPC: 8502, DNS: 8600<span class=o>)</span>
      Cluster Addr: 127.0.0.1 <span class=o>(</span>LAN: 8301, WAN: 8302<span class=o>)</span>
           Encrypt: Gossip: false, TLS-Outgoing: false, TLS-Incoming: <span class=nb>false</span>

$ sudo nomad agent -dev -dc localhost
<span class=o>[</span>sudo<span class=o>]</span> password <span class=k>for</span> picodotdev: 
<span class=o>=</span><span class=o>=</span>&gt; No configuration files <span class=nv>loaded</span>
<span class=o>=</span><span class=o>=</span>&gt; Starting Nomad agent...
<span class=o>=</span><span class=o>=</span>&gt; Nomad agent configuration:

       Advertise Addrs: HTTP: 127.0.0.1:4646<span class=p>;</span> RPC: 127.0.0.1:4647<span class=p>;</span> Serf: 127.0.0.1:4648
            Bind Addrs: HTTP: 127.0.0.1:4646<span class=p>;</span> RPC: 127.0.0.1:4647<span class=p>;</span> Serf: 127.0.0.1:4648
                Client: <span class=nb>true</span>
             Log Level: DEBUG
                Region: global <span class=o>(</span>DC: localhost<span class=o>)</span>
                Server: <span class=nb>true</span>
               Version: 0.9.0</code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/consul-nomad.sh target=_blank>view raw</a></span>
<a href=/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/code/consul-nomad.sh target=_blank>consul-nomad.sh</a></div></div><p>Las restricciones se han de cumplir para elegir un nodo, por otro lado está también la afinidad. La <a href=https://www.nomadproject.io/docs/job-specification/affinity.html>afinidad</a> es una preferencia utilizada por Nomad al seleccionar los nodos que tratará de cumplir si hay algún nodo disponible con las propiedades de afinidad deseadas pero si no hay un nodo disponible se elige algún otro.</p><div class=reference>Referencia:<br><ul><li><a href=https://picodotdev.github.io/blog-bitix/2019/04/introduccion-a-nomad-para-gestionar-aplicaciones-y-microservicios/>Introducción a Nomad para gestionar aplicaciones y microservicios</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/04/estrategias-de-despliegue-para-microservicios-con-nomad/>Estrategias de despliegue para microservicios con Nomad</a></li><li><a href=https://www.nomadproject.io/guides/stateful-workloads/portworx.html>Portworx</a></li><li><a href=https://www.nomadproject.io/docs/job-specification/ephemeral_disk.html>Ephemeral Disk</a></li><li><a href=https://tech.trivago.com/2019/01/25/nomad-our-experiences-and-best-practices/>Nomad - our experiences and best practices</a></li><li><a href=https://picodotdev.github.io/blog-bitix/series/docker/>Serie de artículos sobre Docker</a></li></ul></div></div></article><div class="row serie"><div class=col-md-12><h3>Este artículo forma parte de la serie <strong>hashicorp</strong>:</h3><ol class=serie-articles><li><a href=https://picodotdev.github.io/blog-bitix/2019/04/introduccion-a-nomad-para-gestionar-aplicaciones-y-microservicios/>Introducción a Nomad para gestionar aplicaciones y microservicios</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/04/estrategias-de-despliegue-para-microservicios-con-nomad/>Estrategias de despliegue para microservicios con Nomad</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/04/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad/>Servicios con persistencia en el orquestador de microservicos Nomad</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/05/crear-de-forma-sencilla-y-rapida-maquinas-virtuales-de-virtualbox-con-vagrant/>Crear de forma sencilla y rápida máquinas virtuales de VirtualBox con Vagrant</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/05/registro-y-descubrimiento-de-servicios-en-contenedores-de-docker-con-consul-y-registrator/>Registro y descubrimiento de servicios en contenedores de Docker con Consul y Registrator</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/07/administrar-secretos-y-proteger-datos-sensibles-con-vault/>Administrar secretos y proteger datos sensibles con Vault</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/08/generar-credenciales-de-conexion-a-base-de-datos-bajo-demanda-con-vault/>Generar credenciales de conexión a base de datos bajo demanda con Vault</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/08/utilizar-credenciales-de-conexion-a-la-base-de-datos-generadas-por-vault-en-una-aplicacion-de-spring/>Utilizar credenciales de conexión a la base de datos generadas por Vault en una aplicación de Spring</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2019/10/microservicios-con-spring-cloud-consul-nomad-y-traefik/>Microservicios con Spring Cloud, Consul, Nomad y Traefik</a></li></ol></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='https:\/\/picodotdev.github.io\/blog-bitix\/2019\/04\/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad\/';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2019\/04\/servicios-con-persistencia-en-el-orquestador-de-microservicos-nomad\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property="dct:title"><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property="cc:attributionName" rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&times;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>
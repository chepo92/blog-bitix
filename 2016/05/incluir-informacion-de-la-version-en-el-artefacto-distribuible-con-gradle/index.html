<!doctype html><html lang=es><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="picodotdev"><meta name=keywords content="java,programacion,software,hardware,tapestry,software libre,gnu,linux,gnu/linux,unix,arch,arch linux,html,css,javascript"><meta name=description content="Tener trazabilidad entre el código fuente y el código que se está ejecutando en el entorno de producción es importante para saber cual es el origen de alguna excepción o error que se produzca. Con Gradle podemos conseguir esta trazabilidad haciendo unas pocas modificaciones al script de construcción. &mldr;"><base href=https://picodotdev.github.io/blog-bitix/><title>Incluir información de la versión en el artefacto distribuible con Gradle</title><link rel=author type=text/plain href=humans.txt><link rel="shortcut icon" href=assets/favicon.ico><link rel=apple-touch-icon-precomposed sizes=144x144 href=assets/apple-touch-icon-144-precomposed.png><link rel=canonical href=https://picodotdev.github.io/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/><link href=index.xml rel=alternate type=application/rss+xml title="Blog Bitix"><link rel=stylesheet type=text/css href=assets/css/font.css><link rel=stylesheet type=text/css href=assets/libs/bootstrap-4.3.1/css/bootstrap.min.css><link rel=stylesheet type=text/css href=assets/libs/Gallery-2.33.0/css/blueimp-gallery.min.css><link rel=stylesheet type=text/css href=assets/css/syntax.css><link rel=stylesheet type=text/css href=assets/css/main.css><script type=text/javascript src=assets/js/require-config.js data-main=js/main defer></script><script type=text/javascript src=assets/libs/require.js data-main=js/main defer></script><script src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js defer></script><script type=text/javascript defer>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:'ca-pub-3533636310991304',enable_page_level_ads:true});</script><script type=text/javascript defer>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-12874075-4','picodotdev.github.io');ga('send','pageview');</script><script type=text/javascript src="//platform-api.sharethis.com/js/sharethis.js#property=5920c4ce1bd0670011e06acd&product=inline-share-buttons" defer></script><script type=text/javascript src=assets/js/app.js defer></script></head><body><div class=container><div class=row><div class=col-12><header><div class=row><div class="col-12 col-lg-4"></div><div class="col-12 col-lg-4"><h2 class=title><a href=https://picodotdev.github.io/blog-bitix/>Blog Bitix</a></h2><div class=links><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class="col-12 col-lg-4 text-center"><form name=query class="form-inline search" onsubmit="return false;"><div class=input-group><input type=text name=q class=form-control placeholder="Buscar en Blog Bitix">
<span class=input-group-btn><button class="btn btn-secondary" type=submit>Buscar</button></span></div></form><form name=search action=https://duckduckgo.com/ method=get class=hidden data-site=https://picodotdev.github.io/blog-bitix/><input type=hidden name=q></form></div></div><div class=row><div class=col-12><nav class="nav nav-pills nav-fill"><a href=/blog-bitix/tags/java/ class="nav-item nav-link">Java</a>
<a href=/blog-bitix/tags/gnu-linux/ class="nav-item nav-link">GNU/Linux</a>
<a href=/blog-bitix/tags/javascript/ class="nav-item nav-link">JavaScript</a>
<a href=/blog-bitix/tags/tapestry/ class="nav-item nav-link">Tapestry</a>
<a href=/blog-bitix/archive/ class="nav-item nav-link">Archivo y hemeroteca</a>
<a href=/blog-bitix/pages/links/ class="nav-item nav-link">Enlaces</a>
<a href=/blog-bitix/pages/about/ class="nav-item nav-link">Acerca de...</a></nav></div></div></header></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><div class=row><div class=col-12><div class="adblock-sidebar adblock-sidebar-right"><div class=adblock-sidebar-container><ins class="adsbygoogle adblock-sidebar-vertical" style=display:block data-ad-client=ca-pub-3533636310991304 data-ad-slot=9933840986 data-ad-format="vertical, rectangle" data-type=auto></ins></div></div><article itemprop=mainEntity itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=inLanguage content="es"><meta itemprop=keywords content="java, planeta-codigo, programacion"><h1 itemprop=name>Incluir información de la versión en el artefacto distribuible con Gradle</h1><p class=information>Escrito por
<span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>picodotdev</span></span> el <time itemprop=datePublished datetime=2016-05-27>27/05/2016</time>, actualizado el <time itemprop=dateModified datetime=2016-05-27>27/05/2016</time>.<br><a href=tags/java/>java</a> <a href=tags/planeta-codigo/>planeta-codigo</a> <a href=tags/programacion/>programacion</a><br><a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/ itemprop=url>Enlace permanente</a>
<a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/#comments>Comentarios</a></p><p class=summary itemprop=about>Tener trazabilidad entre el código fuente y el código que se está ejecutando en el entorno de producción es importante para saber cual es el origen de alguna excepción o error que se produzca. Con Gradle podemos conseguir esta trazabilidad haciendo unas pocas modificaciones al <em>script</em> de construcción.</p><div><ins class=adsbygoogle style=display:inline-block;width:728px;height:90px data-ad-client=ca-pub-3533636310991304 data-ad-slot=5966819782 data-type=leaderboard></ins></div><div class=content itemprop=articleBody><meta itemprop=wordCount content="855"><div class=logotypes style=float:right><img src=assets/images/logotipos/java.svg class=right width=200 alt=Java title=Java></div><div class=logotypes style=float:right;clear:right><img src=assets/images/logotipos/gradle.svg class=right width=200 alt=Gradle title=Gradle></div><p>Toda aplicación en último término genera un artefacto destinado a ejecutarse en el entorno de producción o un entregable a su destinatario. En Java según el tipo de aplicación el artefacto es un archivo <em>jar</em> ejecutable, un archivo <em>war</em> si es una aplicación web, un archivo <em>zip</em> si proporcionamos el código fuente o la documentación en formato Javadoc de las clases del proyecto. Un aspecto importante que tarde o temprano nos interesará conocer es que versión de la aplicación y por tanto que código está desplegada en el entorno de producción. Con <a href=https://gradle.org/>Gradle</a> no es muy complicado añadir la suficiente información para conseguir esta trazabilidad.</p><p>La forma tradicional es dar un número de versión al proyecto, hay diferentes nomenclaturas dependiendo del grado de precisión que necesitemos, suele bastar versión mayor, versión menor, y corrección de errores, los tres números que se van incrementando. Si usamos <a href=https://jenkins.io/>Jenkins</a> para construir los artefactos nos puede interesar conocer el número de <em>build</em> que lo produjo o la fecha de creación. También nos puede interesar conocer el <em>hash</em> del último <em>commit</em> del código fuente del artefacto. Por otro lado puede que queramos que la aplicación nos informe de la versión que se está ejecutando ya que en algunas corporaciones el acesso al entorno de producción está restringido a sus administradores.</p><p>Para conseguir esta trazabilidad haremos dos modificaciones al archivo de construcción de Gradle, modificar el nombre del artefacto con el nombre de la <em>build</em> y el <em>hash</em> del <em>commit</em> e incluir en él un archivo <em>properties</em> con la información de la versión con el que la aplicación sea capaz de informar que versión es la que se está ejecutando. El <em>hash</em> del <em>commit</em> de <a href=https://git-scm.com/>Git</a> se obtiene con el comando <code>git log -n 1 &ndash;format=%h</code> ejecutando con las facilidades que proporciona <a href=https://www.groovy-lang.org/>Groovy</a>.</p><p>El nombre del artefacto se modifica con una clase cuyo método <em>toString()</em> proporciona la versión que podemos asignar a la propiedad <em>version</em> de la clase <a href=https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html>Project</a> definida con el archivo de construcción Gradle. Para proporcionar la información de la versión en la aplicación se incluye un archivo al construir el artefacto modificando la tarea <em>jar</em> y generando el archivo con la tarea <em>createBuildInfoFile</em>. Este es el archivo de construcción de Gradle y la clase que contiene la información de la versión que se coloca en el directorio <em>buildSrc</em>.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=kn>import</span> <span class=nn>io.github.picodotdev.blogbitix.gradleversion.build.ProjectVersion</span>

<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;idea&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;eclipse&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;java&#39;</span>
<span class=n>apply</span> <span class=nl>plugin:</span> <span class=s1>&#39;application&#39;</span>

<span class=n>version</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ProjectVersion</span><span class=o>(</span><span class=nl>major:</span> <span class=mi>1</span><span class=o>,</span> <span class=nl>minor:</span> <span class=mi>0</span><span class=o>,</span> <span class=nl>build:</span> <span class=n>System</span><span class=o>.</span><span class=na>env</span><span class=o>.</span><span class=na>BUILD_NUMBER</span><span class=o>,</span> <span class=nl>hash:</span> <span class=s2>&#34;git log -n 1 --format=%h&#34;</span><span class=o>.</span><span class=na>execute</span><span class=o>(</span><span class=o>)</span><span class=o>.</span><span class=na>text</span><span class=o>.</span><span class=na>trim</span><span class=o>(</span><span class=o>)</span><span class=o>)</span>
<span class=n>mainClassName</span> <span class=o>=</span> <span class=s1>&#39;io.github.picodotdev.blogbitix.gradleversion.Main&#39;</span>

<span class=n>repositories</span> <span class=o>{</span>
    <span class=n>mavenCentral</span><span class=o>(</span><span class=o>)</span>
<span class=o>}</span>

<span class=n>dependencies</span> <span class=o>{</span>
    <span class=n>compile</span> <span class=s1>&#39;org.slf4j:slf4j-api:1.7.21&#39;</span>
    <span class=n>runtime</span> <span class=s1>&#39;org.apache.logging.log4j:log4j-api:2.5&#39;</span>
    <span class=n>compile</span> <span class=s1>&#39;org.apache.logging.log4j:log4j-slf4j-impl:2.5&#39;</span>
    <span class=n>runtime</span> <span class=s1>&#39;org.apache.logging.log4j:log4j-core:2.5&#39;</span>
<span class=o>}</span>

<span class=n>task</span> <span class=nf>wrapper</span><span class=o>(</span><span class=nl>type:</span> <span class=n>Wrapper</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>gradleVersion</span> <span class=o>=</span> <span class=s1>&#39;2.13&#39;</span>
<span class=o>}</span>

<span class=n>task</span> <span class=n>createBuildInfoFile</span> <span class=o>&lt;</span><span class=o>&lt;</span> <span class=o>{</span>
    <span class=kt>def</span> <span class=n>file</span> <span class=o>=</span> <span class=k>new</span> <span class=n>File</span><span class=o>(</span><span class=s2>&#34;$buildDir/build-info.properties&#34;</span><span class=o>)</span>
    <span class=n>Properties</span> <span class=n>props</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Properties</span><span class=o>(</span><span class=o>)</span>
    <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s1>&#39;version&#39;</span><span class=o>,</span> <span class=n>project</span><span class=o>.</span><span class=na>version</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=o>)</span><span class=o>)</span>
    <span class=n>props</span><span class=o>.</span><span class=na>setProperty</span><span class=o>(</span><span class=s1>&#39;timestamp&#39;</span><span class=o>,</span> <span class=k>new</span> <span class=n>Date</span><span class=o>(</span><span class=o>)</span><span class=o>.</span><span class=na>toString</span><span class=o>(</span><span class=o>)</span><span class=o>)</span>
    <span class=n>props</span><span class=o>.</span><span class=na>store</span><span class=o>(</span><span class=n>file</span><span class=o>.</span><span class=na>newWriter</span><span class=o>(</span><span class=o>)</span><span class=o>,</span> <span class=kc>null</span><span class=o>)</span>
<span class=o>}</span>

<span class=n>jar</span> <span class=o>{</span>
    <span class=n>dependsOn</span> <span class=n>createBuildInfoFile</span>

    <span class=n>manifest</span> <span class=o>{</span>
        <span class=n>attributes</span> <span class=s1>&#39;Main-Class&#39;</span><span class=o>:</span> <span class=n>project</span><span class=o>.</span><span class=na>mainClassName</span>
    <span class=o>}</span>

    <span class=n>from</span><span class=o>(</span><span class=n>buildDir</span><span class=o>)</span> <span class=o>{</span>
        <span class=n>include</span> <span class=s1>&#39;build-info.properties&#39;</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/code/build.gradle target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/code/build.gradle target=_blank>build.gradle</a></div></div><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Groovy data-lang=Groovy><span class=kn>package</span> <span class=n>io</span><span class=o>.</span><span class=na>github</span><span class=o>.</span><span class=na>picodotdev</span><span class=o>.</span><span class=na>blogbitix</span><span class=o>.</span><span class=na>gradleversion</span><span class=o>.</span><span class=na>build</span>

<span class=kd>class</span> <span class=nc>ProjectVersion</span> <span class=o>{</span>

    <span class=kd>private</span> <span class=n>String</span> <span class=n>major</span>
    <span class=kd>private</span> <span class=n>String</span> <span class=n>minor</span>
    <span class=kd>private</span> <span class=n>String</span> <span class=n>build</span>
    <span class=kd>private</span> <span class=n>String</span> <span class=n>hash</span>

    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>(</span><span class=o>)</span> <span class=o>{</span>
        <span class=kt>def</span> <span class=n>strings</span> <span class=o>=</span> <span class=o>[</span><span class=o>]</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>major</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>strings</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>major</span><span class=o>)</span>
        <span class=o>}</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>minor</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>strings</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>minor</span><span class=o>)</span>
        <span class=o>}</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>build</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>strings</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=s2>&#34;b$build&#34;</span><span class=o>)</span>
        <span class=o>}</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>hash</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>strings</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>hash</span><span class=o>)</span>
        <span class=o>}</span>
        <span class=k>return</span> <span class=n>strings</span><span class=o>.</span><span class=na>join</span><span class=o>(</span><span class=s1>&#39;.&#39;</span><span class=o>)</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/code/ProjectVersion.groovy target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/code/ProjectVersion.groovy target=_blank>ProjectVersion.groovy</a></div></div><p>En el caso de un artefacto <em>jar</em> Gradle lo genera en <em>build/libs/GradleVersion-1.0.b42.fea4d2f.jar</em>. Ejecutando el <em>jar</em> con <code>java -jar build/libs/GradleVersion-1.0.b42.77c083e.jar</code> cuya clase con el método <em>main</em> informa de la versión leyendo el archivo <em>properties</em> incluído en el <em>jar</em> obtenemos la siguiente salida en la terminal.</p><div class=code><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kn>package</span> <span class=nn>io.github.picodotdev.blogbitix.gradleversion</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.io.InputStream</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.util.Properties</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>Main</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[</span><span class=o>]</span> <span class=n>args</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
        <span class=n>Properties</span> <span class=n>properties</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Properties</span><span class=o>(</span><span class=o>)</span><span class=o>;</span>
        <span class=n>InputStream</span> <span class=n>is</span> <span class=o>=</span> <span class=n>Main</span><span class=o>.</span><span class=na>class</span><span class=o>.</span><span class=na>getResourceAsStream</span><span class=o>(</span><span class=s>&#34;/build-info.properties&#34;</span><span class=o>)</span><span class=o>;</span>
        <span class=k>if</span> <span class=o>(</span><span class=n>is</span> <span class=o>!</span><span class=o>=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>properties</span><span class=o>.</span><span class=na>load</span><span class=o>(</span><span class=n>is</span><span class=o>)</span><span class=o>;</span>
        <span class=o>}</span>
        <span class=n>String</span> <span class=n>version</span> <span class=o>=</span> <span class=n>properties</span><span class=o>.</span><span class=na>getProperty</span><span class=o>(</span><span class=s>&#34;version&#34;</span><span class=o>)</span><span class=o>;</span>
        <span class=n>String</span> <span class=n>timestamp</span> <span class=o>=</span> <span class=n>properties</span><span class=o>.</span><span class=na>getProperty</span><span class=o>(</span><span class=s>&#34;timestamp&#34;</span><span class=o>)</span><span class=o>;</span>

        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Versión: %s%n&#34;</span><span class=o>,</span> <span class=n>version</span><span class=o>)</span><span class=o>;</span>
        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>printf</span><span class=o>(</span><span class=s>&#34;Timestamp: %s%n&#34;</span><span class=o>,</span> <span class=n>timestamp</span><span class=o>)</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span></code></pre></td></tr></table></div></div><div class=highlight-meta><span class=raw><a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/code/Main.java target=_blank>view raw</a></span>
<a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/code/Main.java target=_blank>Main.java</a></div></div><div class=media><figure><a href=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/images/gradle-version.png title="Artefacto distribuible con información de versión" data-gallery><img src=/blog-bitix/2016/05/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle/images/gradle-version-thumb.png width=275></a></figure></div><p>En este caso el artefacto que he usado ha sido un archivo <em>jar</em> si se tratase de una aplicación web y de un archivo <em>war</em> en el archivo de construcción de Grade se puede aplicar esto de forma similar. La aplicación podría devolver la versión como una cabecera <abbr title="HyperText Transfer Protocol">HTTP</abbr> o el en código fuente de <abbr title="HyperText Markup Language">HTML</abbr> como un comentario que genere sus páginas web.</p><p>El libro <a rel=nofollow href="https://www.amazon.es/gp/product/1617291307/ref=as_li_ss_tl?ie=UTF8&camp=3626&creative=24822&creativeASIN=1617291307&linkCode=as2&tag=blobit-21">Gradle in Action</a><img src="https://ir-es.amazon-adsystem.com/e/ir?t=blobit-21&l=as2&o=30&a=1617291307" width=1 height=1 border=0 alt style=border:none!important;margin:0!important> proporciona una aplicación más detallada de muchos conceptos de Gradle, otro buen punto de partida es la propia <a href=https://docs.gradle.org/current/userguide/userguide.html>documentación de Gradle</a>.</p><div class=media-amazon><iframe src="https://rcm-eu.amazon-adsystem.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=blobit-21&o=30&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=1617291307&internal=1" style=width:120px;height:240px scrolling=no marginwidth=0 marginheight=0 frameborder=0></iframe></div><p>El <a href=https://github.com/picodotdev/blog-ejemplos/tree/master/GradleVersion/>código fuente completo del ejemplo</a> puedes descargarlo del repositorio de ejemplos de Blog Bitix alojado en <a href=https://github.com/>GitHub</a> y probarlo en tu equipo ejecutando el comando <code>export BUILD_NUMBER=42 && ./gradlew build</code>.</p><div class=reference>Referencia:<br><ul><li><a href=https://elblogdepicodev.blogspot.com.es/2012/03/herramienta-de-construccion-gradle.html>Herramienta de construcción Gradle</a></li><li><a href=https://elblogdepicodev.blogspot.com.es/2012/04/usar-gradle-mediante-gradle-wrapper.html>Usar Gradle mediante Gradle wrapper</a></li><li><a href=https://picodotdev.github.io/blog-bitix/2015/09/ejemplo-de-multiproyecto-con-gradle/>Ejemplo de multiproyecto con Gradle</a></li></ul></div></div></article><div class="row related"><div class=col-md-12>Artículos relacionados:<ul><li><a href=/blog-bitix/2016/05/la-clase-threadlocal-de-java-y-usos-practicos/>La clase ThreadLocal de Java y usos prácticos</a></li><li><a href=/blog-bitix/2016/05/que-es-el-concepto-de-heap-pollution-en-java/>Qué es el concepto de Heap Pollution en Java</a></li><li><a href=/blog-bitix/2016/05/extraer-elementos-de-una-cadena-con-una-expresion-regular/>Extraer elementos de una cadena con una expresión regular</a></li><li><a href=/blog-bitix/2016/04/el-componente-grid-de-apache-tapestry/>El componente Grid de Apache Tapestry</a></li><li><a href=/blog-bitix/2016/04/tutorial-sobre-los-tipos-genericos-de-java/>Tutorial sobre los tipos genéricos de Java</a></li></ul></div></div><div class=row><div class=col-md-12><div class=sharethis-inline-share-buttons></div></div></div><div class=row><div class="col-12 text-center"><ins class=adsbygoogle style=display:inline-block;width:970px;height:250px data-ad-client=ca-pub-3533636310991304 data-ad-slot=2975854584 data-type=billboard></ins></div></div><a id=comments></a><div class=row><div class=col-md-12><div id=disqus_thread></div></div></div><script type=text/javascript async>var disqus_shortname='blog-bitix';var disqus_identifier='blog-bitix-145';var disqus_url='https:\/\/picodotdev.github.io\/blog-bitix\/2016\/05\/incluir-informacion-de-la-version-en-el-artefacto-distribuible-con-gradle\/';var disqus_script='embed.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script></div></div><div class=row><div class=col-12><hr></div></div><footer><div class=row><div class="col-12 col-sm-4"><p><strong>Blog Bitix</strong></p><p>Blog dedicado a la distribución GNU/Linux que uso habitualmente, Arch Linux, a mis andanzas alrededor del software libre, la programación y a otros temas relacionados con la tecnología y la informática.</p><p>Publicando de uno a tres artículos únicos a la semana desde el año 2010.</p></div><div class="col-12 col-sm-4 text-center menu"><ul class=list-unstyled><li><a href=/blog-bitix/tags/java/>Java</a></li><li><a href=/blog-bitix/tags/gnu-linux/>GNU/Linux</a></li><li><a href=/blog-bitix/tags/javascript/>JavaScript</a></li><li><a href=/blog-bitix/tags/tapestry/>Tapestry</a></li><li><a href=/blog-bitix/archive/>Archivo y hemeroteca</a></li><li><a href=/blog-bitix/pages/links/>Enlaces</a></li><li><a href=/blog-bitix/pages/advertising/>Publicidad</a></li><li><a href=/blog-bitix/pages/donate/>Donaciones</a></li><li><a href=/blog-bitix/pages/about/>Acerca de...</a></li></ul></div><div class="col-12 col-sm-4 text-center links"><a href=index.xml title="¡Suscríbete a Blog Bitix!"><img src=assets/images/rss.png class=icon></a>
<a href=https://twitter.com/picodotdev/ title="¡Sígueme en twitter!"><img src=assets/images/twitter.svg class=icon></a>
<a href=https://github.com/picodotdev/blog-ejemplos/ title="¡Obtén el código fuente de los ejemplos!"><img src=assets/images/github.svg class=icon></a></div></div><div class=row><div class=col-12>Copyleft <span class=copyleft>&copy;</span> 2019 - <a href=https://creativecommons.org/licenses/by-sa/4.0/ rel=nofollow rel=license><img alt="Licencia de Creative Commons" title="Licencia de Creative Commons" style=border-width:0 src=https://licensebuttons.net/l/by-sa/4.0/80x15.png class=licencia></a><br><a href=https://twitter.com/blogstackinfo rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/blog-stack.png alt="Blog Stack" title="Blog Stack"></a>
<a href=https://www.planetacodigo.com/ rel=nofollow><img src=https://picodotdev.github.io/blog-bitix/assets/images/planeta-codigo.png alt="Planeta código" title="Planeta código"></a><br><span xmlns:dct=http://purl.org/dc/terms/ property="dct:title"><a href=https://picodotdev.github.io/blog-bitix/ rel=nofollow>Blog Bitix</a></span> by <a xmlns:cc=https://creativecommons.org/ns# href=https://picodotdev.github.io/blog-bitix/ property="cc:attributionName" rel=cc:attributionurl>pico.dev</a> is licensed under a <a rel=license href=https://creativecommons.org/licenses/by-sa/4.0/>Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional License</a>.<br><span class=credit>Powered by <a href=https://gohugo.io/ rel=nofollow title="A fast and modern static website engine">Hugo</a> and <a href=https://pages.github.com/ title="Websites for you and your projects">GitHub Pages</a>.</span>
<span class=credit>Background patterns from <a href=https://www.toptal.com/designers/subtlepatterns/ rel=nofollow>Subtle Patterns</a>.</span></div></div></footer></div><div class=blueimp-gallery-container><div id=blueimp-gallery class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal=false><div class=slides></div><h3 class=title></h3><a class=prev>‹</a>
<a class=next>›</a>
<a class=close>×</a>
<a class=play-pause></a><ol class=indicator></ol><div class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close aria-hidden=true>&#215;</button><h4 class=modal-title></h4></div><div class="modal-body next"></div><div class=modal-footer><button type=button class="btn btn-default pull-left prev">
<i class="glyphicon glyphicon-chevron-left"></i>Anterior</button>
<button type=button class="btn btn-primary next">
Siguiente
<i class="glyphicon glyphicon-chevron-right"></i></button></div></div></div></div></div></div><script type=text/javascript>window.cookieconsent_options={"message":"Esta bitácora te informa de la obviedad de que utiliza «cookies», propias y de servicios como Google Analytics y Google AdSense entre otros.","dismiss":"Aceptar","learnMore":"Más información","link":null,"theme":"dark-bottom"};</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js async></script></body></html>